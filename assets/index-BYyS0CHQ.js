(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function gv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $p={exports:{}},ws={},Wp={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),yv=Symbol.for("react.portal"),vv=Symbol.for("react.fragment"),_v=Symbol.for("react.strict_mode"),Tv=Symbol.for("react.profiler"),Ev=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),wv=Symbol.for("react.forward_ref"),Cv=Symbol.for("react.suspense"),Sv=Symbol.for("react.memo"),xv=Symbol.for("react.lazy"),Tc=Symbol.iterator;function Av(t){return t===null||typeof t!="object"?null:(t=Tc&&t[Tc]||t["@@iterator"],typeof t=="function"?t:null)}var Jp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Kp=Object.assign,Yp={};function Hi(t,e,n){this.props=t,this.context=e,this.refs=Yp,this.updater=n||Jp}Hi.prototype.isReactComponent={};Hi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qp(){}Qp.prototype=Hi.prototype;function Kl(t,e,n){this.props=t,this.context=e,this.refs=Yp,this.updater=n||Jp}var Yl=Kl.prototype=new Qp;Yl.constructor=Kl;Kp(Yl,Hi.prototype);Yl.isPureReactComponent=!0;var Ec=Array.isArray,Xp=Object.prototype.hasOwnProperty,Ql={current:null},Zp={key:!0,ref:!0,__self:!0,__source:!0};function jp(t,e,n){var i,r={},o=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Xp.call(e,i)&&!Zp.hasOwnProperty(i)&&(r[i]=e[i]);var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}if(t&&t.defaultProps)for(i in u=t.defaultProps,u)r[i]===void 0&&(r[i]=u[i]);return{$$typeof:Gr,type:t,key:o,ref:s,props:r,_owner:Ql.current}}function kv(t,e){return{$$typeof:Gr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gr}function Nv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ic=/\/+/g;function Ys(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nv(""+t.key):e.toString(36)}function Eo(t,e,n,i,r){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gr:case yv:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+Ys(s,0):i,Ec(r)?(n="",t!=null&&(n=t.replace(Ic,"$&/")+"/"),Eo(r,e,n,"",function(d){return d})):r!=null&&(Xl(r)&&(r=kv(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(Ic,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",Ec(t))for(var u=0;u<t.length;u++){o=t[u];var c=i+Ys(o,u);s+=Eo(o,e,n,c,r)}else if(c=Av(t),typeof c=="function")for(t=c.call(t),u=0;!(o=t.next()).done;)o=o.value,c=i+Ys(o,u++),s+=Eo(o,e,n,c,r);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function jr(t,e,n){if(t==null)return t;var i=[],r=0;return Eo(t,i,"","",function(o){return e.call(n,o,r++)}),i}function Rv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fe={current:null},Io={transition:null},Pv={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Io,ReactCurrentOwner:Ql};function eh(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:jr,forEach:function(t,e,n){jr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return jr(t,function(){e++}),e},toArray:function(t){return jr(t,function(e){return e})||[]},only:function(t){if(!Xl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=Hi;J.Fragment=vv;J.Profiler=Tv;J.PureComponent=Kl;J.StrictMode=_v;J.Suspense=Cv;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv;J.act=eh;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Kp({},t.props),r=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Ql.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)Xp.call(e,c)&&!Zp.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];i.children=u}return{$$typeof:Gr,type:t.type,key:r,ref:o,props:i,_owner:s}};J.createContext=function(t){return t={$$typeof:Iv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ev,_context:t},t.Consumer=t};J.createElement=jp;J.createFactory=function(t){var e=jp.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:wv,render:t}};J.isValidElement=Xl;J.lazy=function(t){return{$$typeof:xv,_payload:{_status:-1,_result:t},_init:Rv}};J.memo=function(t,e){return{$$typeof:Sv,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Io.transition;Io.transition={};try{t()}finally{Io.transition=e}};J.unstable_act=eh;J.useCallback=function(t,e){return Fe.current.useCallback(t,e)};J.useContext=function(t){return Fe.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return Fe.current.useDeferredValue(t)};J.useEffect=function(t,e){return Fe.current.useEffect(t,e)};J.useId=function(){return Fe.current.useId()};J.useImperativeHandle=function(t,e,n){return Fe.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return Fe.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return Fe.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return Fe.current.useMemo(t,e)};J.useReducer=function(t,e,n){return Fe.current.useReducer(t,e,n)};J.useRef=function(t){return Fe.current.useRef(t)};J.useState=function(t){return Fe.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return Fe.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return Fe.current.useTransition()};J.version="18.3.1";Wp.exports=J;var q=Wp.exports;const Mv=gv(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv=q,Dv=Symbol.for("react.element"),Lv=Symbol.for("react.fragment"),Uv=Object.prototype.hasOwnProperty,Fv=bv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ov={key:!0,ref:!0,__self:!0,__source:!0};function th(t,e,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)Uv.call(e,i)&&!Ov.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Dv,type:t,key:o,ref:s,props:r,_owner:Fv.current}}ws.Fragment=Lv;ws.jsx=th;ws.jsxs=th;$p.exports=ws;var m=$p.exports,Da={},nh={exports:{}},Xe={},ih={exports:{}},rh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,b){var L=k.length;k.push(b);e:for(;0<L;){var O=L-1>>>1,Z=k[O];if(0<r(Z,b))k[O]=b,k[L]=Z,L=O;else break e}}function n(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var b=k[0],L=k.pop();if(L!==b){k[0]=L;e:for(var O=0,Z=k.length,je=Z>>>1;O<je;){var Mt=2*(O+1)-1,oi=k[Mt],bt=Mt+1,en=k[bt];if(0>r(oi,L))bt<Z&&0>r(en,oi)?(k[O]=en,k[bt]=L,O=bt):(k[O]=oi,k[Mt]=L,O=Mt);else if(bt<Z&&0>r(en,L))k[O]=en,k[bt]=L,O=bt;else break e}}return b}function r(k,b){var L=k.sortIndex-b.sortIndex;return L!==0?L:k.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],f=1,p=null,h=3,y=!1,T=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(k){for(var b=n(d);b!==null;){if(b.callback===null)i(d);else if(b.startTime<=k)i(d),b.sortIndex=b.expirationTime,e(c,b);else break;b=n(d)}}function I(k){if(E=!1,v(k),!T)if(n(c)!==null)T=!0,Ie(w);else{var b=n(d);b!==null&&M(I,b.startTime-k)}}function w(k,b){T=!1,E&&(E=!1,_(A),A=-1),y=!0;var L=h;try{for(v(b),p=n(c);p!==null&&(!(p.expirationTime>b)||k&&!B());){var O=p.callback;if(typeof O=="function"){p.callback=null,h=p.priorityLevel;var Z=O(p.expirationTime<=b);b=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===n(c)&&i(c),v(b)}else i(c);p=n(c)}if(p!==null)var je=!0;else{var Mt=n(d);Mt!==null&&M(I,Mt.startTime-b),je=!1}return je}finally{p=null,h=L,y=!1}}var C=!1,x=null,A=-1,P=5,R=-1;function B(){return!(t.unstable_now()-R<P)}function W(){if(x!==null){var k=t.unstable_now();R=k;var b=!0;try{b=x(!0,k)}finally{b?ee():(C=!1,x=null)}}else C=!1}var ee;if(typeof g=="function")ee=function(){g(W)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,ut=Pt.port2;Pt.port1.onmessage=W,ee=function(){ut.postMessage(null)}}else ee=function(){S(W,0)};function Ie(k){x=k,C||(C=!0,ee())}function M(k,b){A=S(function(){k(t.unstable_now())},b)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Ie(w))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(k){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var L=h;h=b;try{return k()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,b){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var L=h;h=k;try{return b()}finally{h=L}},t.unstable_scheduleCallback=function(k,b,L){var O=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?O+L:O):L=O,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=L+Z,k={id:f++,callback:b,priorityLevel:k,startTime:L,expirationTime:Z,sortIndex:-1},L>O?(k.sortIndex=L,e(d,k),n(c)===null&&k===n(d)&&(E?(_(A),A=-1):E=!0,M(I,L-O))):(k.sortIndex=Z,e(c,k),T||y||(T=!0,Ie(w))),k},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(k){var b=h;return function(){var L=h;h=b;try{return k.apply(this,arguments)}finally{h=L}}}})(rh);ih.exports=rh;var Vv=ih.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv=q,Qe=Vv;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oh=new Set,Ir={};function ei(t,e){bi(t,e),bi(t+"Capture",e)}function bi(t,e){for(Ir[t]=e,t=0;t<e.length;t++)oh.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),La=Object.prototype.hasOwnProperty,Bv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wc={},Cc={};function Gv(t){return La.call(Cc,t)?!0:La.call(wc,t)?!1:Bv.test(t)?Cc[t]=!0:(wc[t]=!0,!1)}function qv(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zv(t,e,n,i){if(e===null||typeof e>"u"||qv(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,n,i,r,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ae[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ae[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ae[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ae[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ae[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ae[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ae[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ae[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ae[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zl=/[\-:]([a-z])/g;function jl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zl,jl);Ae[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zl,jl);Ae[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zl,jl);Ae[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ae[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ae[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function eu(t,e,n,i){var r=Ae.hasOwnProperty(e)?Ae[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zv(e,n,r,i)&&(n=null),i||r===null?Gv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Xt=Hv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eo=Symbol.for("react.element"),ai=Symbol.for("react.portal"),li=Symbol.for("react.fragment"),tu=Symbol.for("react.strict_mode"),Ua=Symbol.for("react.profiler"),sh=Symbol.for("react.provider"),ah=Symbol.for("react.context"),nu=Symbol.for("react.forward_ref"),Fa=Symbol.for("react.suspense"),Oa=Symbol.for("react.suspense_list"),iu=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),lh=Symbol.for("react.offscreen"),Sc=Symbol.iterator;function Ki(t){return t===null||typeof t!="object"?null:(t=Sc&&t[Sc]||t["@@iterator"],typeof t=="function"?t:null)}var ce=Object.assign,Qs;function or(t){if(Qs===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qs=e&&e[1]||""}return`
`+Qs+t}var Xs=!1;function Zs(t,e){if(!t||Xs)return"";Xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){i=d}t.call(e.prototype)}else{try{throw Error()}catch(d){i=d}t()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,u=o.length-1;1<=s&&0<=u&&r[s]!==o[u];)u--;for(;1<=s&&0<=u;s--,u--)if(r[s]!==o[u]){if(s!==1||u!==1)do if(s--,u--,0>u||r[s]!==o[u]){var c=`
`+r[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=u);break}}}finally{Xs=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?or(t):""}function $v(t){switch(t.tag){case 5:return or(t.type);case 16:return or("Lazy");case 13:return or("Suspense");case 19:return or("SuspenseList");case 0:case 2:case 15:return t=Zs(t.type,!1),t;case 11:return t=Zs(t.type.render,!1),t;case 1:return t=Zs(t.type,!0),t;default:return""}}function Va(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case li:return"Fragment";case ai:return"Portal";case Ua:return"Profiler";case tu:return"StrictMode";case Fa:return"Suspense";case Oa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ah:return(t.displayName||"Context")+".Consumer";case sh:return(t._context.displayName||"Context")+".Provider";case nu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iu:return e=t.displayName||null,e!==null?e:Va(t.type)||"Memo";case on:e=t._payload,t=t._init;try{return Va(t(e))}catch{}}return null}function Wv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Va(e);case 8:return e===tu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uh(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jv(t){var e=uh(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function to(t){t._valueTracker||(t._valueTracker=Jv(t))}function ch(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=uh(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ha(t,e){var n=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xc(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=kn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dh(t,e){e=e.checked,e!=null&&eu(t,"checked",e,!1)}function Ba(t,e){dh(t,e);var n=kn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ga(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ga(t,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ac(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ga(t,e,n){(e!=="number"||Ho(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sr=Array.isArray;function Ei(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+kn(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function qa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(sr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kn(n)}}function fh(t,e){var n=kn(e.value),i=kn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Nc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ph(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function za(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ph(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var no,hh=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(no=no||document.createElement("div"),no.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=no.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kv=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(t){Kv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ur[e]=ur[t]})});function mh(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ur.hasOwnProperty(t)&&ur[t]?(""+e).trim():e+"px"}function gh(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=mh(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var Yv=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $a(t,e){if(e){if(Yv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Wa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ja=null;function ru(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ka=null,Ii=null,wi=null;function Rc(t){if(t=$r(t)){if(typeof Ka!="function")throw Error(N(280));var e=t.stateNode;e&&(e=ks(e),Ka(t.stateNode,t.type,e))}}function yh(t){Ii?wi?wi.push(t):wi=[t]:Ii=t}function vh(){if(Ii){var t=Ii,e=wi;if(wi=Ii=null,Rc(t),e)for(t=0;t<e.length;t++)Rc(e[t])}}function _h(t,e){return t(e)}function Th(){}var js=!1;function Eh(t,e,n){if(js)return t(e,n);js=!0;try{return _h(t,e,n)}finally{js=!1,(Ii!==null||wi!==null)&&(Th(),vh())}}function Cr(t,e){var n=t.stateNode;if(n===null)return null;var i=ks(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ya=!1;if(qt)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){Ya=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{Ya=!1}function Qv(t,e,n,i,r,o,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(f){this.onError(f)}}var cr=!1,Bo=null,Go=!1,Qa=null,Xv={onError:function(t){cr=!0,Bo=t}};function Zv(t,e,n,i,r,o,s,u,c){cr=!1,Bo=null,Qv.apply(Xv,arguments)}function jv(t,e,n,i,r,o,s,u,c){if(Zv.apply(this,arguments),cr){if(cr){var d=Bo;cr=!1,Bo=null}else throw Error(N(198));Go||(Go=!0,Qa=d)}}function ti(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ih(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pc(t){if(ti(t)!==t)throw Error(N(188))}function e_(t){var e=t.alternate;if(!e){if(e=ti(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return Pc(r),t;if(o===i)return Pc(r),e;o=o.sibling}throw Error(N(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,u=r.child;u;){if(u===n){s=!0,n=r,i=o;break}if(u===i){s=!0,i=r,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,i=r;break}if(u===i){s=!0,i=o,n=r;break}u=u.sibling}if(!s)throw Error(N(189))}}if(n.alternate!==i)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function wh(t){return t=e_(t),t!==null?Ch(t):null}function Ch(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ch(t);if(e!==null)return e;t=t.sibling}return null}var Sh=Qe.unstable_scheduleCallback,Mc=Qe.unstable_cancelCallback,t_=Qe.unstable_shouldYield,n_=Qe.unstable_requestPaint,ye=Qe.unstable_now,i_=Qe.unstable_getCurrentPriorityLevel,ou=Qe.unstable_ImmediatePriority,xh=Qe.unstable_UserBlockingPriority,qo=Qe.unstable_NormalPriority,r_=Qe.unstable_LowPriority,Ah=Qe.unstable_IdlePriority,Cs=null,xt=null;function o_(t){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Cs,t,void 0,(t.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:l_,s_=Math.log,a_=Math.LN2;function l_(t){return t>>>=0,t===0?32:31-(s_(t)/a_|0)|0}var io=64,ro=4194304;function ar(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zo(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var u=s&~r;u!==0?i=ar(u):(o&=s,o!==0&&(i=ar(o)))}else s=n&~r,s!==0?i=ar(s):o!==0&&(i=ar(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,o=e&-e,r>=o||r===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-mt(e),r=1<<n,i|=t[n],e&=~r;return i}function u_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c_(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-mt(o),u=1<<s,c=r[s];c===-1?(!(u&n)||u&i)&&(r[s]=u_(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}}function Xa(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kh(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function ea(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mt(e),t[e]=n}function d_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-mt(n),o=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~o}}function su(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-mt(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var j=0;function Nh(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Rh,au,Ph,Mh,bh,Za=!1,oo=[],yn=null,vn=null,_n=null,Sr=new Map,xr=new Map,an=[],f_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(t,e){switch(t){case"focusin":case"focusout":yn=null;break;case"dragenter":case"dragleave":vn=null;break;case"mouseover":case"mouseout":_n=null;break;case"pointerover":case"pointerout":Sr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(e.pointerId)}}function Qi(t,e,n,i,r,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},e!==null&&(e=$r(e),e!==null&&au(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function p_(t,e,n,i,r){switch(e){case"focusin":return yn=Qi(yn,t,e,n,i,r),!0;case"dragenter":return vn=Qi(vn,t,e,n,i,r),!0;case"mouseover":return _n=Qi(_n,t,e,n,i,r),!0;case"pointerover":var o=r.pointerId;return Sr.set(o,Qi(Sr.get(o)||null,t,e,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,xr.set(o,Qi(xr.get(o)||null,t,e,n,i,r)),!0}return!1}function Dh(t){var e=On(t.target);if(e!==null){var n=ti(e);if(n!==null){if(e=n.tag,e===13){if(e=Ih(n),e!==null){t.blockedOn=e,bh(t.priority,function(){Ph(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ja(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ja=i,n.target.dispatchEvent(i),Ja=null}else return e=$r(n),e!==null&&au(e),t.blockedOn=n,!1;e.shift()}return!0}function Dc(t,e,n){wo(t)&&n.delete(e)}function h_(){Za=!1,yn!==null&&wo(yn)&&(yn=null),vn!==null&&wo(vn)&&(vn=null),_n!==null&&wo(_n)&&(_n=null),Sr.forEach(Dc),xr.forEach(Dc)}function Xi(t,e){t.blockedOn===e&&(t.blockedOn=null,Za||(Za=!0,Qe.unstable_scheduleCallback(Qe.unstable_NormalPriority,h_)))}function Ar(t){function e(r){return Xi(r,t)}if(0<oo.length){Xi(oo[0],t);for(var n=1;n<oo.length;n++){var i=oo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(yn!==null&&Xi(yn,t),vn!==null&&Xi(vn,t),_n!==null&&Xi(_n,t),Sr.forEach(e),xr.forEach(e),n=0;n<an.length;n++)i=an[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Dh(n),n.blockedOn===null&&an.shift()}var Ci=Xt.ReactCurrentBatchConfig,$o=!0;function m_(t,e,n,i){var r=j,o=Ci.transition;Ci.transition=null;try{j=1,lu(t,e,n,i)}finally{j=r,Ci.transition=o}}function g_(t,e,n,i){var r=j,o=Ci.transition;Ci.transition=null;try{j=4,lu(t,e,n,i)}finally{j=r,Ci.transition=o}}function lu(t,e,n,i){if($o){var r=ja(t,e,n,i);if(r===null)ca(t,e,i,Wo,n),bc(t,i);else if(p_(r,t,e,n,i))i.stopPropagation();else if(bc(t,i),e&4&&-1<f_.indexOf(t)){for(;r!==null;){var o=$r(r);if(o!==null&&Rh(o),o=ja(t,e,n,i),o===null&&ca(t,e,i,Wo,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else ca(t,e,i,null,n)}}var Wo=null;function ja(t,e,n,i){if(Wo=null,t=ru(i),t=On(t),t!==null)if(e=ti(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ih(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wo=t,null}function Lh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(i_()){case ou:return 1;case xh:return 4;case qo:case r_:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var hn=null,uu=null,Co=null;function Uh(){if(Co)return Co;var t,e=uu,n=e.length,i,r="value"in hn?hn.value:hn.textContent,o=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[o-i];i++);return Co=r.slice(t,1<i?1-i:void 0)}function So(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function Lc(){return!1}function Ze(t){function e(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?so:Lc,this.isPropagationStopped=Lc,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),e}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cu=Ze(Bi),zr=ce({},Bi,{view:0,detail:0}),y_=Ze(zr),ta,na,Zi,Ss=ce({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:du,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(ta=t.screenX-Zi.screenX,na=t.screenY-Zi.screenY):na=ta=0,Zi=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),Uc=Ze(Ss),v_=ce({},Ss,{dataTransfer:0}),__=Ze(v_),T_=ce({},zr,{relatedTarget:0}),ia=Ze(T_),E_=ce({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=Ze(E_),w_=ce({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),C_=Ze(w_),S_=ce({},Bi,{data:0}),Fc=Ze(S_),x_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=k_[t])?!!e[t]:!1}function du(){return N_}var R_=ce({},zr,{key:function(t){if(t.key){var e=x_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=So(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:du,charCode:function(t){return t.type==="keypress"?So(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?So(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P_=Ze(R_),M_=ce({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=Ze(M_),b_=ce({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:du}),D_=Ze(b_),L_=ce({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),U_=Ze(L_),F_=ce({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O_=Ze(F_),V_=[9,13,27,32],fu=qt&&"CompositionEvent"in window,dr=null;qt&&"documentMode"in document&&(dr=document.documentMode);var H_=qt&&"TextEvent"in window&&!dr,Fh=qt&&(!fu||dr&&8<dr&&11>=dr),Vc=" ",Hc=!1;function Oh(t,e){switch(t){case"keyup":return V_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function B_(t,e){switch(t){case"compositionend":return Vh(e);case"keypress":return e.which!==32?null:(Hc=!0,Vc);case"textInput":return t=e.data,t===Vc&&Hc?null:t;default:return null}}function G_(t,e){if(ui)return t==="compositionend"||!fu&&Oh(t,e)?(t=Uh(),Co=uu=hn=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Fh&&e.locale!=="ko"?null:e.data;default:return null}}var q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q_[t.type]:e==="textarea"}function Hh(t,e,n,i){yh(i),e=Jo(e,"onChange"),0<e.length&&(n=new cu("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var fr=null,kr=null;function z_(t){Xh(t,0)}function xs(t){var e=fi(t);if(ch(e))return t}function $_(t,e){if(t==="change")return e}var Bh=!1;if(qt){var ra;if(qt){var oa="oninput"in document;if(!oa){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),oa=typeof Gc.oninput=="function"}ra=oa}else ra=!1;Bh=ra&&(!document.documentMode||9<document.documentMode)}function qc(){fr&&(fr.detachEvent("onpropertychange",Gh),kr=fr=null)}function Gh(t){if(t.propertyName==="value"&&xs(kr)){var e=[];Hh(e,kr,t,ru(t)),Eh(z_,e)}}function W_(t,e,n){t==="focusin"?(qc(),fr=e,kr=n,fr.attachEvent("onpropertychange",Gh)):t==="focusout"&&qc()}function J_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xs(kr)}function K_(t,e){if(t==="click")return xs(e)}function Y_(t,e){if(t==="input"||t==="change")return xs(e)}function Q_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yt=typeof Object.is=="function"?Object.is:Q_;function Nr(t,e){if(yt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!La.call(e,r)||!yt(t[r],e[r]))return!1}return!0}function zc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $c(t,e){var n=zc(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zc(n)}}function qh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zh(){for(var t=window,e=Ho();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ho(t.document)}return e}function pu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X_(t){var e=zh(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qh(n.ownerDocument.documentElement,n)){if(i!==null&&pu(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!t.extend&&o>i&&(r=i,i=o,o=r),r=$c(n,o);var s=$c(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Z_=qt&&"documentMode"in document&&11>=document.documentMode,ci=null,el=null,pr=null,tl=!1;function Wc(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tl||ci==null||ci!==Ho(i)||(i=ci,"selectionStart"in i&&pu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),pr&&Nr(pr,i)||(pr=i,i=Jo(el,"onSelect"),0<i.length&&(e=new cu("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ci)))}function ao(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var di={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},sa={},$h={};qt&&($h=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function As(t){if(sa[t])return sa[t];if(!di[t])return t;var e=di[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $h)return sa[t]=e[n];return t}var Wh=As("animationend"),Jh=As("animationiteration"),Kh=As("animationstart"),Yh=As("transitionend"),Qh=new Map,Jc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(t,e){Qh.set(t,e),ei(e,[t])}for(var aa=0;aa<Jc.length;aa++){var la=Jc[aa],j_=la.toLowerCase(),e0=la[0].toUpperCase()+la.slice(1);Pn(j_,"on"+e0)}Pn(Wh,"onAnimationEnd");Pn(Jh,"onAnimationIteration");Pn(Kh,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(Yh,"onTransitionEnd");bi("onMouseEnter",["mouseout","mouseover"]);bi("onMouseLeave",["mouseout","mouseover"]);bi("onPointerEnter",["pointerout","pointerover"]);bi("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function Kc(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,jv(i,e,void 0,t),t.currentTarget=null}function Xh(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var s=i.length-1;0<=s;s--){var u=i[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==o&&r.isPropagationStopped())break e;Kc(r,u,d),o=c}else for(s=0;s<i.length;s++){if(u=i[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==o&&r.isPropagationStopped())break e;Kc(r,u,d),o=c}}}if(Go)throw t=Qa,Go=!1,Qa=null,t}function re(t,e){var n=e[sl];n===void 0&&(n=e[sl]=new Set);var i=t+"__bubble";n.has(i)||(Zh(e,t,2,!1),n.add(i))}function ua(t,e,n){var i=0;e&&(i|=4),Zh(n,t,i,e)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Rr(t){if(!t[lo]){t[lo]=!0,oh.forEach(function(n){n!=="selectionchange"&&(t0.has(n)||ua(n,!1,t),ua(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lo]||(e[lo]=!0,ua("selectionchange",!1,e))}}function Zh(t,e,n,i){switch(Lh(e)){case 1:var r=m_;break;case 4:r=g_;break;default:r=lu}n=r.bind(null,e,n,t),r=void 0,!Ya||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function ca(t,e,n,i,r){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var u=i.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;s=s.return}for(;u!==null;){if(s=On(u),s===null)return;if(c=s.tag,c===5||c===6){i=o=s;continue e}u=u.parentNode}}i=i.return}Eh(function(){var d=o,f=ru(n),p=[];e:{var h=Qh.get(t);if(h!==void 0){var y=cu,T=t;switch(t){case"keypress":if(So(n)===0)break e;case"keydown":case"keyup":y=P_;break;case"focusin":T="focus",y=ia;break;case"focusout":T="blur",y=ia;break;case"beforeblur":case"afterblur":y=ia;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=__;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=D_;break;case Wh:case Jh:case Kh:y=I_;break;case Yh:y=U_;break;case"scroll":y=y_;break;case"wheel":y=O_;break;case"copy":case"cut":case"paste":y=C_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Oc}var E=(e&4)!==0,S=!E&&t==="scroll",_=E?h!==null?h+"Capture":null:h;E=[];for(var g=d,v;g!==null;){v=g;var I=v.stateNode;if(v.tag===5&&I!==null&&(v=I,_!==null&&(I=Cr(g,_),I!=null&&E.push(Pr(g,I,v)))),S)break;g=g.return}0<E.length&&(h=new y(h,T,null,n,f),p.push({event:h,listeners:E}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",h&&n!==Ja&&(T=n.relatedTarget||n.fromElement)&&(On(T)||T[zt]))break e;if((y||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=d,T=T?On(T):null,T!==null&&(S=ti(T),T!==S||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=d),y!==T)){if(E=Uc,I="onMouseLeave",_="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(E=Oc,I="onPointerLeave",_="onPointerEnter",g="pointer"),S=y==null?h:fi(y),v=T==null?h:fi(T),h=new E(I,g+"leave",y,n,f),h.target=S,h.relatedTarget=v,I=null,On(f)===d&&(E=new E(_,g+"enter",T,n,f),E.target=v,E.relatedTarget=S,I=E),S=I,y&&T)t:{for(E=y,_=T,g=0,v=E;v;v=si(v))g++;for(v=0,I=_;I;I=si(I))v++;for(;0<g-v;)E=si(E),g--;for(;0<v-g;)_=si(_),v--;for(;g--;){if(E===_||_!==null&&E===_.alternate)break t;E=si(E),_=si(_)}E=null}else E=null;y!==null&&Yc(p,h,y,E,!1),T!==null&&S!==null&&Yc(p,S,T,E,!0)}}e:{if(h=d?fi(d):window,y=h.nodeName&&h.nodeName.toLowerCase(),y==="select"||y==="input"&&h.type==="file")var w=$_;else if(Bc(h))if(Bh)w=Y_;else{w=J_;var C=W_}else(y=h.nodeName)&&y.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=K_);if(w&&(w=w(t,d))){Hh(p,w,n,f);break e}C&&C(t,h,d),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&Ga(h,"number",h.value)}switch(C=d?fi(d):window,t){case"focusin":(Bc(C)||C.contentEditable==="true")&&(ci=C,el=d,pr=null);break;case"focusout":pr=el=ci=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,Wc(p,n,f);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":Wc(p,n,f)}var x;if(fu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ui?Oh(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Fh&&n.locale!=="ko"&&(ui||A!=="onCompositionStart"?A==="onCompositionEnd"&&ui&&(x=Uh()):(hn=f,uu="value"in hn?hn.value:hn.textContent,ui=!0)),C=Jo(d,A),0<C.length&&(A=new Fc(A,t,null,n,f),p.push({event:A,listeners:C}),x?A.data=x:(x=Vh(n),x!==null&&(A.data=x)))),(x=H_?B_(t,n):G_(t,n))&&(d=Jo(d,"onBeforeInput"),0<d.length&&(f=new Fc("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:d}),f.data=x))}Xh(p,e)})}function Pr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jo(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=Cr(t,n),o!=null&&i.unshift(Pr(t,o,r)),o=Cr(t,e),o!=null&&i.push(Pr(t,o,r))),t=t.return}return i}function si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yc(t,e,n,i,r){for(var o=e._reactName,s=[];n!==null&&n!==i;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===i)break;u.tag===5&&d!==null&&(u=d,r?(c=Cr(n,o),c!=null&&s.unshift(Pr(n,c,u))):r||(c=Cr(n,o),c!=null&&s.push(Pr(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var n0=/\r\n?/g,i0=/\u0000|\uFFFD/g;function Qc(t){return(typeof t=="string"?t:""+t).replace(n0,`
`).replace(i0,"")}function uo(t,e,n){if(e=Qc(e),Qc(t)!==e&&n)throw Error(N(425))}function Ko(){}var nl=null,il=null;function rl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ol=typeof setTimeout=="function"?setTimeout:void 0,r0=typeof clearTimeout=="function"?clearTimeout:void 0,Xc=typeof Promise=="function"?Promise:void 0,o0=typeof queueMicrotask=="function"?queueMicrotask:typeof Xc<"u"?function(t){return Xc.resolve(null).then(t).catch(s0)}:ol;function s0(t){setTimeout(function(){throw t})}function da(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Ar(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Ar(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Gi=Math.random().toString(36).slice(2),St="__reactFiber$"+Gi,Mr="__reactProps$"+Gi,zt="__reactContainer$"+Gi,sl="__reactEvents$"+Gi,a0="__reactListeners$"+Gi,l0="__reactHandles$"+Gi;function On(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zt]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zc(t);t!==null;){if(n=t[St])return n;t=Zc(t)}return e}t=n,n=t.parentNode}return null}function $r(t){return t=t[St]||t[zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function ks(t){return t[Mr]||null}var al=[],pi=-1;function Mn(t){return{current:t}}function se(t){0>pi||(t.current=al[pi],al[pi]=null,pi--)}function ne(t,e){pi++,al[pi]=t.current,t.current=e}var Nn={},Me=Mn(Nn),Be=Mn(!1),$n=Nn;function Di(t,e){var n=t.type.contextTypes;if(!n)return Nn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ge(t){return t=t.childContextTypes,t!=null}function Yo(){se(Be),se(Me)}function jc(t,e,n){if(Me.current!==Nn)throw Error(N(168));ne(Me,e),ne(Be,n)}function jh(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(N(108,Wv(t)||"Unknown",r));return ce({},n,i)}function Qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nn,$n=Me.current,ne(Me,t),ne(Be,Be.current),!0}function ed(t,e,n){var i=t.stateNode;if(!i)throw Error(N(169));n?(t=jh(t,e,$n),i.__reactInternalMemoizedMergedChildContext=t,se(Be),se(Me),ne(Me,t)):se(Be),ne(Be,n)}var Lt=null,Ns=!1,fa=!1;function em(t){Lt===null?Lt=[t]:Lt.push(t)}function u0(t){Ns=!0,em(t)}function bn(){if(!fa&&Lt!==null){fa=!0;var t=0,e=j;try{var n=Lt;for(j=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Lt=null,Ns=!1}catch(r){throw Lt!==null&&(Lt=Lt.slice(t+1)),Sh(ou,bn),r}finally{j=e,fa=!1}}return null}var hi=[],mi=0,Xo=null,Zo=0,et=[],tt=0,Wn=null,Ut=1,Ft="";function Ln(t,e){hi[mi++]=Zo,hi[mi++]=Xo,Xo=t,Zo=e}function tm(t,e,n){et[tt++]=Ut,et[tt++]=Ft,et[tt++]=Wn,Wn=t;var i=Ut;t=Ft;var r=32-mt(i)-1;i&=~(1<<r),n+=1;var o=32-mt(e)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Ut=1<<32-mt(e)+r|n<<r|i,Ft=o+t}else Ut=1<<o|n<<r|i,Ft=t}function hu(t){t.return!==null&&(Ln(t,1),tm(t,1,0))}function mu(t){for(;t===Xo;)Xo=hi[--mi],hi[mi]=null,Zo=hi[--mi],hi[mi]=null;for(;t===Wn;)Wn=et[--tt],et[tt]=null,Ft=et[--tt],et[tt]=null,Ut=et[--tt],et[tt]=null}var Ke=null,We=null,ae=!1,pt=null;function nm(t,e){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function td(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ke=t,We=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ke=t,We=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wn!==null?{id:Ut,overflow:Ft}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ke=t,We=null,!0):!1;default:return!1}}function ll(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ul(t){if(ae){var e=We;if(e){var n=e;if(!td(t,e)){if(ll(t))throw Error(N(418));e=Tn(n.nextSibling);var i=Ke;e&&td(t,e)?nm(i,n):(t.flags=t.flags&-4097|2,ae=!1,Ke=t)}}else{if(ll(t))throw Error(N(418));t.flags=t.flags&-4097|2,ae=!1,Ke=t}}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ke=t}function co(t){if(t!==Ke)return!1;if(!ae)return nd(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rl(t.type,t.memoizedProps)),e&&(e=We)){if(ll(t))throw im(),Error(N(418));for(;e;)nm(t,e),e=Tn(e.nextSibling)}if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){We=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}We=null}}else We=Ke?Tn(t.stateNode.nextSibling):null;return!0}function im(){for(var t=We;t;)t=Tn(t.nextSibling)}function Li(){We=Ke=null,ae=!1}function gu(t){pt===null?pt=[t]:pt.push(t)}var c0=Xt.ReactCurrentBatchConfig;function ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var i=n.stateNode}if(!i)throw Error(N(147,t));var r=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var u=r.refs;s===null?delete u[o]:u[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function fo(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function id(t){var e=t._init;return e(t._payload)}function rm(t){function e(_,g){if(t){var v=_.deletions;v===null?(_.deletions=[g],_.flags|=16):v.push(g)}}function n(_,g){if(!t)return null;for(;g!==null;)e(_,g),g=g.sibling;return null}function i(_,g){for(_=new Map;g!==null;)g.key!==null?_.set(g.key,g):_.set(g.index,g),g=g.sibling;return _}function r(_,g){return _=Cn(_,g),_.index=0,_.sibling=null,_}function o(_,g,v){return _.index=v,t?(v=_.alternate,v!==null?(v=v.index,v<g?(_.flags|=2,g):v):(_.flags|=2,g)):(_.flags|=1048576,g)}function s(_){return t&&_.alternate===null&&(_.flags|=2),_}function u(_,g,v,I){return g===null||g.tag!==6?(g=_a(v,_.mode,I),g.return=_,g):(g=r(g,v),g.return=_,g)}function c(_,g,v,I){var w=v.type;return w===li?f(_,g,v.props.children,I,v.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===on&&id(w)===g.type)?(I=r(g,v.props),I.ref=ji(_,g,v),I.return=_,I):(I=Mo(v.type,v.key,v.props,null,_.mode,I),I.ref=ji(_,g,v),I.return=_,I)}function d(_,g,v,I){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Ta(v,_.mode,I),g.return=_,g):(g=r(g,v.children||[]),g.return=_,g)}function f(_,g,v,I,w){return g===null||g.tag!==7?(g=qn(v,_.mode,I,w),g.return=_,g):(g=r(g,v),g.return=_,g)}function p(_,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=_a(""+g,_.mode,v),g.return=_,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case eo:return v=Mo(g.type,g.key,g.props,null,_.mode,v),v.ref=ji(_,null,g),v.return=_,v;case ai:return g=Ta(g,_.mode,v),g.return=_,g;case on:var I=g._init;return p(_,I(g._payload),v)}if(sr(g)||Ki(g))return g=qn(g,_.mode,v,null),g.return=_,g;fo(_,g)}return null}function h(_,g,v,I){var w=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return w!==null?null:u(_,g,""+v,I);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eo:return v.key===w?c(_,g,v,I):null;case ai:return v.key===w?d(_,g,v,I):null;case on:return w=v._init,h(_,g,w(v._payload),I)}if(sr(v)||Ki(v))return w!==null?null:f(_,g,v,I,null);fo(_,v)}return null}function y(_,g,v,I,w){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(v)||null,u(g,_,""+I,w);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case eo:return _=_.get(I.key===null?v:I.key)||null,c(g,_,I,w);case ai:return _=_.get(I.key===null?v:I.key)||null,d(g,_,I,w);case on:var C=I._init;return y(_,g,v,C(I._payload),w)}if(sr(I)||Ki(I))return _=_.get(v)||null,f(g,_,I,w,null);fo(g,I)}return null}function T(_,g,v,I){for(var w=null,C=null,x=g,A=g=0,P=null;x!==null&&A<v.length;A++){x.index>A?(P=x,x=null):P=x.sibling;var R=h(_,x,v[A],I);if(R===null){x===null&&(x=P);break}t&&x&&R.alternate===null&&e(_,x),g=o(R,g,A),C===null?w=R:C.sibling=R,C=R,x=P}if(A===v.length)return n(_,x),ae&&Ln(_,A),w;if(x===null){for(;A<v.length;A++)x=p(_,v[A],I),x!==null&&(g=o(x,g,A),C===null?w=x:C.sibling=x,C=x);return ae&&Ln(_,A),w}for(x=i(_,x);A<v.length;A++)P=y(x,_,A,v[A],I),P!==null&&(t&&P.alternate!==null&&x.delete(P.key===null?A:P.key),g=o(P,g,A),C===null?w=P:C.sibling=P,C=P);return t&&x.forEach(function(B){return e(_,B)}),ae&&Ln(_,A),w}function E(_,g,v,I){var w=Ki(v);if(typeof w!="function")throw Error(N(150));if(v=w.call(v),v==null)throw Error(N(151));for(var C=w=null,x=g,A=g=0,P=null,R=v.next();x!==null&&!R.done;A++,R=v.next()){x.index>A?(P=x,x=null):P=x.sibling;var B=h(_,x,R.value,I);if(B===null){x===null&&(x=P);break}t&&x&&B.alternate===null&&e(_,x),g=o(B,g,A),C===null?w=B:C.sibling=B,C=B,x=P}if(R.done)return n(_,x),ae&&Ln(_,A),w;if(x===null){for(;!R.done;A++,R=v.next())R=p(_,R.value,I),R!==null&&(g=o(R,g,A),C===null?w=R:C.sibling=R,C=R);return ae&&Ln(_,A),w}for(x=i(_,x);!R.done;A++,R=v.next())R=y(x,_,A,R.value,I),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?A:R.key),g=o(R,g,A),C===null?w=R:C.sibling=R,C=R);return t&&x.forEach(function(W){return e(_,W)}),ae&&Ln(_,A),w}function S(_,g,v,I){if(typeof v=="object"&&v!==null&&v.type===li&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case eo:e:{for(var w=v.key,C=g;C!==null;){if(C.key===w){if(w=v.type,w===li){if(C.tag===7){n(_,C.sibling),g=r(C,v.props.children),g.return=_,_=g;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===on&&id(w)===C.type){n(_,C.sibling),g=r(C,v.props),g.ref=ji(_,C,v),g.return=_,_=g;break e}n(_,C);break}else e(_,C);C=C.sibling}v.type===li?(g=qn(v.props.children,_.mode,I,v.key),g.return=_,_=g):(I=Mo(v.type,v.key,v.props,null,_.mode,I),I.ref=ji(_,g,v),I.return=_,_=I)}return s(_);case ai:e:{for(C=v.key;g!==null;){if(g.key===C)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(_,g.sibling),g=r(g,v.children||[]),g.return=_,_=g;break e}else{n(_,g);break}else e(_,g);g=g.sibling}g=Ta(v,_.mode,I),g.return=_,_=g}return s(_);case on:return C=v._init,S(_,g,C(v._payload),I)}if(sr(v))return T(_,g,v,I);if(Ki(v))return E(_,g,v,I);fo(_,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(_,g.sibling),g=r(g,v),g.return=_,_=g):(n(_,g),g=_a(v,_.mode,I),g.return=_,_=g),s(_)):n(_,g)}return S}var Ui=rm(!0),om=rm(!1),jo=Mn(null),es=null,gi=null,yu=null;function vu(){yu=gi=es=null}function _u(t){var e=jo.current;se(jo),t._currentValue=e}function cl(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Si(t,e){es=t,yu=gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(yu!==t)if(t={context:t,memoizedValue:e,next:null},gi===null){if(es===null)throw Error(N(308));gi=t,es.dependencies={lanes:0,firstContext:t}}else gi=gi.next=t;return e}var Vn=null;function Tu(t){Vn===null?Vn=[t]:Vn.push(t)}function sm(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Tu(e)):(n.next=r.next,r.next=n),e.interleaved=n,$t(t,i)}function $t(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sn=!1;function Eu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Q&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,$t(t,n)}return r=i.interleaved,r===null?(e.next=e,Tu(i)):(e.next=r.next,r.next=e),i.interleaved=e,$t(t,n)}function xo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,su(t,n)}}function rd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=e:o=o.next=e}else r=o=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ts(t,e,n,i){var r=t.updateQueue;sn=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?o=d:s.next=d,s=c;var f=t.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==s&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(o!==null){var p=r.baseState;s=0,f=d=c=null,u=o;do{var h=u.lane,y=u.eventTime;if((i&h)===h){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=t,E=u;switch(h=e,y=n,E.tag){case 1:if(T=E.payload,typeof T=="function"){p=T.call(y,p,h);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,h=typeof T=="function"?T.call(y,p,h):T,h==null)break e;p=ce({},p,h);break e;case 2:sn=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[u]:h.push(u))}else y={eventTime:y,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=y,c=p):f=f.next=y,s|=h;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;h=u,u=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(f===null&&(c=p),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else o===null&&(r.shared.lanes=0);Kn|=s,t.lanes=s,t.memoizedState=p}}function od(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(N(191,r));r.call(i)}}}var Wr={},At=Mn(Wr),br=Mn(Wr),Dr=Mn(Wr);function Hn(t){if(t===Wr)throw Error(N(174));return t}function Iu(t,e){switch(ne(Dr,e),ne(br,t),ne(At,Wr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:za(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=za(e,t)}se(At),ne(At,e)}function Fi(){se(At),se(br),se(Dr)}function lm(t){Hn(Dr.current);var e=Hn(At.current),n=za(e,t.type);e!==n&&(ne(br,t),ne(At,n))}function wu(t){br.current===t&&(se(At),se(br))}var le=Mn(0);function ns(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pa=[];function Cu(){for(var t=0;t<pa.length;t++)pa[t]._workInProgressVersionPrimary=null;pa.length=0}var Ao=Xt.ReactCurrentDispatcher,ha=Xt.ReactCurrentBatchConfig,Jn=0,ue=null,Te=null,we=null,is=!1,hr=!1,Lr=0,d0=0;function ke(){throw Error(N(321))}function Su(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yt(t[n],e[n]))return!1;return!0}function xu(t,e,n,i,r,o){if(Jn=o,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ao.current=t===null||t.memoizedState===null?m0:g0,t=n(i,r),hr){o=0;do{if(hr=!1,Lr=0,25<=o)throw Error(N(301));o+=1,we=Te=null,e.updateQueue=null,Ao.current=y0,t=n(i,r)}while(hr)}if(Ao.current=rs,e=Te!==null&&Te.next!==null,Jn=0,we=Te=ue=null,is=!1,e)throw Error(N(300));return t}function Au(){var t=Lr!==0;return Lr=0,t}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ue.memoizedState=we=t:we=we.next=t,we}function at(){if(Te===null){var t=ue.alternate;t=t!==null?t.memoizedState:null}else t=Te.next;var e=we===null?ue.memoizedState:we.next;if(e!==null)we=e,Te=t;else{if(t===null)throw Error(N(310));Te=t,t={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},we===null?ue.memoizedState=we=t:we=we.next=t}return we}function Ur(t,e){return typeof e=="function"?e(t):e}function ma(t){var e=at(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var i=Te,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var u=s=null,c=null,d=o;do{var f=d.lane;if((Jn&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:t(i,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,s=i):c=c.next=p,ue.lanes|=f,Kn|=f}d=d.next}while(d!==null&&d!==o);c===null?s=i:c.next=u,yt(i,e.memoizedState)||(He=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do o=r.lane,ue.lanes|=o,Kn|=o,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ga(t){var e=at(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,o=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=t(o,s.action),s=s.next;while(s!==r);yt(o,e.memoizedState)||(He=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function um(){}function cm(t,e){var n=ue,i=at(),r=e(),o=!yt(i.memoizedState,r);if(o&&(i.memoizedState=r,He=!0),i=i.queue,ku(pm.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Fr(9,fm.bind(null,n,i,r,e),void 0,null),Ce===null)throw Error(N(349));Jn&30||dm(n,e,r)}return r}function dm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fm(t,e,n,i){e.value=n,e.getSnapshot=i,hm(e)&&mm(t)}function pm(t,e,n){return n(function(){hm(e)&&mm(t)})}function hm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yt(t,n)}catch{return!0}}function mm(t){var e=$t(t,1);e!==null&&gt(e,t,1,-1)}function sd(t){var e=Ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:t},e.queue=t,t=t.dispatch=h0.bind(null,ue,t),[e.memoizedState,t]}function Fr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function gm(){return at().memoizedState}function ko(t,e,n,i){var r=Ct();ue.flags|=t,r.memoizedState=Fr(1|e,n,void 0,i===void 0?null:i)}function Rs(t,e,n,i){var r=at();i=i===void 0?null:i;var o=void 0;if(Te!==null){var s=Te.memoizedState;if(o=s.destroy,i!==null&&Su(i,s.deps)){r.memoizedState=Fr(e,n,o,i);return}}ue.flags|=t,r.memoizedState=Fr(1|e,n,o,i)}function ad(t,e){return ko(8390656,8,t,e)}function ku(t,e){return Rs(2048,8,t,e)}function ym(t,e){return Rs(4,2,t,e)}function vm(t,e){return Rs(4,4,t,e)}function _m(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Tm(t,e,n){return n=n!=null?n.concat([t]):null,Rs(4,4,_m.bind(null,e,t),n)}function Nu(){}function Em(t,e){var n=at();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Su(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Im(t,e){var n=at();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Su(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function wm(t,e,n){return Jn&21?(yt(n,e)||(n=kh(),ue.lanes|=n,Kn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function f0(t,e){var n=j;j=n!==0&&4>n?n:4,t(!0);var i=ha.transition;ha.transition={};try{t(!1),e()}finally{j=n,ha.transition=i}}function Cm(){return at().memoizedState}function p0(t,e,n){var i=wn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Sm(t))xm(e,n);else if(n=sm(t,e,n,i),n!==null){var r=Le();gt(n,t,i,r),Am(n,e,i)}}function h0(t,e,n){var i=wn(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Sm(t))xm(e,r);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,u=o(s,n);if(r.hasEagerState=!0,r.eagerState=u,yt(u,s)){var c=e.interleaved;c===null?(r.next=r,Tu(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=sm(t,e,r,i),n!==null&&(r=Le(),gt(n,t,i,r),Am(n,e,i))}}function Sm(t){var e=t.alternate;return t===ue||e!==null&&e===ue}function xm(t,e){hr=is=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Am(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,su(t,n)}}var rs={readContext:st,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},m0={readContext:st,useCallback:function(t,e){return Ct().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:ad,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ko(4194308,4,_m.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ko(4194308,4,t,e)},useInsertionEffect:function(t,e){return ko(4,2,t,e)},useMemo:function(t,e){var n=Ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Ct();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=p0.bind(null,ue,t),[i.memoizedState,t]},useRef:function(t){var e=Ct();return t={current:t},e.memoizedState=t},useState:sd,useDebugValue:Nu,useDeferredValue:function(t){return Ct().memoizedState=t},useTransition:function(){var t=sd(!1),e=t[0];return t=f0.bind(null,t[1]),Ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ue,r=Ct();if(ae){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),Ce===null)throw Error(N(349));Jn&30||dm(i,e,n)}r.memoizedState=n;var o={value:n,getSnapshot:e};return r.queue=o,ad(pm.bind(null,i,o,t),[t]),i.flags|=2048,Fr(9,fm.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=Ct(),e=Ce.identifierPrefix;if(ae){var n=Ft,i=Ut;n=(i&~(1<<32-mt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Lr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=d0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},g0={readContext:st,useCallback:Em,useContext:st,useEffect:ku,useImperativeHandle:Tm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:Im,useReducer:ma,useRef:gm,useState:function(){return ma(Ur)},useDebugValue:Nu,useDeferredValue:function(t){var e=at();return wm(e,Te.memoizedState,t)},useTransition:function(){var t=ma(Ur)[0],e=at().memoizedState;return[t,e]},useMutableSource:um,useSyncExternalStore:cm,useId:Cm,unstable_isNewReconciler:!1},y0={readContext:st,useCallback:Em,useContext:st,useEffect:ku,useImperativeHandle:Tm,useInsertionEffect:ym,useLayoutEffect:vm,useMemo:Im,useReducer:ga,useRef:gm,useState:function(){return ga(Ur)},useDebugValue:Nu,useDeferredValue:function(t){var e=at();return Te===null?e.memoizedState=t:wm(e,Te.memoizedState,t)},useTransition:function(){var t=ga(Ur)[0],e=at().memoizedState;return[t,e]},useMutableSource:um,useSyncExternalStore:cm,useId:Cm,unstable_isNewReconciler:!1};function dt(t,e){if(t&&t.defaultProps){e=ce({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function dl(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ce({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ps={isMounted:function(t){return(t=t._reactInternals)?ti(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Le(),r=wn(t),o=Gt(i,r);o.payload=e,n!=null&&(o.callback=n),e=En(t,o,r),e!==null&&(gt(e,t,r,i),xo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Le(),r=wn(t),o=Gt(i,r);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=En(t,o,r),e!==null&&(gt(e,t,r,i),xo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Le(),i=wn(t),r=Gt(n,i);r.tag=2,e!=null&&(r.callback=e),e=En(t,r,i),e!==null&&(gt(e,t,i,n),xo(e,t,i))}};function ld(t,e,n,i,r,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,s):e.prototype&&e.prototype.isPureReactComponent?!Nr(n,i)||!Nr(r,o):!0}function km(t,e,n){var i=!1,r=Nn,o=e.contextType;return typeof o=="object"&&o!==null?o=st(o):(r=Ge(e)?$n:Me.current,i=e.contextTypes,o=(i=i!=null)?Di(t,r):Nn),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ps,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function ud(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ps.enqueueReplaceState(e,e.state,null)}function fl(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Eu(t);var o=e.contextType;typeof o=="object"&&o!==null?r.context=st(o):(o=Ge(e)?$n:Me.current,r.context=Di(t,o)),r.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(dl(t,e,o,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ps.enqueueReplaceState(r,r.state,null),ts(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Oi(t,e){try{var n="",i=e;do n+=$v(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:r,digest:null}}function ya(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function Nm(t,e,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ss||(ss=!0,wl=i),pl(t,e)},n}function Rm(t,e,n){n=Gt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){pl(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){pl(t,e),typeof i!="function"&&(In===null?In=new Set([this]):In.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function cd(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new v0;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=M0.bind(null,t,e,n),e.then(t,t))}function dd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fd(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gt(-1,1),e.tag=2,En(n,e,1))),n.lanes|=1),t)}var _0=Xt.ReactCurrentOwner,He=!1;function De(t,e,n,i){e.child=t===null?om(e,null,n,i):Ui(e,t.child,n,i)}function pd(t,e,n,i,r){n=n.render;var o=e.ref;return Si(e,r),i=xu(t,e,n,i,o,r),n=Au(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Wt(t,e,r)):(ae&&n&&hu(e),e.flags|=1,De(t,e,i,r),e.child)}function hd(t,e,n,i,r){if(t===null){var o=n.type;return typeof o=="function"&&!Fu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Pm(t,e,o,i,r)):(t=Mo(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Nr,n(s,i)&&t.ref===e.ref)return Wt(t,e,r)}return e.flags|=1,t=Cn(o,i),t.ref=e.ref,t.return=e,e.child=t}function Pm(t,e,n,i,r){if(t!==null){var o=t.memoizedProps;if(Nr(o,i)&&t.ref===e.ref)if(He=!1,e.pendingProps=i=o,(t.lanes&r)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,Wt(t,e,r)}return hl(t,e,n,i,r)}function Mm(t,e,n){var i=e.pendingProps,r=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(vi,$e),$e|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(vi,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ne(vi,$e),$e|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,ne(vi,$e),$e|=i;return De(t,e,r,n),e.child}function bm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hl(t,e,n,i,r){var o=Ge(n)?$n:Me.current;return o=Di(e,o),Si(e,r),n=xu(t,e,n,i,o,r),i=Au(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Wt(t,e,r)):(ae&&i&&hu(e),e.flags|=1,De(t,e,n,r),e.child)}function md(t,e,n,i,r){if(Ge(n)){var o=!0;Qo(e)}else o=!1;if(Si(e,r),e.stateNode===null)No(t,e),km(e,n,i),fl(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,u=e.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=st(d):(d=Ge(n)?$n:Me.current,d=Di(e,d));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==i||c!==d)&&ud(e,s,i,d),sn=!1;var h=e.memoizedState;s.state=h,ts(e,i,s,r),c=e.memoizedState,u!==i||h!==c||Be.current||sn?(typeof f=="function"&&(dl(e,n,f,i),c=e.memoizedState),(u=sn||ld(e,n,u,i,h,c,d))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=d,i=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,am(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:dt(e.type,u),s.props=d,p=e.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=Ge(n)?$n:Me.current,c=Di(e,c));var y=n.getDerivedStateFromProps;(f=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==p||h!==c)&&ud(e,s,i,c),sn=!1,h=e.memoizedState,s.state=h,ts(e,i,s,r);var T=e.memoizedState;u!==p||h!==T||Be.current||sn?(typeof y=="function"&&(dl(e,n,y,i),T=e.memoizedState),(d=sn||ld(e,n,d,i,h,T,c)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,T,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,T,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),s.props=i,s.state=T,s.context=c,i=d):(typeof s.componentDidUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return ml(t,e,n,i,o,r)}function ml(t,e,n,i,r,o){bm(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&ed(e,n,!1),Wt(t,e,o);i=e.stateNode,_0.current=e;var u=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=Ui(e,t.child,null,o),e.child=Ui(e,null,u,o)):De(t,e,u,o),e.memoizedState=i.state,r&&ed(e,n,!0),e.child}function Dm(t){var e=t.stateNode;e.pendingContext?jc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jc(t,e.context,!1),Iu(t,e.containerInfo)}function gd(t,e,n,i,r){return Li(),gu(r),e.flags|=256,De(t,e,n,i),e.child}var gl={dehydrated:null,treeContext:null,retryLane:0};function yl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Lm(t,e,n){var i=e.pendingProps,r=le.current,o=!1,s=(e.flags&128)!==0,u;if((u=s)||(u=t!==null&&t.memoizedState===null?!1:(r&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ne(le,r&1),t===null)return ul(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,o?(i=e.mode,o=e.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ds(s,i,0,null),t=qn(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=yl(n),e.memoizedState=gl,t):Ru(e,s));if(r=t.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return T0(t,e,s,i,u,r,n);if(o){o=i.fallback,s=e.mode,r=t.child,u=r.sibling;var c={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Cn(r,c),i.subtreeFlags=r.subtreeFlags&14680064),u!==null?o=Cn(u,o):(o=qn(o,s,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,s=t.child.memoizedState,s=s===null?yl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=gl,i}return o=t.child,t=o.sibling,i=Cn(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ru(t,e){return e=Ds({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function po(t,e,n,i){return i!==null&&gu(i),Ui(e,t.child,null,n),t=Ru(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T0(t,e,n,i,r,o,s){if(n)return e.flags&256?(e.flags&=-257,i=ya(Error(N(422))),po(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,r=e.mode,i=Ds({mode:"visible",children:i.children},r,0,null),o=qn(o,r,s,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Ui(e,t.child,null,s),e.child.memoizedState=yl(s),e.memoizedState=gl,o);if(!(e.mode&1))return po(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var u=i.dgst;return i=u,o=Error(N(419)),i=ya(o,i,void 0),po(t,e,s,i)}if(u=(s&t.childLanes)!==0,He||u){if(i=Ce,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,$t(t,r),gt(i,t,r,-1))}return Uu(),i=ya(Error(N(421))),po(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=b0.bind(null,t),r._reactRetry=e,null):(t=o.treeContext,We=Tn(r.nextSibling),Ke=e,ae=!0,pt=null,t!==null&&(et[tt++]=Ut,et[tt++]=Ft,et[tt++]=Wn,Ut=t.id,Ft=t.overflow,Wn=e),e=Ru(e,i.children),e.flags|=4096,e)}function yd(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),cl(t.return,e,n)}function va(t,e,n,i,r){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Um(t,e,n){var i=e.pendingProps,r=i.revealOrder,o=i.tail;if(De(t,e,i.children,n),i=le.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yd(t,n,e);else if(t.tag===19)yd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ne(le,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&ns(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),va(e,!1,r,n,o);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ns(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}va(e,!0,n,null,o);break;case"together":va(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function No(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function E0(t,e,n){switch(e.tag){case 3:Dm(e),Li();break;case 5:lm(e);break;case 1:Ge(e.type)&&Qo(e);break;case 4:Iu(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ne(jo,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ne(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?Lm(t,e,n):(ne(le,le.current&1),t=Wt(t,e,n),t!==null?t.sibling:null);ne(le,le.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Um(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ne(le,le.current),i)break;return null;case 22:case 23:return e.lanes=0,Mm(t,e,n)}return Wt(t,e,n)}var Fm,vl,Om,Vm;Fm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vl=function(){};Om=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Hn(At.current);var o=null;switch(n){case"input":r=Ha(t,r),i=Ha(t,i),o=[];break;case"select":r=ce({},r,{value:void 0}),i=ce({},i,{value:void 0}),o=[];break;case"textarea":r=qa(t,r),i=qa(t,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ko)}$a(n,i);var s;n=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var u=r[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ir.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var c=i[d];if(u=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ir.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&re("scroll",t),o||u===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};Vm=function(t,e,n,i){n!==i&&(e.flags|=4)};function er(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function I0(t,e,n){var i=e.pendingProps;switch(mu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ge(e.type)&&Yo(),Ne(e),null;case 3:return i=e.stateNode,Fi(),se(Be),se(Me),Cu(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(co(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pt!==null&&(xl(pt),pt=null))),vl(t,e),Ne(e),null;case 5:wu(e);var r=Hn(Dr.current);if(n=e.type,t!==null&&e.stateNode!=null)Om(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(N(166));return Ne(e),null}if(t=Hn(At.current),co(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[St]=e,i[Mr]=o,t=(e.mode&1)!==0,n){case"dialog":re("cancel",i),re("close",i);break;case"iframe":case"object":case"embed":re("load",i);break;case"video":case"audio":for(r=0;r<lr.length;r++)re(lr[r],i);break;case"source":re("error",i);break;case"img":case"image":case"link":re("error",i),re("load",i);break;case"details":re("toggle",i);break;case"input":xc(i,o),re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},re("invalid",i);break;case"textarea":kc(i,o),re("invalid",i)}$a(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="children"?typeof u=="string"?i.textContent!==u&&(o.suppressHydrationWarning!==!0&&uo(i.textContent,u,t),r=["children",u]):typeof u=="number"&&i.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&uo(i.textContent,u,t),r=["children",""+u]):Ir.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&re("scroll",i)}switch(n){case"input":to(i),Ac(i,o,!0);break;case"textarea":to(i),Nc(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Ko)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ph(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[St]=e,t[Mr]=i,Fm(t,e,!1,!1),e.stateNode=t;e:{switch(s=Wa(n,i),n){case"dialog":re("cancel",t),re("close",t),r=i;break;case"iframe":case"object":case"embed":re("load",t),r=i;break;case"video":case"audio":for(r=0;r<lr.length;r++)re(lr[r],t);r=i;break;case"source":re("error",t),r=i;break;case"img":case"image":case"link":re("error",t),re("load",t),r=i;break;case"details":re("toggle",t),r=i;break;case"input":xc(t,i),r=Ha(t,i),re("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=ce({},i,{value:void 0}),re("invalid",t);break;case"textarea":kc(t,i),r=qa(t,i),re("invalid",t);break;default:r=i}$a(n,r),u=r;for(o in u)if(u.hasOwnProperty(o)){var c=u[o];o==="style"?gh(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&hh(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&wr(t,c):typeof c=="number"&&wr(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ir.hasOwnProperty(o)?c!=null&&o==="onScroll"&&re("scroll",t):c!=null&&eu(t,o,c,s))}switch(n){case"input":to(t),Ac(t,i,!1);break;case"textarea":to(t),Nc(t);break;case"option":i.value!=null&&t.setAttribute("value",""+kn(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Ei(t,!!i.multiple,o,!1):i.defaultValue!=null&&Ei(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ko)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Vm(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(N(166));if(n=Hn(Dr.current),Hn(At.current),co(e)){if(i=e.stateNode,n=e.memoizedProps,i[St]=e,(o=i.nodeValue!==n)&&(t=Ke,t!==null))switch(t.tag){case 3:uo(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&uo(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[St]=e,e.stateNode=i}return Ne(e),null;case 13:if(se(le),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&We!==null&&e.mode&1&&!(e.flags&128))im(),Li(),e.flags|=98560,o=!1;else if(o=co(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(N(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(N(317));o[St]=e}else Li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),o=!1}else pt!==null&&(xl(pt),pt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?Ee===0&&(Ee=3):Uu())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return Fi(),vl(t,e),t===null&&Rr(e.stateNode.containerInfo),Ne(e),null;case 10:return _u(e.type._context),Ne(e),null;case 17:return Ge(e.type)&&Yo(),Ne(e),null;case 19:if(se(le),o=e.memoizedState,o===null)return Ne(e),null;if(i=(e.flags&128)!==0,s=o.rendering,s===null)if(i)er(o,!1);else{if(Ee!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ns(t),s!==null){for(e.flags|=128,er(o,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(le,le.current&1|2),e.child}t=t.sibling}o.tail!==null&&ye()>Vi&&(e.flags|=128,i=!0,er(o,!1),e.lanes=4194304)}else{if(!i)if(t=ns(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),er(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ae)return Ne(e),null}else 2*ye()-o.renderingStartTime>Vi&&n!==1073741824&&(e.flags|=128,i=!0,er(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ye(),e.sibling=null,n=le.current,ne(le,i?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return Lu(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?$e&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function w0(t,e){switch(mu(e),e.tag){case 1:return Ge(e.type)&&Yo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fi(),se(Be),se(Me),Cu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return wu(e),null;case 13:if(se(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(le),null;case 4:return Fi(),null;case 10:return _u(e.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var ho=!1,Re=!1,C0=typeof WeakSet=="function"?WeakSet:Set,U=null;function yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){pe(t,e,i)}else n.current=null}function _l(t,e,n){try{n()}catch(i){pe(t,e,i)}}var vd=!1;function S0(t,e){if(nl=$o,t=zh(),pu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,f=0,p=t,h=null;t:for(;;){for(var y;p!==n||r!==0&&p.nodeType!==3||(u=s+r),p!==o||i!==0&&p.nodeType!==3||(c=s+i),p.nodeType===3&&(s+=p.nodeValue.length),(y=p.firstChild)!==null;)h=p,p=y;for(;;){if(p===t)break t;if(h===n&&++d===r&&(u=s),h===o&&++f===i&&(c=s),(y=p.nextSibling)!==null)break;p=h,h=p.parentNode}p=y}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(il={focusedElem:t,selectionRange:n},$o=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,S=T.memoizedState,_=e.stateNode,g=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:dt(e.type,E),S);_.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(I){pe(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return T=vd,vd=!1,T}function mr(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var o=r.destroy;r.destroy=void 0,o!==void 0&&_l(e,n,o)}r=r.next}while(r!==i)}}function Ms(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Tl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hm(t){var e=t.alternate;e!==null&&(t.alternate=null,Hm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[St],delete e[Mr],delete e[sl],delete e[a0],delete e[l0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bm(t){return t.tag===5||t.tag===3||t.tag===4}function _d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function El(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ko));else if(i!==4&&(t=t.child,t!==null))for(El(t,e,n),t=t.sibling;t!==null;)El(t,e,n),t=t.sibling}function Il(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Il(t,e,n),t=t.sibling;t!==null;)Il(t,e,n),t=t.sibling}var Se=null,ft=!1;function tn(t,e,n){for(n=n.child;n!==null;)Gm(t,e,n),n=n.sibling}function Gm(t,e,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Cs,n)}catch{}switch(n.tag){case 5:Re||yi(n,e);case 6:var i=Se,r=ft;Se=null,tn(t,e,n),Se=i,ft=r,Se!==null&&(ft?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(ft?(t=Se,n=n.stateNode,t.nodeType===8?da(t.parentNode,n):t.nodeType===1&&da(t,n),Ar(t)):da(Se,n.stateNode));break;case 4:i=Se,r=ft,Se=n.stateNode.containerInfo,ft=!0,tn(t,e,n),Se=i,ft=r;break;case 0:case 11:case 14:case 15:if(!Re&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&_l(n,e,s),r=r.next}while(r!==i)}tn(t,e,n);break;case 1:if(!Re&&(yi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(u){pe(n,e,u)}tn(t,e,n);break;case 21:tn(t,e,n);break;case 22:n.mode&1?(Re=(i=Re)||n.memoizedState!==null,tn(t,e,n),Re=i):tn(t,e,n);break;default:tn(t,e,n)}}function Td(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C0),e.forEach(function(i){var r=D0.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function ct(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=t,s=e,u=s;e:for(;u!==null;){switch(u.tag){case 5:Se=u.stateNode,ft=!1;break e;case 3:Se=u.stateNode.containerInfo,ft=!0;break e;case 4:Se=u.stateNode.containerInfo,ft=!0;break e}u=u.return}if(Se===null)throw Error(N(160));Gm(o,s,r),Se=null,ft=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){pe(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)qm(e,t),e=e.sibling}function qm(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),It(t),i&4){try{mr(3,t,t.return),Ms(3,t)}catch(E){pe(t,t.return,E)}try{mr(5,t,t.return)}catch(E){pe(t,t.return,E)}}break;case 1:ct(e,t),It(t),i&512&&n!==null&&yi(n,n.return);break;case 5:if(ct(e,t),It(t),i&512&&n!==null&&yi(n,n.return),t.flags&32){var r=t.stateNode;try{wr(r,"")}catch(E){pe(t,t.return,E)}}if(i&4&&(r=t.stateNode,r!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,u=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&dh(r,o),Wa(u,s);var d=Wa(u,o);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];f==="style"?gh(r,p):f==="dangerouslySetInnerHTML"?hh(r,p):f==="children"?wr(r,p):eu(r,f,p,d)}switch(u){case"input":Ba(r,o);break;case"textarea":fh(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var y=o.value;y!=null?Ei(r,!!o.multiple,y,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ei(r,!!o.multiple,o.defaultValue,!0):Ei(r,!!o.multiple,o.multiple?[]:"",!1))}r[Mr]=o}catch(E){pe(t,t.return,E)}}break;case 6:if(ct(e,t),It(t),i&4){if(t.stateNode===null)throw Error(N(162));r=t.stateNode,o=t.memoizedProps;try{r.nodeValue=o}catch(E){pe(t,t.return,E)}}break;case 3:if(ct(e,t),It(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ar(e.containerInfo)}catch(E){pe(t,t.return,E)}break;case 4:ct(e,t),It(t);break;case 13:ct(e,t),It(t),r=t.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(bu=ye())),i&4&&Td(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Re=(d=Re)||f,ct(e,t),Re=d):ct(e,t),It(t),i&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!f&&t.mode&1)for(U=t,f=t.child;f!==null;){for(p=U=f;U!==null;){switch(h=U,y=h.child,h.tag){case 0:case 11:case 14:case 15:mr(4,h,h.return);break;case 1:yi(h,h.return);var T=h.stateNode;if(typeof T.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(E){pe(i,n,E)}}break;case 5:yi(h,h.return);break;case 22:if(h.memoizedState!==null){Id(p);continue}}y!==null?(y.return=h,U=y):Id(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,d?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,c=p.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=mh("display",s))}catch(E){pe(t,t.return,E)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(E){pe(t,t.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ct(e,t),It(t),i&4&&Td(t);break;case 21:break;default:ct(e,t),It(t)}}function It(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bm(n)){var i=n;break e}n=n.return}throw Error(N(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wr(r,""),i.flags&=-33);var o=_d(t);Il(t,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,u=_d(t);El(t,u,s);break;default:throw Error(N(161))}}catch(c){pe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x0(t,e,n){U=t,zm(t)}function zm(t,e,n){for(var i=(t.mode&1)!==0;U!==null;){var r=U,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||ho;if(!s){var u=r.alternate,c=u!==null&&u.memoizedState!==null||Re;u=ho;var d=Re;if(ho=s,(Re=c)&&!d)for(U=r;U!==null;)s=U,c=s.child,s.tag===22&&s.memoizedState!==null?wd(r):c!==null?(c.return=s,U=c):wd(r);for(;o!==null;)U=o,zm(o),o=o.sibling;U=r,ho=u,Re=d}Ed(t)}else r.subtreeFlags&8772&&o!==null?(o.return=r,U=o):Ed(t)}}function Ed(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Re||Ms(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Re)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:dt(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&od(e,o,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}od(e,s,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ar(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Re||e.flags&512&&Tl(e)}catch(h){pe(e,e.return,h)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Id(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function wd(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ms(4,e)}catch(c){pe(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){pe(e,r,c)}}var o=e.return;try{Tl(e)}catch(c){pe(e,o,c)}break;case 5:var s=e.return;try{Tl(e)}catch(c){pe(e,s,c)}}}catch(c){pe(e,e.return,c)}if(e===t){U=null;break}var u=e.sibling;if(u!==null){u.return=e.return,U=u;break}U=e.return}}var A0=Math.ceil,os=Xt.ReactCurrentDispatcher,Pu=Xt.ReactCurrentOwner,it=Xt.ReactCurrentBatchConfig,Q=0,Ce=null,_e=null,xe=0,$e=0,vi=Mn(0),Ee=0,Or=null,Kn=0,bs=0,Mu=0,gr=null,Ve=null,bu=0,Vi=1/0,Dt=null,ss=!1,wl=null,In=null,mo=!1,mn=null,as=0,yr=0,Cl=null,Ro=-1,Po=0;function Le(){return Q&6?ye():Ro!==-1?Ro:Ro=ye()}function wn(t){return t.mode&1?Q&2&&xe!==0?xe&-xe:c0.transition!==null?(Po===0&&(Po=kh()),Po):(t=j,t!==0||(t=window.event,t=t===void 0?16:Lh(t.type)),t):1}function gt(t,e,n,i){if(50<yr)throw yr=0,Cl=null,Error(N(185));qr(t,n,i),(!(Q&2)||t!==Ce)&&(t===Ce&&(!(Q&2)&&(bs|=n),Ee===4&&ln(t,xe)),qe(t,i),n===1&&Q===0&&!(e.mode&1)&&(Vi=ye()+500,Ns&&bn()))}function qe(t,e){var n=t.callbackNode;c_(t,e);var i=zo(t,t===Ce?xe:0);if(i===0)n!==null&&Mc(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Mc(n),e===1)t.tag===0?u0(Cd.bind(null,t)):em(Cd.bind(null,t)),o0(function(){!(Q&6)&&bn()}),n=null;else{switch(Nh(i)){case 1:n=ou;break;case 4:n=xh;break;case 16:n=qo;break;case 536870912:n=Ah;break;default:n=qo}n=Zm(n,$m.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function $m(t,e){if(Ro=-1,Po=0,Q&6)throw Error(N(327));var n=t.callbackNode;if(xi()&&t.callbackNode!==n)return null;var i=zo(t,t===Ce?xe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=ls(t,i);else{e=i;var r=Q;Q|=2;var o=Jm();(Ce!==t||xe!==e)&&(Dt=null,Vi=ye()+500,Gn(t,e));do try{R0();break}catch(u){Wm(t,u)}while(!0);vu(),os.current=o,Q=r,_e!==null?e=0:(Ce=null,xe=0,e=Ee)}if(e!==0){if(e===2&&(r=Xa(t),r!==0&&(i=r,e=Sl(t,r))),e===1)throw n=Or,Gn(t,0),ln(t,i),qe(t,ye()),n;if(e===6)ln(t,i);else{if(r=t.current.alternate,!(i&30)&&!k0(r)&&(e=ls(t,i),e===2&&(o=Xa(t),o!==0&&(i=o,e=Sl(t,o))),e===1))throw n=Or,Gn(t,0),ln(t,i),qe(t,ye()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(N(345));case 2:Un(t,Ve,Dt);break;case 3:if(ln(t,i),(i&130023424)===i&&(e=bu+500-ye(),10<e)){if(zo(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Le(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ol(Un.bind(null,t,Ve,Dt),e);break}Un(t,Ve,Dt);break;case 4:if(ln(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-mt(i);o=1<<s,s=e[s],s>r&&(r=s),i&=~o}if(i=r,i=ye()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*A0(i/1960))-i,10<i){t.timeoutHandle=ol(Un.bind(null,t,Ve,Dt),i);break}Un(t,Ve,Dt);break;case 5:Un(t,Ve,Dt);break;default:throw Error(N(329))}}}return qe(t,ye()),t.callbackNode===n?$m.bind(null,t):null}function Sl(t,e){var n=gr;return t.current.memoizedState.isDehydrated&&(Gn(t,e).flags|=256),t=ls(t,e),t!==2&&(e=Ve,Ve=n,e!==null&&xl(e)),t}function xl(t){Ve===null?Ve=t:Ve.push.apply(Ve,t)}function k0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!yt(o(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ln(t,e){for(e&=~Mu,e&=~bs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mt(e),i=1<<n;t[n]=-1,e&=~i}}function Cd(t){if(Q&6)throw Error(N(327));xi();var e=zo(t,0);if(!(e&1))return qe(t,ye()),null;var n=ls(t,e);if(t.tag!==0&&n===2){var i=Xa(t);i!==0&&(e=i,n=Sl(t,i))}if(n===1)throw n=Or,Gn(t,0),ln(t,e),qe(t,ye()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Un(t,Ve,Dt),qe(t,ye()),null}function Du(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(Vi=ye()+500,Ns&&bn())}}function Yn(t){mn!==null&&mn.tag===0&&!(Q&6)&&xi();var e=Q;Q|=1;var n=it.transition,i=j;try{if(it.transition=null,j=1,t)return t()}finally{j=i,it.transition=n,Q=e,!(Q&6)&&bn()}}function Lu(){$e=vi.current,se(vi)}function Gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r0(n)),_e!==null)for(n=_e.return;n!==null;){var i=n;switch(mu(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Yo();break;case 3:Fi(),se(Be),se(Me),Cu();break;case 5:wu(i);break;case 4:Fi();break;case 13:se(le);break;case 19:se(le);break;case 10:_u(i.type._context);break;case 22:case 23:Lu()}n=n.return}if(Ce=t,_e=t=Cn(t.current,null),xe=$e=e,Ee=0,Or=null,Mu=bs=Kn=0,Ve=gr=null,Vn!==null){for(e=0;e<Vn.length;e++)if(n=Vn[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}Vn=null}return t}function Wm(t,e){do{var n=_e;try{if(vu(),Ao.current=rs,is){for(var i=ue.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}is=!1}if(Jn=0,we=Te=ue=null,hr=!1,Lr=0,Pu.current=null,n===null||n.return===null){Ee=1,Or=e,_e=null;break}e:{var o=t,s=n.return,u=n,c=e;if(e=xe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=dd(s);if(y!==null){y.flags&=-257,fd(y,s,u,o,e),y.mode&1&&cd(o,d,e),e=y,c=d;var T=e.updateQueue;if(T===null){var E=new Set;E.add(c),e.updateQueue=E}else T.add(c);break e}else{if(!(e&1)){cd(o,d,e),Uu();break e}c=Error(N(426))}}else if(ae&&u.mode&1){var S=dd(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),fd(S,s,u,o,e),gu(Oi(c,u));break e}}o=c=Oi(c,u),Ee!==4&&(Ee=2),gr===null?gr=[o]:gr.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=Nm(o,c,e);rd(o,_);break e;case 1:u=c;var g=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(In===null||!In.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=Rm(o,u,e);rd(o,I);break e}}o=o.return}while(o!==null)}Ym(n)}catch(w){e=w,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function Jm(){var t=os.current;return os.current=rs,t===null?rs:t}function Uu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Ce===null||!(Kn&268435455)&&!(bs&268435455)||ln(Ce,xe)}function ls(t,e){var n=Q;Q|=2;var i=Jm();(Ce!==t||xe!==e)&&(Dt=null,Gn(t,e));do try{N0();break}catch(r){Wm(t,r)}while(!0);if(vu(),Q=n,os.current=i,_e!==null)throw Error(N(261));return Ce=null,xe=0,Ee}function N0(){for(;_e!==null;)Km(_e)}function R0(){for(;_e!==null&&!t_();)Km(_e)}function Km(t){var e=Xm(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?Ym(t):_e=e,Pu.current=null}function Ym(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=w0(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ee=6,_e=null;return}}else if(n=I0(n,e,$e),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ee===0&&(Ee=5)}function Un(t,e,n){var i=j,r=it.transition;try{it.transition=null,j=1,P0(t,e,n,i)}finally{it.transition=r,j=i}return null}function P0(t,e,n,i){do xi();while(mn!==null);if(Q&6)throw Error(N(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(d_(t,o),t===Ce&&(_e=Ce=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mo||(mo=!0,Zm(qo,function(){return xi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=it.transition,it.transition=null;var s=j;j=1;var u=Q;Q|=4,Pu.current=null,S0(t,n),qm(n,t),X_(il),$o=!!nl,il=nl=null,t.current=n,x0(n),n_(),Q=u,j=s,it.transition=o}else t.current=n;if(mo&&(mo=!1,mn=t,as=r),o=t.pendingLanes,o===0&&(In=null),o_(n.stateNode),qe(t,ye()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(ss)throw ss=!1,t=wl,wl=null,t;return as&1&&t.tag!==0&&xi(),o=t.pendingLanes,o&1?t===Cl?yr++:(yr=0,Cl=t):yr=0,bn(),null}function xi(){if(mn!==null){var t=Nh(as),e=it.transition,n=j;try{if(it.transition=null,j=16>t?16:t,mn===null)var i=!1;else{if(t=mn,mn=null,as=0,Q&6)throw Error(N(331));var r=Q;for(Q|=4,U=t.current;U!==null;){var o=U,s=o.child;if(U.flags&16){var u=o.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(U=d;U!==null;){var f=U;switch(f.tag){case 0:case 11:case 15:mr(8,f,o)}var p=f.child;if(p!==null)p.return=f,U=p;else for(;U!==null;){f=U;var h=f.sibling,y=f.return;if(Hm(f),f===d){U=null;break}if(h!==null){h.return=y,U=h;break}U=y}}}var T=o.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}U=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,U=s;else e:for(;U!==null;){if(o=U,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mr(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,U=_;break e}U=o.return}}var g=t.current;for(U=g;U!==null;){s=U;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,U=v;else e:for(s=g;U!==null;){if(u=U,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Ms(9,u)}}catch(w){pe(u,u.return,w)}if(u===s){U=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,U=I;break e}U=u.return}}if(Q=r,bn(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Cs,t)}catch{}i=!0}return i}finally{j=n,it.transition=e}}return!1}function Sd(t,e,n){e=Oi(n,e),e=Nm(t,e,1),t=En(t,e,1),e=Le(),t!==null&&(qr(t,1,e),qe(t,e))}function pe(t,e,n){if(t.tag===3)Sd(t,t,n);else for(;e!==null;){if(e.tag===3){Sd(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){t=Oi(n,t),t=Rm(e,t,1),e=En(e,t,1),t=Le(),e!==null&&(qr(e,1,t),qe(e,t));break}}e=e.return}}function M0(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Le(),t.pingedLanes|=t.suspendedLanes&n,Ce===t&&(xe&n)===n&&(Ee===4||Ee===3&&(xe&130023424)===xe&&500>ye()-bu?Gn(t,0):Mu|=n),qe(t,e)}function Qm(t,e){e===0&&(t.mode&1?(e=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):e=1);var n=Le();t=$t(t,e),t!==null&&(qr(t,e,n),qe(t,n))}function b0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qm(t,n)}function D0(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(N(314))}i!==null&&i.delete(e),Qm(t,n)}var Xm;Xm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Be.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,E0(t,e,n);He=!!(t.flags&131072)}else He=!1,ae&&e.flags&1048576&&tm(e,Zo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;No(t,e),t=e.pendingProps;var r=Di(e,Me.current);Si(e,n),r=xu(null,e,i,t,r,n);var o=Au();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ge(i)?(o=!0,Qo(e)):o=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Eu(e),r.updater=Ps,e.stateNode=r,r._reactInternals=e,fl(e,i,t,n),e=ml(null,e,i,!0,o,n)):(e.tag=0,ae&&o&&hu(e),De(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(No(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=U0(i),t=dt(i,t),r){case 0:e=hl(null,e,i,t,n);break e;case 1:e=md(null,e,i,t,n);break e;case 11:e=pd(null,e,i,t,n);break e;case 14:e=hd(null,e,i,dt(i.type,t),n);break e}throw Error(N(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dt(i,r),hl(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dt(i,r),md(t,e,i,r,n);case 3:e:{if(Dm(e),t===null)throw Error(N(387));i=e.pendingProps,o=e.memoizedState,r=o.element,am(t,e),ts(e,i,null,n);var s=e.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){r=Oi(Error(N(423)),e),e=gd(t,e,i,n,r);break e}else if(i!==r){r=Oi(Error(N(424)),e),e=gd(t,e,i,n,r);break e}else for(We=Tn(e.stateNode.containerInfo.firstChild),Ke=e,ae=!0,pt=null,n=om(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Li(),i===r){e=Wt(t,e,n);break e}De(t,e,i,n)}e=e.child}return e;case 5:return lm(e),t===null&&ul(e),i=e.type,r=e.pendingProps,o=t!==null?t.memoizedProps:null,s=r.children,rl(i,r)?s=null:o!==null&&rl(i,o)&&(e.flags|=32),bm(t,e),De(t,e,s,n),e.child;case 6:return t===null&&ul(e),null;case 13:return Lm(t,e,n);case 4:return Iu(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ui(e,null,i,n):De(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dt(i,r),pd(t,e,i,r,n);case 7:return De(t,e,e.pendingProps,n),e.child;case 8:return De(t,e,e.pendingProps.children,n),e.child;case 12:return De(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,o=e.memoizedProps,s=r.value,ne(jo,i._currentValue),i._currentValue=s,o!==null)if(yt(o.value,s)){if(o.children===r.children&&!Be.current){e=Wt(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){s=o.child;for(var c=u.firstContext;c!==null;){if(c.context===i){if(o.tag===1){c=Gt(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),cl(o.return,n,e),u.lanes|=n;break}c=c.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(N(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),cl(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}De(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Si(e,n),r=st(r),i=i(r),e.flags|=1,De(t,e,i,n),e.child;case 14:return i=e.type,r=dt(i,e.pendingProps),r=dt(i.type,r),hd(t,e,i,r,n);case 15:return Pm(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:dt(i,r),No(t,e),e.tag=1,Ge(i)?(t=!0,Qo(e)):t=!1,Si(e,n),km(e,i,r),fl(e,i,r,n),ml(null,e,i,!0,t,n);case 19:return Um(t,e,n);case 22:return Mm(t,e,n)}throw Error(N(156,e.tag))};function Zm(t,e){return Sh(t,e)}function L0(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,i){return new L0(t,e,n,i)}function Fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function U0(t){if(typeof t=="function")return Fu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nu)return 11;if(t===iu)return 14}return 2}function Cn(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Mo(t,e,n,i,r,o){var s=2;if(i=t,typeof t=="function")Fu(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case li:return qn(n.children,r,o,e);case tu:s=8,r|=8;break;case Ua:return t=nt(12,n,e,r|2),t.elementType=Ua,t.lanes=o,t;case Fa:return t=nt(13,n,e,r),t.elementType=Fa,t.lanes=o,t;case Oa:return t=nt(19,n,e,r),t.elementType=Oa,t.lanes=o,t;case lh:return Ds(n,r,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sh:s=10;break e;case ah:s=9;break e;case nu:s=11;break e;case iu:s=14;break e;case on:s=16,i=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=nt(s,n,e,r),e.elementType=t,e.type=i,e.lanes=o,e}function qn(t,e,n,i){return t=nt(7,t,i,e),t.lanes=n,t}function Ds(t,e,n,i){return t=nt(22,t,i,e),t.elementType=lh,t.lanes=n,t.stateNode={isHidden:!1},t}function _a(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function Ta(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F0(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ou(t,e,n,i,r,o,s,u,c){return t=new F0(t,e,n,u,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Eu(o),t}function O0(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ai,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function jm(t){if(!t)return Nn;t=t._reactInternals;e:{if(ti(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ge(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ge(n))return jh(t,n,e)}return e}function eg(t,e,n,i,r,o,s,u,c){return t=Ou(n,i,!0,t,r,o,s,u,c),t.context=jm(null),n=t.current,i=Le(),r=wn(n),o=Gt(i,r),o.callback=e??null,En(n,o,r),t.current.lanes=r,qr(t,r,i),qe(t,i),t}function Ls(t,e,n,i){var r=e.current,o=Le(),s=wn(r);return n=jm(n),e.context===null?e.context=n:e.pendingContext=n,e=Gt(o,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=En(r,e,s),t!==null&&(gt(t,r,s,o),xo(t,r,s)),s}function us(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vu(t,e){xd(t,e),(t=t.alternate)&&xd(t,e)}function V0(){return null}var tg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hu(t){this._internalRoot=t}Us.prototype.render=Hu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ls(t,e,null,null)};Us.prototype.unmount=Hu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Yn(function(){Ls(null,t,null,null)}),e[zt]=null}};function Us(t){this._internalRoot=t}Us.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mh();t={blockedOn:null,target:t,priority:e};for(var n=0;n<an.length&&e!==0&&e<an[n].priority;n++);an.splice(n,0,t),n===0&&Dh(t)}};function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fs(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function H0(t,e,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var d=us(s);o.call(d)}}var s=eg(e,i,t,0,null,!1,!1,"",Ad);return t._reactRootContainer=s,t[zt]=s.current,Rr(t.nodeType===8?t.parentNode:t),Yn(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var u=i;i=function(){var d=us(c);u.call(d)}}var c=Ou(t,0,!1,null,null,!1,!1,"",Ad);return t._reactRootContainer=c,t[zt]=c.current,Rr(t.nodeType===8?t.parentNode:t),Yn(function(){Ls(e,c,n,i)}),c}function Os(t,e,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var u=r;r=function(){var c=us(s);u.call(c)}}Ls(e,s,t,r)}else s=H0(n,e,t,r,i);return us(s)}Rh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ar(e.pendingLanes);n!==0&&(su(e,n|1),qe(e,ye()),!(Q&6)&&(Vi=ye()+500,bn()))}break;case 13:Yn(function(){var i=$t(t,1);if(i!==null){var r=Le();gt(i,t,1,r)}}),Vu(t,1)}};au=function(t){if(t.tag===13){var e=$t(t,134217728);if(e!==null){var n=Le();gt(e,t,134217728,n)}Vu(t,134217728)}};Ph=function(t){if(t.tag===13){var e=wn(t),n=$t(t,e);if(n!==null){var i=Le();gt(n,t,e,i)}Vu(t,e)}};Mh=function(){return j};bh=function(t,e){var n=j;try{return j=t,e()}finally{j=n}};Ka=function(t,e,n){switch(e){case"input":if(Ba(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=ks(i);if(!r)throw Error(N(90));ch(i),Ba(i,r)}}}break;case"textarea":fh(t,n);break;case"select":e=n.value,e!=null&&Ei(t,!!n.multiple,e,!1)}};_h=Du;Th=Yn;var B0={usingClientEntryPoint:!1,Events:[$r,fi,ks,yh,vh,Du]},tr={findFiberByHostInstance:On,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G0={bundleType:tr.bundleType,version:tr.version,rendererPackageName:tr.rendererPackageName,rendererConfig:tr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wh(t),t===null?null:t.stateNode},findFiberByHostInstance:tr.findFiberByHostInstance||V0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var go=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!go.isDisabled&&go.supportsFiber)try{Cs=go.inject(G0),xt=go}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B0;Xe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bu(e))throw Error(N(200));return O0(t,e,null,n)};Xe.createRoot=function(t,e){if(!Bu(t))throw Error(N(299));var n=!1,i="",r=tg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ou(t,1,!1,null,null,n,!1,i,r),t[zt]=e.current,Rr(t.nodeType===8?t.parentNode:t),new Hu(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=wh(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return Yn(t)};Xe.hydrate=function(t,e,n){if(!Fs(e))throw Error(N(200));return Os(null,t,e,!0,n)};Xe.hydrateRoot=function(t,e,n){if(!Bu(t))throw Error(N(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=tg;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eg(e,null,t,1,n??null,r,!1,o,s),t[zt]=e.current,Rr(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Us(e)};Xe.render=function(t,e,n){if(!Fs(e))throw Error(N(200));return Os(null,t,e,!1,n)};Xe.unmountComponentAtNode=function(t){if(!Fs(t))throw Error(N(40));return t._reactRootContainer?(Yn(function(){Os(null,null,t,!1,function(){t._reactRootContainer=null,t[zt]=null})}),!0):!1};Xe.unstable_batchedUpdates=Du;Xe.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Fs(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return Os(t,e,n,!1,i)};Xe.version="18.3.1-next-f1338f8080-20240426";function ng(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ng)}catch(t){console.error(t)}}ng(),nh.exports=Xe;var q0=nh.exports,kd=q0;Da.createRoot=kd.createRoot,Da.hydrateRoot=kd.hydrateRoot;var Y=(t=>(t.INTRO="INTRO",t.SCENARIO="SCENARIO",t.HUB="HUB",t.QUIZ="QUIZ",t))(Y||{}),G=(t=>(t.NONE="NONE",t.BALLOONS="BALLOONS",t.DRAG_SHIELD="DRAG_SHIELD",t.MULTIPLE_CHOICE="MULTIPLE_CHOICE",t.CODE_CRACKER="CODE_CRACKER",t.CITY_HALL_SUB_LOCATIONS="CITY_HALL_SUB_LOCATIONS",t))(G||{});const Al="neve_or_game_state_v13",$={INTRO:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fintro_1763671828771.jpg?alt=media&v=1",HUB:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2FHUB_CONFIG_1764050216796.jpg?alt=media&v=1",SCHOOL_LIOR:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fschool_lior_1764137954179.jpg?alt=media&v=1",TOWN_SQUARE:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Ftown_square_1764149894637.jpg?alt=media&v=1",CITY_HALL:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fcity_hall_1764066495586.jpg?alt=media&v=1",CITY_HALL_SQUARE:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fcity_hall_sub_sub_square_1764149964367.jpg?alt=media&v=1",CITY_HALL_CAFE:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fcity_hall_sub_sub_cafe_1764066571901.jpg?alt=media&v=1",CITY_HALL_NEIGHBORHOOD:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fcity_hall_sub_sub_neighborhood_1764066598597.jpg?alt=media&v=1",CITY_HALL_SCHOOL:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fcity_hall_sub_sub_school_1764149991251.jpg?alt=media&v=1",FREEDOM_INTRO:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fcity_hall_1764053740252.jpg?alt=media&v=1",SCHOOL_TAMARA:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fschool_tamara_1764536588166.jpg?alt=media&v=1",NEWSPAPER:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fnewspaper_office_1764152226500.jpg?alt=media&v=1",COURT:"https://firebasestorage.googleapis.com/v0/b/neve-or.firebasestorage.app/o/backgrounds%2Fsupreme_court_1764534551866.jpg?alt=media&v=1"},z0=[{id:"HUB_CONFIG",title:" ",type:Y.HUB,isLocked:!1,isCompleted:!1,data:{description:"",backgroundImage:$.HUB,dialog:[],interactionType:G.NONE,decisionQuestion:"",options:[]}},{id:"intro",title:" -  ",type:Y.INTRO,isLocked:!1,isCompleted:!1,data:{description:'   ,           .        .      , , .      , ,    .  " "     .     ?',backgroundImage:$.INTRO,decisionQuestion:"    ?",options:[{id:"start",text:"  ",feedback:"  ."}],dialog:[],interactionType:G.NONE}},{id:"school_lior",title:"1.   ",type:Y.SCENARIO,isLocked:!1,isCompleted:!1,coordinates:{x:15,y:28},data:{description:'         ,    .   ,   : "   ".',backgroundImage:$.SCHOOL_LIOR,dialog:[{id:"1",speaker:"",text:",  !   .",mood:"concerned"},{id:"2",speaker:"",text:" ,     .  .",mood:"neutral"}],interactionType:G.MULTIPLE_CHOICE,interactionData:{question:"    ?",answers:[{id:"1",text:" ",correct:!1},{id:"2",text:"   ",correct:!0},{id:"3",text:" ",correct:!1},{id:"4",text:" ",correct:!1}]},decisionQuestion:"   :            ?",options:[{id:"opt1",text:"        .",feedback:":     . :    ."},{id:"opt2",text:"     ,   .",feedback:":    . :     ."},{id:"opt3",text:"     .",feedback:":       . :        ."},{id:"opt4",text:'    "      ".',feedback:":    . :  ,   ."}],moreInfoTitle:"  ",moreInfoContent:"        ,    .  ,     .        ."}},{id:"town_square",title:"2.   ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:35,y:65},data:{description:':            .   ""      .',backgroundImage:$.TOWN_SQUARE,dialog:[],interactionType:G.DRAG_SHIELD,interactionData:{items:[{id:"1",text:"     ",isDanger:!0},{id:"2",text:"   ",isDanger:!1},{id:"3",text:"   ",isDanger:!0},{id:"4",text:"     ",isDanger:!1}]},decisionQuestion:"   ?",options:[{id:"ok",text:"",feedback:"            ."}],moreInfoTitle:" ",moreInfoContent:"   :   ,   ,       .   ."}},{id:"city_hall",title:"3.   ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:50,y:25},data:{description:"     .       AI   .   ,   ,     .",backgroundImage:$.CITY_HALL,dialog:[{id:"1",speaker:" ",text:"          .        .",mood:"neutral"}],interactionType:G.CITY_HALL_SUB_LOCATIONS,subScenes:[{id:"sub_square",title:" ",icon:"",backgroundImage:$.CITY_HALL_SQUARE,dialog:[{id:"1",speaker:" ",text:"    .   ,     .       .   .",mood:"happy"},{id:"2",speaker:"",text:" :          .",mood:"neutral"}]},{id:"sub_cafe",title:" ",icon:"",backgroundImage:$.CITY_HALL_CAFE,dialog:[{id:"1",speaker:"  ",text:" ?     ,       .    .    . ? .   .",mood:"concerned"},{id:"2",speaker:"",text:" :          .",mood:"neutral"}]},{id:"sub_neighborhood",title:" ",icon:"",backgroundImage:$.CITY_HALL_NEIGHBORHOOD,dialog:[{id:"1",speaker:"",text:"   .        ,      .",mood:"concerned"},{id:"2",speaker:"",text:" :            .",mood:"neutral"}]},{id:"sub_school",title:" ",icon:"",backgroundImage:$.CITY_HALL_SCHOOL,dialog:[{id:"1",speaker:"",text:"     ,    ,      .       ,     .",mood:"neutral"},{id:"2",speaker:"",text:" :           .",mood:"neutral"}]}],decisionQuestion:'       " "?',options:[{id:"1",text:"    ",feedback:"  ,       . :   ,   ."},{id:"2",text:"    ",feedback:"    ,       . :   ,    ."},{id:"3",text:"      ",feedback:"    ,   .   ,   .       ."}],moreInfoTitle:" ",moreInfoContent:`                .

       ,      -:   .
 ,         ;  ,               .
,              :
                .
         (,      ).
                .
             .
 ,         ,           ,       .`}},{id:"intro_freedom_speech",title:"4.  ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:72,y:56},data:{description:":        !",backgroundImage:$.FREEDOM_INTRO,dialog:[],interactionType:G.BALLOONS,interactionData:{items:[{id:"1",text:"        ",isCorrect:!1},{id:"2",text:"    ",isCorrect:!0},{id:"3",text:"      ",isCorrect:!0},{id:"4",text:"    ",isCorrect:!1}]},decisionQuestion:"  ",options:[{id:"ok",text:"",feedback:"     ,   .     (     ),    ."}],moreInfoTitle:" ",moreInfoContent:"      ,    , .             ."}},{id:"school_tamara",title:"5.  ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:85,y:28},data:{description:`,  ',           .    "".`,backgroundImage:$.SCHOOL_TAMARA,digitalContent:{type:"POST",author:"",content:"     !       .        ?",likes:150},dialog:[{id:"1",speaker:" ' ",text:",      !    .",mood:"angry"},{id:"2",speaker:"",text:"    !      .",mood:"concerned"},{id:"3",speaker:" ",text:'  .  ,  ""   .',mood:"neutral"}],interactionType:G.NONE,decisionQuestion:"   ?",options:[{id:"1",text:"   ! -     '' .",feedback:"  .     ."},{id:"2",text:"    ,       .",feedback:".      .     ."},{id:"3",text:"      -   .",feedback:" .      ."}],moreInfoTitle:" ",moreInfoContent:"            .         ( 13),      ."}},{id:"newspaper_office",title:"6.  ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:20,y:70},data:{description:'  ""  : "    ".       -10    .',backgroundImage:$.NEWSPAPER,digitalContent:{type:"ARTICLE",title:"",content:":        .",author:" "},dialog:[{id:"1",speaker:" ",text:"    !  ?",mood:"concerned"},{id:"2",speaker:"",text:"  .   .",mood:"angry"}],interactionType:G.NONE,decisionQuestion:"   ?",options:[{id:"1",text:'   : "  !"',feedback:"    ."},{id:"2",text:'     "',feedback:" .      ."},{id:"3",text:"   ",feedback:"     ."}],moreInfoTitle:" ",moreInfoContent:'      .     " " (1953)     .'}},{id:"supreme_court",title:"7.  ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:50,y:85},data:{description:'   ".     .',backgroundImage:$.COURT,dialog:[{id:"1",speaker:" ",text:"     .     .",mood:"neutral"},{id:"2",speaker:" ",text:"   ,  .     .",mood:"neutral"}],interactionType:G.NONE,decisionQuestion:",   ?",options:[{id:"1",text:"      ",feedback:' .    "   (1953).'},{id:"2",text:"      ",feedback:"     ."},{id:"3",text:"     ",feedback:"     ."}],moreInfoTitle:"  ",moreInfoContent:'  " "   :        "     ".'}},{id:"quiz_finale",title:"8.  ",type:Y.QUIZ,isLocked:!0,isCompleted:!1,coordinates:{x:85,y:70},data:{description:"           .",dialog:[],interactionType:G.CODE_CRACKER,interactionData:{questions:[{id:"q1",question:"       ?",options:[{text:"1947",value:0},{text:"1967",value:0},{text:"1948",value:3},{text:"1946",value:0}],explanation:"1948 -    3"},{id:"q2",question:"       ?",options:[{text:"1996",value:0},{text:"1992",value:2},{text:"1987",value:0},{text:"1990",value:0}],explanation:"1992 -    2"},{id:"q3",question:"    -?     ",options:[{text:"9",value:0},{text:"5",value:0},{text:"8",value:0},{text:"7",value:4}],explanation:"   4.           (   ,  ,  ,     ,      ,  ,       )."},{id:"q4",question:"       ?",options:[{text:"",value:0},{text:"",value:2},{text:"",value:0},{text:"",value:0}],explanation:" -    2"}]},decisionQuestion:" !",options:[],moreInfoTitle:" !",moreInfoContent:`          ,  .       ,      .

      ,     ,       ,  .            .`}}],$0=[{id:"HUB_CONFIG",title:" ",type:Y.HUB,isLocked:!1,isCompleted:!1,data:{description:"",backgroundImage:$.HUB,dialog:[],interactionType:G.NONE,decisionQuestion:"",options:[]}},{id:"intro",title:" -  ",type:Y.INTRO,isLocked:!1,isCompleted:!1,data:{description:'     /            .         .       .          .   " "    .     ',backgroundImage:$.INTRO,decisionQuestion:"    ",options:[{id:"start",text:" ",feedback:"  ."}],dialog:[],interactionType:G.NONE}},{id:"school_lior",title:"1.  ",type:Y.SCENARIO,isLocked:!1,isCompleted:!1,coordinates:{x:15,y:28},data:{description:'              .     : "    ".',backgroundImage:$.SCHOOL_LIOR,dialog:[{id:"1",speaker:"",text:"      !   .",mood:"concerned"},{id:"2",speaker:"",text:"  .      .      .",mood:"neutral"}],interactionType:G.MULTIPLE_CHOICE,interactionData:{question:"   ",answers:[{id:"1",text:"  ",correct:!1},{id:"2",text:"    ",correct:!0},{id:"3",text:" ",correct:!1},{id:"4",text:"  ",correct:!1}]},decisionQuestion:"   :         ",options:[{id:"opt1",text:"        .",feedback:":      . :    ."},{id:"opt2",text:"     .",feedback:":    . :     ."},{id:"opt3",text:"    .",feedback:":       . :        ."},{id:"opt4",text:'    - "    ".',feedback:":   . :      ."}],moreInfoTitle:"   ",moreInfoContent:"                 .         .        ."}},{id:"town_square",title:"2.  ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:35,y:65},data:{description:':       .  ""        .',backgroundImage:$.TOWN_SQUARE,dialog:[],interactionType:G.DRAG_SHIELD,interactionData:{items:[{id:"1",text:"      ",isDanger:!0},{id:"2",text:"   ",isDanger:!1},{id:"3",text:"    ",isDanger:!0},{id:"4",text:"   ",isDanger:!1}]},decisionQuestion:"   ",options:[{id:"ok",text:"",feedback:"           ."}],moreInfoTitle:" ",moreInfoContent:"    :              ."}},{id:"city_hall",title:"3. ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:50,y:25},data:{description:'  " "   .        (AI).        .',backgroundImage:$.CITY_HALL,dialog:[{id:"1",speaker:" ",text:"  /       .       ",mood:"neutral"}],interactionType:G.CITY_HALL_SUB_LOCATIONS,subScenes:[{id:"sub_square",title:" ",icon:"",backgroundImage:$.CITY_HALL_SQUARE,dialog:[{id:"1",speaker:" ",text:"      .       .         .",mood:"happy"},{id:"2",speaker:"",text:" :           .",mood:"neutral"}]},{id:"sub_cafe",title:"",icon:"",backgroundImage:$.CITY_HALL_CAFE,dialog:[{id:"1",speaker:"",text:"          .     .    .",mood:"concerned"},{id:"2",speaker:"",text:" :           .",mood:"neutral"}]},{id:"sub_neighborhood",title:" ",icon:"",backgroundImage:$.CITY_HALL_NEIGHBORHOOD,dialog:[{id:"1",speaker:"",text:'  .              ""   .',mood:"concerned"},{id:"2",speaker:"",text:" :            .",mood:"neutral"}]},{id:"sub_school",title:"",icon:"",backgroundImage:$.CITY_HALL_SCHOOL,dialog:[{id:"1",speaker:"",text:"               .     .",mood:"neutral"},{id:"2",speaker:"",text:" :          .",mood:"neutral"}]}],decisionQuestion:"       ",options:[{id:"1",text:"      ",feedback:"       .      ."},{id:"2",text:"   ",feedback:"      ."},{id:"3",text:"     ",feedback:"       .     .    ."}],moreInfoTitle:" ",moreInfoContent:`                .

                 :   .
                                .
              :
               .
         (        ).
                     .
             .
                           .`}},{id:"intro_freedom_speech",title:"4. ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:72,y:56},data:{description:":        .",backgroundImage:$.FREEDOM_INTRO,dialog:[],interactionType:G.BALLOONS,interactionData:{items:[{id:"1",text:"         ",isCorrect:!1},{id:"2",text:"      ",isCorrect:!0},{id:"3",text:"     ",isCorrect:!0},{id:"4",text:"     ",isCorrect:!1}]},decisionQuestion:" ",options:[{id:"ok",text:"",feedback:"  -   ."}],moreInfoTitle:" ",moreInfoContent:"      .         .        ."}},{id:"school_tamara",title:"5. ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:85,y:28},data:{description:'                  "".',backgroundImage:$.SCHOOL_TAMARA,digitalContent:{type:"POST",author:"",content:"    !      .       ",likes:150},dialog:[{id:"1",speaker:"  ",text:"      !     .",mood:"angry"},{id:"2",speaker:"",text:"   !         .",mood:"concerned"},{id:"3",speaker:" ",text:"  .           .",mood:"neutral"}],interactionType:G.NONE,decisionQuestion:"    ",options:[{id:"1",text:'    ! -      "" .',feedback:"   .     ."},{id:"2",text:"           .",feedback:".      .    ."},{id:"3",text:"     -   .",feedback:" .     ."}],moreInfoTitle:" ",moreInfoContent:"         .         ( 13)."}},{id:"newspaper_office",title:'6.  ""',type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:20,y:70},data:{description:'  "" : "    ".        10 .',backgroundImage:$.NEWSPAPER,digitalContent:{type:"ARTICLE",title:"",content:"       .",author:" "},dialog:[{id:"1",speaker:"",text:"  !  ",mood:"concerned"},{id:"2",speaker:"",text:"   .   .",mood:"angry"}],interactionType:G.NONE,decisionQuestion:"   ",options:[{id:"1",text:'    : " !"',feedback:"    ."},{id:"2",text:"    ",feedback:" .     ."},{id:"3",text:"  ",feedback:"    ."}],moreInfoTitle:" ",moreInfoContent:'     .    " " (1953)      .'}},{id:"supreme_court",title:"7.  ",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:50,y:85},data:{description:"    .     .",backgroundImage:$.COURT,dialog:[{id:"1",speaker:" ",text:"    .      .",mood:"neutral"},{id:"2",speaker:" ",text:"    .   .     .",mood:"neutral"}],interactionType:G.NONE,decisionQuestion:"  ",options:[{id:"1",text:"   -   ",feedback:".          ."},{id:"2",text:"  -    ",feedback:"     ."},{id:"3",text:"   ",feedback:"      ."}],moreInfoTitle:"  ",moreInfoContent:' :          "       ".'}},{id:"quiz_finale",title:"8.  ",type:Y.QUIZ,isLocked:!0,isCompleted:!1,coordinates:{x:85,y:70},data:{description:"         .",dialog:[],interactionType:G.CODE_CRACKER,interactionData:{questions:[{id:"q1",question:"      ",options:[{text:"1947",value:0},{text:"1967",value:0},{text:"1948",value:3},{text:"1946",value:0}],explanation:"1948 -    3"},{id:"q2",question:"           ",options:[{text:"1996",value:0},{text:"1992",value:2},{text:"1987",value:0},{text:"1990",value:0}],explanation:"1992 -    2"},{id:"q3",question:"     ----      ",options:[{text:"9",value:0},{text:"5",value:0},{text:"8",value:0},{text:"7",value:4}],explanation:"   4.             (                             )"},{id:"q4",question:"       ",options:[{text:" ",value:0},{text:"",value:2},{text:"",value:0},{text:"",value:0}],explanation:" -    2"}]},decisionQuestion:"  !",options:[],moreInfoTitle:"  !",moreInfoContent:`             .             .

                      .           .`}}],W0=[{id:"HUB_CONFIG",title:"Map Settings",type:Y.HUB,isLocked:!1,isCompleted:!1,data:{description:"",backgroundImage:$.HUB,dialog:[],interactionType:G.NONE,decisionQuestion:"",options:[]}},{id:"intro",title:"Intro - Neve Or",type:Y.INTRO,isLocked:!1,isCompleted:!1,data:{description:'Welcome to Neve Or, a digital city where every decision you make affects the lives of its residents. Here you will discover that human rights are not always easily realized. Throughout the game, you will step into the shoes of students, journalists, and judges. Your choices will determine if a right is protected, violated, or balanced properly. There is no "perfect solution"  only responsibility and critical thinking. Will you manage to find the balance?',backgroundImage:$.INTRO,decisionQuestion:"Will you manage to find the balance?",options:[{id:"start",text:"Start Game",feedback:"The game begins now."}],dialog:[],interactionType:G.NONE}},{id:"school_lior",title:"1. Lior's Choice",type:Y.SCENARIO,isLocked:!1,isCompleted:!1,coordinates:{x:15,y:28},data:{description:'Lior discovers that his school building has dangerous cracks in the ceiling, with a definite risk of collapse. He reports it to the principal, but the principal says: "There is no budget for repairs right now."',backgroundImage:$.SCHOOL_LIOR,dialog:[{id:"1",speaker:"Lior",text:"Principal, the ceiling is crumbling! It's really dangerous.",mood:"concerned"},{id:"2",speaker:"Principal",text:"I know, but there is no budget for repairs at the moment. It will be fine.",mood:"neutral"}],interactionType:G.MULTIPLE_CHOICE,interactionData:{question:"Which right is being violated here?",answers:[{id:"1",text:"Right to Education",correct:!1},{id:"2",text:"Right to Life and Personal Security",correct:!0},{id:"3",text:"Freedom of Speech",correct:!1},{id:"4",text:"Right to Privacy",correct:!1}]},decisionQuestion:"Lior needs to make a decision: How will he protect the students' Right to Life and Security?",options:[{id:"opt1",text:"Document the cracks and contact the Ministry of Education or local authority.",feedback:"Advantage: Contacting a senior authority committed to safety. Disadvantage: The process might be slow."},{id:"opt2",text:"Organize with other students, sign a petition, and present it to the principal.",feedback:"Advantage: Group power creates pressure. Disadvantage: The principal might get angry or ignore it."},{id:"opt3",text:"Call parents and inform them about the danger.",feedback:"Advantage: Parents can act quickly and are often influential. Disadvantage: It might create conflict between parents and the school."},{id:"opt4",text:`Do nothing  "Maybe the cracks aren't that dangerous."`,feedback:"Advantage: No one gets annoyed. Disadvantage: The danger remains, and an accident might happen."}],moreInfoTitle:"Right to Life and Security",moreInfoContent:"In situations where there is a real danger to life or personal security, quick action is essential. When it comes to safety, time is a life-saving factor. Quick response makes the difference between an accident and prevention."}},{id:"town_square",title:"2. Protecting Space",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:35,y:65},data:{description:`Goal: Identify when a person's personal security is violated and choose what the state should do. Drag the "Shield" only to situations representing a violation of personal security.`,backgroundImage:$.TOWN_SQUARE,dialog:[],interactionType:G.DRAG_SHIELD,interactionData:{items:[{id:"1",text:"Child threatened online",isDanger:!0},{id:"2",text:"Person walking innocently",isDanger:!1},{id:"3",text:"Person attacked on street",isDanger:!0},{id:"4",text:"Citizen talking to police",isDanger:!1}]},decisionQuestion:"Did you protect everyone?",options:[{id:"ok",text:"Continue",feedback:"Personal security is not a luxury  it is a basic right that every state must guarantee."}],moreInfoTitle:"Personal Security",moreInfoContent:"The right to personal security includes: protection from violence, assault or threat, maintaining privacy, and preventing physical and mental harm. This is the state's responsibility."}},{id:"city_hall",title:"3. The City That Films",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:50,y:25},data:{description:"Neve Or is dealing with rising crime. The Mayor is considering adding thousands of AI cameras with facial recognition. He asks you, the Human Rights Advisor, to talk to residents before making a recommendation.",backgroundImage:$.CITY_HALL,dialog:[{id:"1",speaker:"Mayor",text:"I want you to talk to three residents and hear how they feel. Only then recommend what is right.",mood:"neutral"}],interactionType:G.CITY_HALL_SUB_LOCATIONS,subScenes:[{id:"sub_square",title:"Central Square",icon:"",backgroundImage:$.CITY_HALL_SQUARE,dialog:[{id:"1",speaker:"Elderly Resident",text:"I used to be afraid to go out at night. Since they installed cameras, I finally feel safe. If there's a criminal, they catch him immediately.",mood:"happy"},{id:"2",speaker:"Info",text:"Hint: The right to personal security includes protection from danger and harm to body and life.",mood:"neutral"}]},{id:"sub_cafe",title:"Coffee Shop",icon:"",backgroundImage:$.CITY_HALL_CAFE,dialog:[{id:"1",speaker:"Young Woman",text:"I'm not doing anything wrong, but I feel like someone is always watching me. Every move is recorded. That's not freedom.",mood:"concerned"},{id:"2",speaker:"Info",text:"Hint: The right to privacy protects a person from surveillance and intrusion into their personal life.",mood:"neutral"}]},{id:"sub_neighborhood",title:"Neighborhood",icon:"",backgroundImage:$.CITY_HALL_NEIGHBORHOOD,dialog:[{id:"1",speaker:"Teenager",text:"I have an Ethiopian friend. He says every time he passes a camera, he worries the system thinks he's a suspect.",mood:"concerned"},{id:"2",speaker:"Info",text:"Hint: AI facial recognition technology is not perfect and can discriminate due to bias.",mood:"neutral"}]},{id:"sub_school",title:"School",icon:"",backgroundImage:$.CITY_HALL_SCHOOL,dialog:[{id:"1",speaker:"Student",text:"If we had police officers who knew us, like community officers, we'd feel safer without cameras. Security is also about who listens to you.",mood:"neutral"},{id:"2",speaker:"Info",text:"Hint: Real security is also based on trust and cooperation between citizens and the state.",mood:"neutral"}]}],decisionQuestion:"What is the solution that ensures real security for Neve Or residents?",options:[{id:"1",text:"Install smart cameras everywhere",feedback:"Crime drops, but residents feel they lost their freedom. Physical security achieved, but privacy harmed."},{id:"2",text:"Invest in community policing",feedback:"Social security rises and community connection improves, but technological protection is missing."},{id:"3",text:"Combine supervised cameras with community policing",feedback:"Cameras placed only in high-risk areas, under supervision. Crime drops, freedom preserved. Balance creates real security."}],moreInfoTitle:"The Proper Balance",moreInfoContent:`The proper balance between the right to personal security and the right to privacy requires an examination of the proportionality and necessity of using surveillance measures.

Both rights are fundamental rights recognized in Israeli law, anchored in Supreme Court rulings and Basic Law: Human Dignity and Liberty.
On one hand, the state has a responsibility to protect the lives of its citizens and maintain their security; on the other hand, the right to privacy protects a person from intrusion into their personal life space and unreasonable surveillance by the authorities.
Therefore, the use of smart cameras and facial recognition can only be justified if it meets the following principles:
Proper Purpose  Surveillance is intended to prevent actual crime or security danger, not for general or political use.
Proportionality  The least intrusive means possible must be used (for example, blurring the faces of people who are not suspects).
Limitation of Use  Information will be kept only for the time necessary for the purpose for which it was collected and will not be transferred to unauthorized parties.
Supervision and Transparency  An independent oversight mechanism and public reporting on the scope of camera use are required.
In other words, public security does not automatically override the right to privacy, but only to the extent necessary and proportional for maintaining genuine public peace, while preserving democratic values and human rights.`}},{id:"intro_freedom_speech",title:"4. My Voice",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:72,y:56},data:{description:"Mission: Pop only the balloons that show a violation of Freedom of Speech!",backgroundImage:$.FREEDOM_INTRO,dialog:[],interactionType:G.BALLOONS,interactionData:{items:[{id:"1",text:"Allowed to express unpopular opinion",isCorrect:!1},{id:"2",text:"Forbidden to speak against government",isCorrect:!0},{id:"3",text:"Forbidden to criticize institutions",isCorrect:!0},{id:"4",text:"Allowed to write review in newspaper",isCorrect:!1}]},decisionQuestion:"Mission Complete",options:[{id:"ok",text:"Continue",feedback:"Your voice matters  protect it, use it responsibly. Freedom of speech is not absolute, but it is a fundamental right."}],moreInfoTitle:"Freedom of Speech",moreInfoContent:"Freedom of speech includes the right to express an opinion, criticize, publish information, and demonstrate. Restrictions are allowed only when the expression endangers life or harms other rights disproportionately."}},{id:"school_tamara",title:"5. Tamara",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:85,y:28},data:{description:'Tamara, a 10th grade student, writes a Facebook post against the principal who cancelled the Student Council without consultation. She calls her a "Dictator".',backgroundImage:$.SCHOOL_TAMARA,digitalContent:{type:"POST",author:"Tamara",content:"Our principal is a dictator and hurts freedom of speech! Cancelled council without asking anyone. How are we supposed to learn democracy when we have no voice?",likes:150},dialog:[{id:"1",speaker:"Principal Cohen",text:"Tamara, you called me a dictator in front of hundreds! This hurts my dignity and authority.",mood:"angry"},{id:"2",speaker:"Tamara",text:"But I have freedom of speech! I just expressed an opinion on a policy that hurts us.",mood:"concerned"},{id:"3",speaker:"Teacher Danny",text:'You are both partially right. Criticism is allowed, but "dictator" is a personal attack.',mood:"neutral"}],interactionType:G.NONE,decisionQuestion:"What should happen now?",options:[{id:"1",text:`Suspend Tamara immediately! - You can't call the principal a "dictator" publicly.`,feedback:"Too harsh. Students have a right to freedom of speech."},{id:"2",text:"Tamara can criticize the decision, but needs to change to critical wording that isn't insulting.",feedback:"Correct. Freedom of speech is important but not absolute. Human dignity must be maintained."},{id:"3",text:"Tamara can write whatever she wants - freedom of speech is absolute.",feedback:"Inaccurate. Freedom of speech does not permit defamation."}],moreInfoTitle:"Student Rights",moreInfoContent:"The Convention on the Rights of the Child and Basic Laws grant students freedom of speech and participation. Cancelling a student council contradicts the Student Rights Law (Section 13), which states an institution will encourage a council."}},{id:"newspaper_office",title:"6. The Pulse",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:20,y:70},data:{description:'The "Pulse" newspaper published an article: "Government suppresses journalists and hides info". Interior Minister ordered to close the paper for 10 days citing security.',backgroundImage:$.NEWSPAPER,digitalContent:{type:"ARTICLE",title:"The Pulse",content:"Exposure: Government suppresses independent journalists and hides critical info from the public.",author:"Editorial Board"},dialog:[{id:"1",speaker:"Editor",text:"We got a closure notice! What do we do?",mood:"concerned"},{id:"2",speaker:"Reporter",text:"We must fight this. It's silencing us.",mood:"angry"}],interactionType:G.NONE,decisionQuestion:"How will the team respond?",options:[{id:"1",text:`Post another angry post: "We won't be silenced!"`,feedback:"Might worsen the situation."},{id:"2",text:"Petition the Supreme Court",feedback:"Correct step. The democratic way to deal with a government decision."},{id:"3",text:"Take down article and apologize",feedback:"Surrender that hurts freedom of the press."}],moreInfoTitle:"Freedom of the Press",moreInfoContent:'Freedom of the press is derived from freedom of speech. This case recalls the "Kol HaAm" affair (1953) where a closure order for a newspaper was cancelled.'}},{id:"supreme_court",title:"7. The Court",type:Y.SCENARIO,isLocked:!0,isCompleted:!1,coordinates:{x:50,y:85},data:{description:"You are now Supreme Court judges. The newspaper petitioned against the Minister of Interior.",backgroundImage:$.COURT,dialog:[{id:"1",speaker:"Govt Rep",text:"The state must protect public security. This article could cause riots.",mood:"neutral"},{id:"2",speaker:"Editor",text:"There is no real danger here, just criticism. In a democracy, criticism is allowed.",mood:"neutral"}],interactionType:G.NONE,decisionQuestion:"As judges, what is your ruling?",options:[{id:"1",text:"Cancel order - Freedom of speech prevails",feedback:"Correct. This is the principle established in the Kol HaAm High Court ruling (1953)."},{id:"2",text:"Approve order - Better prevent danger",feedback:"This is a harsh approach rejected in historical rulings."},{id:"3",text:"Reduce order duration",feedback:"Still a disproportionate violation."}],moreInfoTitle:"Near Certainty Test",moreInfoContent:'In the "Kol HaAm" ruling, the court stated: Freedom of speech must not be restricted unless there is "near certainty of real harm to state security".'}},{id:"quiz_finale",title:"8. Cracking Code",type:Y.QUIZ,isLocked:!0,isCompleted:!1,coordinates:{x:85,y:70},data:{description:"Answer the questions to get the digits for the secret code and finish the game.",dialog:[],interactionType:G.CODE_CRACKER,interactionData:{questions:[{id:"q1",question:"Year of Universal Declaration of Human Rights?",options:[{text:"1947",value:0},{text:"1967",value:0},{text:"1948",value:3},{text:"1946",value:0}],explanation:"1948 - The digit is 3"},{id:"q2",question:"Year Basic Law: Human Dignity and Liberty enacted?",options:[{text:"1996",value:0},{text:"1992",value:2},{text:"1987",value:0},{text:"1990",value:0}],explanation:"1992 - The digit is 2"},{id:"q3",question:"Israel is party to how many core HR treaties?",options:[{text:"9",value:0},{text:"5",value:0},{text:"8",value:0},{text:"7",value:4}],explanation:"The digit is 4. Israel is party to 7 core treaties."},{id:"q4",question:"Month of Int'l Day Against Racism?",options:[{text:"December",value:0},{text:"March",value:2},{text:"February",value:0},{text:"August",value:0}],explanation:"March - The digit is 2"}]},decisionQuestion:"Code Cracked!",options:[],moreInfoTitle:"Well Done!",moreInfoContent:`Human rights are fundamental rights ensuring everyone lives with dignity, freedom, and security. They allow us to live in a just society.

It is important to keep learning about human rights, understand the challenges, and fight for them to be realized for everyone  always, everywhere.`}}],yo={he:z0,ar:$0,en:W0},bo=t=>{const e=yo[t]&&yo[t].length>0?yo[t]:yo.he;return JSON.parse(JSON.stringify(e))};bo("he");const Nd={he:{start:"  ",devMode:"   (Dev Mode)",backToMap:" ",locked:"",completed:"",open:" ",next:"",challenge:" ",finishLevel:"   ",finishGame:" ",moreInfo:"  ",close:"",understood:", ",mapTitle:" ",gameTitle:" ",loading:"...",closeDev:"  ",correct:" !",correctAnswer:" !",tryAgain:"!  ",codeCracked:" !",codeLabel:" ",accessDenied:" :  ",question:"",of:"",mission:"",socialMedia:" ",newsAlert:" ",chooseLocation:"     ",visited:"  ",clickToListen:" ",finishedListening:" ",proceedToDecision:" ",visitMore:" ",locations:"",balloonsInst:"        !",shieldInst:"     !",yourChoice:" :",rotateDevice:"      ",fullScreen:" ",exitFullScreen:"  "},en:{start:"Start Game",devMode:"Enter Dev Mode",backToMap:"Back to Map",locked:"Locked",completed:"Completed",open:"Open",next:"Next",challenge:"Go to Challenge",finishLevel:"Finish Level & Back to Map",finishGame:"Finish Game",moreInfo:"More Info",close:"Close",understood:"Close",mapTitle:"City Map",gameTitle:"Neve Or",loading:"Loading...",closeDev:"Close & Play",correct:"Well Done!",correctAnswer:"Correct Answer!",tryAgain:"Wrong! Try Again",codeCracked:"Code Cracked!",codeLabel:"Secret Code",accessDenied:"Access Denied: Wrong Code",question:"Question",of:"of",mission:"MISSION",socialMedia:"SOCIAL MEDIA",newsAlert:"NEWS ALERT",chooseLocation:"Select a location to hear the residents",visited:" Visited",clickToListen:"Click to listen",finishedListening:"Finished listening",proceedToDecision:"Proceed to Decision",visitMore:"Visit",locations:"more locations",balloonsInst:" Pop only the balloons that show a violation of Freedom of Speech!",shieldInst:" Protect the vulnerable!",yourChoice:"Your Choice:",rotateDevice:"Please rotate your device to landscape ",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen"},ar:{start:" ",devMode:" ",backToMap:"  ",locked:"",completed:"",open:"",next:"",challenge:" ",finishLevel:"  ",finishGame:" ",moreInfo:" ",close:"",understood:" ",mapTitle:" ",gameTitle:" ",loading:" ...",closeDev:" ",correct:"!",correctAnswer:" !",tryAgain:"!   ",codeCracked:"  !",codeLabel:" ",accessDenied:"  :  ",question:"",of:"",mission:"",socialMedia:" ",newsAlert:" ",chooseLocation:"    ",visited:"  ",clickToListen:" ",finishedListening:"  ",proceedToDecision:"  ",visitMore:" ",locations:" ",balloonsInst:"        !",shieldInst:"     !",yourChoice:":",rotateDevice:"      ",fullScreen:" ",exitFullScreen:"   "}},H=(t,e)=>Nd[e][t]||Nd.he[t],J0=t=>t==="en"?"ltr":"rtl";let nr=null;const K0=()=>(nr||(nr=new(window.AudioContext||window.webkitAudioContext)),nr.state==="suspended"&&nr.resume(),nr),wt=(t,e,n)=>{const i=t.createOscillator();return i.type=e,i.frequency.setValueAtTime(n,t.currentTime),i},nn=(t,e,n,i)=>{const r=t.createGain();return r.gain.setValueAtTime(e,t.currentTime),r.gain.exponentialRampToValueAtTime(n,t.currentTime+i),r},ge=t=>{try{const e=K0(),n=e.currentTime;switch(t){case"click":{const i=wt(e,"sine",600),r=nn(e,.05,.001,.1);i.connect(r),r.connect(e.destination),i.start(n),i.stop(n+.1)}break;case"hover":{const i=wt(e,"sine",400),r=nn(e,.02,.001,.05);i.connect(r),r.connect(e.destination),i.start(n),i.stop(n+.05)}break;case"success":{const o=wt(e,"sine",523.25),s=wt(e,"triangle",659.25),u=nn(e,.1,.001,.6),c=nn(e,.05,.001,.6);o.connect(u),s.connect(c),u.connect(e.destination),c.connect(e.destination),o.start(n),s.start(n),o.stop(n+.6),s.stop(n+.6)}break;case"error":{const i=wt(e,"triangle",150),r=nn(e,.15,.001,.3),o=e.createBiquadFilter();o.type="lowpass",o.frequency.setValueAtTime(200,n),i.connect(o),o.connect(r),r.connect(e.destination),i.start(n),i.frequency.exponentialRampToValueAtTime(100,n+.2),i.stop(n+.3)}break;case"pop":{const i=wt(e,"sine",400),r=nn(e,.1,.001,.15);i.connect(r),r.connect(e.destination),i.start(n),i.frequency.exponentialRampToValueAtTime(800,n+.1),i.stop(n+.15)}break;case"victory":[523.25,659.25,783.99,1046.5,1318.51].forEach((r,o)=>{const s=n+o*.12,u=wt(e,"triangle",r),c=nn(e,.15,.001,1);u.connect(c),c.connect(e.destination),u.start(s),u.stop(s+1)}),setTimeout(()=>{const r=wt(e,"sine",523.25),o=wt(e,"sine",659.25),s=wt(e,"sine",783.99),u=nn(e,.2,.001,1.5);r.connect(u),o.connect(u),s.connect(u),u.connect(e.destination);const c=e.currentTime;r.start(c),r.stop(c+1.5),o.start(c),o.stop(c+1.5),s.start(c),s.stop(c+1.5)},600);break}}catch{}},Y0=({nodes:t,onNodeSelect:e,language:n,onLanguageChange:i,onBackToIntro:r})=>{const o=t.find(p=>p.id==="HUB_CONFIG"),s=o==null?void 0:o.data.backgroundImage,[u,c]=q.useState(!1),d=!1,f=t.filter(p=>p.type!=="INTRO"&&p.type!=="HUB"&&p.coordinates);return m.jsxs("div",{className:"fixed inset-0 w-full h-full bg-slate-900 overflow-hidden font-sans select-none",children:[m.jsxs("div",{className:"absolute inset-0 z-0",children:[s&&!u?m.jsx("img",{src:s,alt:"City Map",className:"w-full h-full object-cover transition-transform duration-[60s] ease-linear hover:scale-105",onError:()=>c(!0)}):m.jsxs("div",{className:"w-full h-full relative bg-[#f0f4f8]",children:[m.jsx("div",{className:"absolute bottom-0 right-0 w-1/3 h-1/3 bg-[#bfdbfe] rounded-tl-[100px] opacity-60"}),m.jsx("div",{className:"absolute top-20 left-[-10%] w-1/3 h-20 bg-[#bfdbfe] -rotate-12 opacity-40"}),m.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"linear-gradient(#94a3b8 2px, transparent 2px), linear-gradient(90deg, #94a3b8 2px, transparent 2px)",backgroundSize:"60px 60px"}}),m.jsx("div",{className:"absolute bottom-4 right-4 text-slate-400 font-bold text-xs uppercase tracking-widest",children:"NOVE OR CITY MAP"})]}),m.jsx("div",{className:"absolute inset-0 bg-black/5 pointer-events-none"})]}),d,m.jsx("div",{className:"absolute top-5 right-5 z-50",children:m.jsxs("button",{onClick:()=>{ge("click"),r()},className:"bg-white text-slate-700 px-5 py-2.5 rounded-full shadow-lg font-black text-xs sm:text-sm hover:scale-105 active:scale-95 transition-all flex items-center gap-2",children:[m.jsx("span",{children:""}),n==="en"?"Main Menu":n==="ar"?" ":" "]})}),m.jsx("div",{className:"absolute inset-0 z-10",children:f.map((p,h)=>{if(!p.coordinates)return null;const y=p.coordinates.y>60,T=!p.isLocked&&!p.isCompleted;return m.jsx("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 hover:z-50 transition-all duration-300",style:{left:`${p.coordinates.x}%`,top:`${p.coordinates.y}%`},children:m.jsxs("button",{onClick:()=>{p.isLocked?ge("error"):(ge("click"),e(p.id))},disabled:p.isLocked,className:`relative group/pin flex flex-col items-center transition-all duration-300 ${p.isLocked?"opacity-80 grayscale cursor-not-allowed":"hover:scale-110 cursor-pointer"}`,children:[m.jsx("div",{className:"hidden sm:block w-0.5 h-6 bg-black/30 absolute top-full left-1/2 -translate-x-1/2 origin-top transform scale-y-0 transition-transform duration-300 group-hover/pin:scale-y-100"}),m.jsx("div",{className:"hidden sm:block w-3 h-1 bg-black/40 rounded-full absolute top-[calc(100%+6px)] left-1/2 -translate-x-1/2 opacity-0 group-hover/pin:opacity-100 transition-opacity duration-300 blur-[2px]"}),m.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 sm:w-7 sm:h-7 bg-yellow-400 text-blue-900 rounded-full border-[2px] border-white flex items-center justify-center font-black text-[10px] sm:text-xs shadow-md z-30 transform transition-transform group-hover/pin:rotate-12",children:h+1}),T&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 bg-red-600 text-white text-[9px] sm:text-[10px] font-black px-1.5 py-0.5 rounded-full shadow-lg border border-white animate-bounce z-40 whitespace-nowrap",children:n==="he"?"!":"New!"}),m.jsx("div",{className:"absolute inset-0 rounded-3xl ring-4 ring-blue-400 animate-ping opacity-50"})]}),m.jsxs("div",{className:`w-10 h-10 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl rotate-45 flex items-center justify-center shadow-2xl border-[3px] sm:border-[4px] border-white transition-all relative z-20 overflow-hidden
                  ${p.isCompleted?"bg-gradient-to-br from-green-400 to-green-600":p.isLocked?"bg-gradient-to-br from-gray-400 to-gray-500":"bg-gradient-to-br from-blue-500 to-blue-700 hover:shadow-blue-500/50"}
                `,children:[m.jsx("span",{className:"-rotate-45 text-lg sm:text-3xl drop-shadow-md filter text-white",children:p.isCompleted?"":p.isLocked?"":p.type==="QUIZ"?"":""}),!p.isLocked&&m.jsx("div",{className:"absolute inset-0 bg-white/30 -skew-x-12 -translate-x-full group-hover/pin:animate-shine"})]}),m.jsxs("div",{className:`
                  absolute px-4 py-2 bg-white/95 backdrop-blur-md rounded-xl shadow-xl 
                  text-xs sm:text-sm font-bold text-gray-800 whitespace-nowrap opacity-0 
                  group-hover/pin:opacity-100 transition-all duration-300 z-30 flex flex-col items-center 
                  after:content-[''] after:absolute after:left-1/2 after:-translate-x-1/2 after:border-[6px] after:border-transparent pointer-events-none
                  ${y?"bottom-[calc(100%+16px)] translate-y-2 group-hover/pin:translate-y-0 after:-bottom-3 after:border-t-white/95 after:border-b-transparent":"top-[calc(100%+16px)] -translate-y-2 group-hover/pin:translate-y-0 after:-top-3 after:border-b-white/95 after:border-t-transparent"}
                `,children:[p.title,p.isLocked&&m.jsx("span",{className:"text-[9px] text-red-400 font-normal uppercase tracking-wider block text-center leading-none mt-0.5",children:"LOCKED"})]})]})},p.id)})}),m.jsxs("div",{className:"absolute bottom-6 right-6 z-40 flex items-center gap-3 sm:gap-4 bg-white/95 backdrop-blur px-5 py-2.5 rounded-full shadow-xl animate-fade-in-up",children:[m.jsx(Ea,{color:"bg-blue-600",label:H("open",n)}),m.jsx("div",{className:"w-px h-4 bg-gray-200"}),m.jsx(Ea,{color:"bg-green-500",label:H("completed",n)}),m.jsx("div",{className:"w-px h-4 bg-gray-200"}),m.jsx(Ea,{color:"bg-gray-400",label:H("locked",n)})]})]})},Ea=({color:t,label:e})=>m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2.5 h-2.5 sm:w-3 sm:h-3 rounded-full ${t} shadow-sm ring-2 ring-gray-100`}),m.jsx("span",{className:"text-[10px] sm:text-xs font-bold text-gray-700 whitespace-nowrap",children:e})]}),fe=({children:t,variant:e="primary",fullWidth:n=!1,className:i="",onClick:r,...o})=>{const s="px-6 py-3 rounded-2xl font-bold transition-all duration-200 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow-md",u={primary:"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200",secondary:"bg-amber-400 text-blue-900 hover:bg-amber-500 shadow-amber-200",danger:"bg-red-500 text-white hover:bg-red-600 shadow-red-200",outline:"bg-white ring-1 ring-inset ring-blue-200 text-blue-600 hover:bg-blue-50 hover:ring-blue-300 shadow-sm"},c=d=>{o.disabled||ge("click"),r&&r(d)};return m.jsx("button",{className:`${s} ${u[e]} ${n?"w-full":""} ${i}`,onClick:c,...o,children:t})},Rd=({message:t,avatarUrl:e})=>{const n=t.mood==="angry"?"bg-red-50 shadow-sm":t.mood==="happy"?"bg-green-50 shadow-sm":t.mood==="concerned"?"bg-amber-50 shadow-sm":"bg-white shadow-sm";return m.jsxs("div",{className:`flex gap-3 mb-4 sm:mb-5 animate-fade-in-up max-w-[95%] sm:max-w-[85%] ${t.isPlayer?"self-end flex-row-reverse":""}`,children:[m.jsx("div",{className:"flex-shrink-0 flex flex-col items-center gap-1",children:m.jsx("div",{className:"w-10 h-10 rounded-full shadow-md overflow-hidden bg-gray-100 flex items-center justify-center border-2 border-white",children:e?m.jsx("img",{src:e,alt:t.speaker,className:"w-full h-full object-cover"}):m.jsx("span",{className:"text-sm",children:""})})}),m.jsxs("div",{className:"flex flex-col gap-1 max-w-[85%]",children:[m.jsx("span",{className:`text-[10px] sm:text-xs font-bold px-2 py-0.5 rounded-full bg-black/20 text-white/90 shadow-sm backdrop-blur-sm w-fit ${t.isPlayer?"ml-auto":"mr-auto"}`,children:t.speaker}),m.jsx("div",{className:`py-3 px-4 rounded-2xl ${n} ${t.isPlayer?"rounded-tl-none":"rounded-tr-none"}`,children:m.jsx("p",{className:"text-gray-900 leading-relaxed text-xs sm:text-sm font-medium",children:t.text})})]})]})},Q0=()=>{const t=q.useRef(null);return q.useEffect(()=>{const e=t.current;if(!e)return;const n=e.getContext("2d");if(!n)return;e.width=window.innerWidth,e.height=window.innerHeight;const i=[],r=["#ff0000","#00ff00","#0000ff","#ffff00","#ff00ff","#00ffff"];for(let c=0;c<300;c++)i.push({x:Math.random()*e.width,y:Math.random()*e.height-e.height,color:r[Math.floor(Math.random()*r.length)],size:Math.random()*8+4,speedY:Math.random()*3+3,speedX:Math.random()*4-2,rotation:Math.random()*360,rotationSpeed:Math.random()*10-5});let o;const s=()=>{n.clearRect(0,0,e.width,e.height),i.forEach(c=>{c.y+=c.speedY,c.x+=c.speedX,c.rotation+=c.rotationSpeed,c.y>e.height&&(c.y=-10,c.x=Math.random()*e.width),n.save(),n.translate(c.x,c.y),n.rotate(c.rotation*Math.PI/180),n.fillStyle=c.color,n.fillRect(-c.size/2,-c.size/2,c.size,c.size),n.restore()}),o=requestAnimationFrame(s)};s();const u=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",u),()=>{cancelAnimationFrame(o),window.removeEventListener("resize",u)}},[]),m.jsx("canvas",{ref:t,className:"absolute inset-0 pointer-events-none z-[100]"})},X0=({node:t,onComplete:e,onBack:n,language:i})=>{const[r,o]=q.useState("INTRO"),[s,u]=q.useState(""),[c,d]=q.useState(!1),[f,p]=q.useState(null),[h,y]=q.useState(!1),[T,E]=q.useState([]),[S,_]=q.useState(null),[g,v]=q.useState(null),[I,w]=q.useState(!1),[C,x]=q.useState(new Set),[A,P]=q.useState(null),[R,B]=q.useState(0),[W,ee]=q.useState([]),[Pt,ut]=q.useState(!1),[Ie,M]=q.useState(""),[k,b]=q.useState(null);q.useEffect(()=>{var F;if(o("INTRO"),y(!1),B(0),ee([]),_(null),v(null),x(new Set),P(null),p(null),u(""),ut(!1),M(""),b(null),w(!1),t.data.interactionType!==G.NONE&&((F=t.data.interactionData)!=null&&F.items)){const de=t.data.interactionData.items.map(ve=>({...ve,popped:!1,protected:!1}));E(de)}},[t]);const L=F=>{F.isCorrect?(ge("pop"),E(de=>de.map(ve=>ve.id===F.id?{...ve,popped:!0}:ve))):(ge("error"),_(F.id),setTimeout(()=>_(null),500))},O=F=>{F.isDanger?(ge("success"),E(de=>de.map(ve=>ve.id===F.id?{...ve,protected:!0}:ve))):(ge("error"),_(F.id),setTimeout(()=>_(null),500))},Z=F=>{v(F.id),F.correct?(ge("success"),setTimeout(()=>y(!0),800)):(ge("error"),_(F.id),setTimeout(()=>{_(null),v(null)},800))};q.useEffect(()=>{if(r==="INTERACTION"){let F=!1;t.data.interactionType===G.BALLOONS?F=T.filter(ve=>ve.isCorrect&&!ve.popped).length===0:t.data.interactionType===G.DRAG_SHIELD&&(F=T.filter(ve=>ve.isDanger&&!ve.protected).length===0),F&&T.length>0&&(ge("success"),setTimeout(()=>y(!0),1e3))}},[T,r,t.data.interactionType]);const je=(F,de)=>{if(F===0){ge("error"),w(!0),setTimeout(()=>w(!1),800);return}ge("success"),M(de),b(F),ut(!0)},Mt=()=>{if(ge("click"),k!==null){const F=[...W,k];ee(F),R<3?B(de=>de+1):F.join("")==="3242"?(ge("victory"),setTimeout(()=>y(!0),500)):(ee([]),B(0)),ut(!1),b(null)}},oi=(F=!1)=>{var K;const{data:de}=t;if(!de.digitalContent)return null;const ve=de.digitalContent.type==="POST"?H("socialMedia",i):H("newsAlert",i),z=i==="he"||i==="ar"?"left-0 rounded-br-2xl":"right-0 rounded-bl-2xl";return m.jsxs("div",{className:`bg-white rounded-2xl shadow-xl relative overflow-hidden ${F?"p-3":"p-5"}`,children:[m.jsx("div",{className:`absolute top-0 ${z} bg-yellow-400 text-blue-900 text-[10px] sm:text-xs font-black px-4 py-1.5 shadow-sm z-10 uppercase tracking-wide font-sans`,children:ve}),m.jsxs("div",{className:"flex items-center gap-3 mb-3 mt-2",children:[m.jsx("div",{className:`rounded-full flex items-center justify-center font-bold text-slate-500 bg-slate-100 font-sans shadow-inner ${F?"w-8 h-8 text-xs":"w-12 h-12 text-lg"}`,children:((K=de.digitalContent.author)==null?void 0:K[0])||""}),m.jsx("div",{children:m.jsx("p",{className:"font-bold text-slate-800 text-sm font-sans",children:de.digitalContent.author||de.digitalContent.title})})]}),m.jsxs("div",{className:`text-slate-900 font-sans font-medium leading-relaxed ${F?"text-xs sm:text-sm":"text-sm sm:text-base"} px-1`,children:['"',de.digitalContent.content,'"']})]})},bt=()=>{var de,ve;const{data:F}=t;switch(r){case"INTRO":return m.jsx("div",{className:"h-full w-full flex flex-col justify-center items-center py-2 sm:py-4",children:m.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-[2rem] shadow-2xl w-[95%] max-w-md mx-auto flex flex-col max-h-[85vh] opacity-0 animate-fade-in-up",style:{animationDelay:"0.2s",animationFillMode:"both"},children:[m.jsxs("div",{className:"px-5 py-4 sm:px-6 flex justify-between items-center gap-2 flex-shrink-0 font-sans z-10",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-black truncate font-sans tracking-tight text-blue-900 drop-shadow-sm",children:t.title}),m.jsx("div",{className:"text-[10px] sm:text-xs bg-blue-100 text-blue-800 px-3 py-1 rounded-full uppercase tracking-wider flex-shrink-0 font-bold shadow-sm",children:H("mission",i)})]}),m.jsxs("div",{className:"px-5 sm:px-6 pb-2 overflow-y-auto custom-scrollbar flex-1 min-h-0",children:[m.jsx("p",{className:"text-sm sm:text-lg leading-relaxed text-gray-700 font-medium mb-4",children:F.description}),F.digitalContent&&m.jsx("div",{className:"mt-4 mb-2",children:oi(!1)})]}),m.jsx("div",{className:"p-5 sm:p-6 flex justify-center flex-shrink-0",children:m.jsx(fe,{fullWidth:!0,onClick:()=>o(F.dialog.length>0?"DIALOG":F.interactionType!==G.NONE?"INTERACTION":"DECISION"),className:"py-3 sm:py-4 text-base sm:text-lg font-black shadow-lg shadow-blue-200 rounded-2xl transform transition hover:scale-[1.02]",children:H("next",i)})})]})});case"DIALOG":return m.jsxs("div",{className:"flex flex-col h-full justify-end pb-8 relative",children:[F.digitalContent&&m.jsx("div",{className:"absolute top-14 right-4 max-w-xs animate-fade-in z-20 hidden lg:block",children:m.jsx("div",{className:"bg-white/80 backdrop-blur p-2 rounded-2xl shadow-lg",children:oi(!0)})}),m.jsxs("div",{className:"flex flex-col min-h-0 justify-end w-full max-w-3xl mx-auto z-10",children:[m.jsx("div",{className:"flex-shrink-1 overflow-y-auto mb-2 p-2 mask-image-linear-gradient max-h-[60vh] sm:max-h-[50vh]",children:F.dialog.map(z=>{var K;return m.jsx(Rd,{message:z,avatarUrl:(K=F.characterImages)==null?void 0:K[z.speaker]},z.id)})}),m.jsx("div",{className:"flex justify-center flex-shrink-0",children:m.jsx(fe,{onClick:()=>o(F.interactionType!==G.NONE?"INTERACTION":"DECISION"),className:"py-3 px-12 rounded-full shadow-2xl bg-blue-600 hover:bg-blue-700 text-lg font-bold border-4 border-white/20",children:F.interactionType!==G.NONE?H("challenge",i):H("next",i)})})]})]});case"INTERACTION":if(F.interactionType===G.CITY_HALL_SUB_LOCATIONS&&F.subScenes){if(A)return m.jsxs("div",{className:"absolute inset-0 z-50 flex flex-col animate-fade-in",children:[A.backgroundImage&&m.jsx("img",{src:A.backgroundImage,className:"absolute inset-0 w-full h-full object-cover z-0 scale-100",alt:""}),m.jsx("div",{className:"absolute inset-0 bg-black/60 z-0 pointer-events-none"}),m.jsxs("div",{className:"absolute top-4 right-4 z-20 flex items-center gap-2 bg-black/60 backdrop-blur-md px-4 py-2 rounded-full border border-white/10 shadow-lg animate-slide-up",children:[m.jsx("span",{className:"text-xl filter drop-shadow-md",children:A.icon}),m.jsx("h3",{className:"text-sm font-bold text-white drop-shadow-md font-sans",children:A.title})]}),m.jsx("button",{onClick:()=>P(null),className:"absolute top-4 left-4 z-20 bg-white/20 hover:bg-white/30 backdrop-blur text-white w-10 h-10 rounded-full flex items-center justify-center font-bold transition-all shadow-lg border border-white/20",children:""}),m.jsx("div",{className:"relative z-10 mt-auto flex flex-col p-4 w-full max-w-2xl mx-auto mb-16",children:m.jsx("div",{className:"overflow-y-auto max-h-[50vh] p-2 scrollbar-hide flex flex-col justify-end",children:A.dialog.map(K=>m.jsx(Rd,{message:K},K.id))})}),m.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 z-20",children:m.jsx(fe,{onClick:()=>{ge("click"),x(K=>new Set(K).add(A.id)),P(null)},className:"py-3 px-10 rounded-full text-base font-bold shadow-2xl shadow-blue-900/50 bg-blue-600 hover:bg-blue-500 text-white border-2 border-white/20",children:H("finishedListening",i)})})]});const z=C.size>=3;return m.jsxs("div",{className:"h-full flex flex-col items-center justify-center animate-fade-in max-w-4xl mx-auto w-full relative z-10",children:[m.jsx("h3",{className:"text-base sm:text-xl font-black text-white mb-6 text-center drop-shadow-lg font-sans bg-black/40 px-6 py-2 rounded-2xl backdrop-blur-sm",children:H("chooseLocation",i)}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full max-w-2xl overflow-y-auto max-h-[60vh] p-2",children:F.subScenes.map(K=>{const ie=C.has(K.id);return m.jsxs("button",{onClick:()=>{ge("click"),P(K)},className:`relative overflow-hidden p-4 rounded-2xl transition-all duration-300 flex items-center gap-4 shadow-lg group text-right min-h-[80px]
                         ${ie?"bg-black/60 backdrop-blur-sm":"bg-white/95 hover:scale-105 hover:shadow-2xl"}
                       `,children:[K.backgroundImage&&m.jsx("div",{className:"absolute inset-0 opacity-40 z-0",children:m.jsx("img",{src:K.backgroundImage,className:"w-full h-full object-cover",alt:""})}),m.jsx("div",{className:"relative z-10 text-3xl group-hover:scale-110 transition-transform filter drop-shadow-sm",children:K.icon}),m.jsxs("div",{className:"relative z-10 flex-1",children:[m.jsx("div",{className:`font-black text-base ${ie?"text-white":"text-gray-900"}`,children:K.title}),m.jsx("div",{className:`text-xs font-bold mt-1 ${ie?"text-green-300":"text-blue-600"}`,children:H(ie?"visited":"clickToListen",i)})]})]},K.id)})}),m.jsx("div",{className:"mt-6 sm:mt-10 w-full flex justify-center",children:m.jsx(fe,{onClick:()=>o("DECISION"),disabled:!z,className:`py-3 px-10 rounded-full text-base font-bold shadow-xl transition-all ${z?"animate-bounce bg-blue-600 hover:bg-blue-500 ring-4 ring-blue-500/30":"bg-gray-500/50 cursor-not-allowed text-gray-300"}`,children:z?H("proceedToDecision",i):`${H("visitMore",i)} ${3-C.size} ${H("locations",i)}`})})]})}if(F.interactionType===G.MULTIPLE_CHOICE&&((de=F.interactionData)!=null&&de.question))return m.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden animate-fade-in relative",children:[m.jsx("div",{className:"flex-shrink-0 mb-4 z-10",children:m.jsx("div",{className:"bg-white/95 backdrop-blur-xl text-blue-900 rounded-3xl shadow-xl relative overflow-hidden flex flex-col justify-center p-5 text-center",children:m.jsx("h3",{className:"text-sm sm:text-base font-black relative z-10 leading-tight font-sans tracking-tight",children:F.interactionData.question})})}),m.jsx("div",{className:"flex-1 min-h-0 flex flex-col relative w-full",children:h?m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center animate-fade-in p-2 overflow-y-auto",children:m.jsxs("div",{className:"bg-white/95 backdrop-blur-xl p-8 rounded-[2rem] shadow-2xl text-center w-full max-w-sm flex flex-col items-center flex-shrink-0",children:[m.jsx("div",{className:"text-5xl mb-3 animate-bounce",children:""}),m.jsx("h3",{className:"text-2xl font-black text-blue-900 mb-1",children:H("correct",i)}),m.jsx("p",{className:"text-gray-500 font-bold mb-6 text-sm",children:H("correctAnswer",i)}),m.jsx(fe,{fullWidth:!0,className:"py-3 text-base shadow-xl bg-blue-600 text-white mt-auto flex-shrink-0 rounded-2xl",onClick:()=>o("DECISION"),children:H("next",i)})]})}):m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col gap-3 p-1 pb-4",children:F.interactionData.answers.map(z=>{const K=g===z.id,ie=K&&!z.correct&&S===z.id;return m.jsxs("button",{onClick:()=>Z(z),className:`
                                p-4 rounded-2xl font-bold text-sm sm:text-base transition-all duration-200 flex justify-between items-center text-start shadow-sm shrink-0 min-h-[60px]
                                ${K&&z.correct?"bg-green-500 text-white shadow-green-200 shadow-lg scale-[1.02]":ie?"bg-red-500 text-white animate-shake shadow-red-200":"bg-white hover:bg-blue-50 text-gray-700 hover:shadow-lg hover:scale-[1.01]"}
                              `,children:[m.jsx("span",{className:"flex-1 leading-snug",children:z.text}),m.jsxs("span",{className:"text-xl flex-shrink-0 ml-3",children:[K&&z.correct&&"",ie&&""]})]},z.id)})})})]});if(F.interactionType===G.BALLOONS){const z=[{bg:"radial-gradient(circle at 30% 30%, #ef4444, #991b1b)",shadow:"shadow-red-900/40"},{bg:"radial-gradient(circle at 30% 30%, #eab308, #854d0e)",shadow:"shadow-yellow-900/40"},{bg:"radial-gradient(circle at 30% 30%, #3b82f6, #1e3a8a)",shadow:"shadow-blue-900/40"},{bg:"radial-gradient(circle at 30% 30%, #8b5cf6, #5b21b6)",shadow:"shadow-purple-900/40"}];return m.jsxs("div",{className:"h-full flex flex-col relative overflow-hidden animate-fade-in w-full max-w-4xl mx-auto rounded-[2.5rem] shadow-2xl bg-white/10 backdrop-blur-sm border border-white/20",children:[!h&&m.jsx("div",{className:"text-center z-10 pt-4 px-2 flex-shrink-0",children:m.jsx("div",{className:"inline-block bg-white/90 backdrop-blur-md px-6 py-2.5 rounded-full shadow-lg",children:m.jsx("h3",{className:"font-black text-xs sm:text-sm text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 font-sans tracking-wide",children:H("balloonsInst",i)})})}),m.jsx("div",{className:"flex-1 relative z-10 overflow-hidden min-h-0 w-full flex flex-col",children:h?m.jsx("div",{className:"h-full flex items-center justify-center animate-fade-in p-4",children:m.jsxs("div",{className:"bg-white/95 backdrop-blur-xl p-8 rounded-[2rem] shadow-2xl text-center max-w-xs w-full",children:[m.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:""}),m.jsx("h3",{className:"text-2xl font-black text-blue-900 mb-6",children:H("correct",i)}),m.jsx(fe,{className:"px-8 py-3 w-full shadow-lg text-base rounded-2xl",onClick:()=>o("DECISION"),children:H("next",i)})]})}):m.jsx("div",{className:"flex flex-row flex-wrap sm:flex-nowrap items-center justify-center gap-1 sm:gap-4 h-full w-full px-2 pb-4 pt-10",children:T.map((K,ie)=>{const Et=z[ie%z.length],Zr=K.popped,pv=S===K.id,hv=4+ie*.7,_c=ie*1.2,mv=ie%2===0?"-translate-y-2 sm:-translate-y-6":"translate-y-2 sm:translate-y-6";return m.jsxs("div",{className:`relative flex flex-col items-center justify-center transition-all duration-300 ${Zr?"balloon-burst":"balloon-float"} ${pv?"animate-shake":""} ${mv}`,style:{animationDuration:Zr?"0.3s":`${hv}s`,animationDelay:Zr?"0s":`-${_c}s`},children:[m.jsx("button",{onClick:()=>L(K),disabled:Zr,className:`balloon-shape w-20 h-24 sm:w-28 sm:h-32 flex items-center justify-center p-1 text-center cursor-pointer group border-none outline-none ring-0 ${Et.shadow}`,style:{background:Et.bg},children:m.jsx("p",{className:"relative z-10 font-bold text-white text-[9px] sm:text-xs leading-tight drop-shadow-md select-none group-hover:scale-105 transition-transform line-clamp-4 px-2",children:K.text})}),m.jsx("div",{className:"w-[1px] bg-white/60 origin-top animate-[stringWave_3s_ease-in-out_infinite]",style:{height:"40px",animationDelay:`-${_c}s`}})]},K.id)})})})]})}if(F.interactionType===G.DRAG_SHIELD)return m.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden animate-fade-in relative",children:[m.jsx("div",{className:"flex-shrink-0 text-center mb-4 z-10 pt-2 px-2",children:m.jsx("div",{className:"bg-white/95 backdrop-blur-xl text-blue-900 rounded-full shadow-lg inline-flex items-center px-8 py-3 relative overflow-hidden max-w-full",children:m.jsxs("h3",{className:"text-sm sm:text-base font-black flex items-center gap-2 relative z-10 whitespace-nowrap font-sans",children:[m.jsx("span",{className:"text-xl",children:""}),H("shieldInst",i)]})})}),m.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 relative z-10 custom-scrollbar px-1 pb-2",children:m.jsx("div",{className:"grid grid-cols-2 gap-4",children:T.map(z=>{const K=S===z.id,ie=z.protected;return m.jsxs("button",{onClick:()=>O(z),disabled:ie,className:`
                               relative group p-4 rounded-3xl transition-all duration-300 flex flex-col items-center justify-center text-center gap-3 min-h-[120px]
                               shadow-md backdrop-blur-sm shrink-0
                               ${ie?"bg-blue-50/90 shadow-blue-100 cursor-default scale-95":K?"bg-red-50 animate-shake":"bg-white/95 hover:-translate-y-1 hover:shadow-xl"}
                            `,children:[m.jsx("div",{className:"text-3xl sm:text-5xl filter drop-shadow-sm transition-transform group-hover:scale-110",children:z.text.includes("")?"":z.text.includes("")?"":z.text.includes("")?"":""}),m.jsx("p",{className:`text-xs sm:text-sm font-bold leading-tight ${ie?"text-blue-800":"text-gray-700"}`,children:z.text}),m.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-500 ${ie?"opacity-100 scale-100":"opacity-0 scale-50 pointer-events-none"}`,children:m.jsx("div",{className:"bg-white/90 rounded-full p-4 shadow-xl backdrop-blur-sm",children:m.jsx("div",{className:"text-4xl drop-shadow-lg animate-bounce",children:""})})})]},z.id)})})}),m.jsx("div",{className:"flex-shrink-0 p-4 pb-6 flex justify-center z-20",children:h&&m.jsx(fe,{fullWidth:!0,onClick:()=>o("DECISION"),className:"animate-slide-up max-w-sm py-3 text-base font-bold shadow-xl shadow-green-900/30 bg-green-600 hover:bg-green-700 rounded-full",children:H("next",i)})})]});if(F.interactionType===G.CODE_CRACKER&&((ve=F.interactionData)!=null&&ve.questions)){const z=F.interactionData.questions,K=z[R];return h?m.jsxs("div",{className:"relative h-full w-full",children:[m.jsx(Q0,{}),m.jsxs("div",{className:"text-center animate-fade-in bg-white/90 backdrop-blur-xl p-6 sm:p-8 rounded-[2rem] shadow-2xl h-full flex flex-col items-center overflow-y-auto relative z-10",children:[m.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center text-5xl shadow-inner mb-4 flex-shrink-0",children:""}),m.jsx("h2",{className:"text-3xl font-black text-blue-900 mb-2 font-sans tracking-tight",children:t.data.moreInfoTitle||H("codeCracked",i)}),m.jsx("div",{className:"flex justify-center gap-4 mb-8 mt-4",children:W.map((ie,Et)=>m.jsx("div",{className:"w-14 h-20 bg-slate-900 text-green-400 flex items-center justify-center text-5xl font-mono rounded-2xl shadow-2xl animate-bounce",style:{animationDelay:`${Et*100}ms`},children:ie},Et))}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar w-full mb-6 bg-blue-50/50 p-6 rounded-3xl text-right rtl:text-right ltr:text-left",children:m.jsx("p",{className:"text-base font-medium text-gray-800 leading-relaxed whitespace-pre-line",children:t.data.moreInfoContent})}),m.jsx(fe,{fullWidth:!0,onClick:e,className:"flex-shrink-0 py-4 text-lg shadow-xl bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 text-white font-black rounded-2xl transform transition hover:scale-105",children:H("finishGame",i)})]})]}):m.jsxs("div",{className:`h-full w-full flex flex-col overflow-hidden animate-fade-in relative ${I?"animate-shake":""}`,children:[I&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-red-500/20 backdrop-blur-sm animate-pulse rounded-2xl pointer-events-none",children:m.jsxs("div",{className:"bg-red-600 text-white px-6 py-3 rounded-full shadow-2xl font-black text-xl transform rotate-3",children:[H("tryAgain",i)," "]})}),Pt&&m.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md p-4 animate-fade-in",children:m.jsxs("div",{className:"bg-white w-full max-w-sm flex flex-col rounded-[2rem] p-8 shadow-2xl animate-slide-up",children:[m.jsxs("h3",{className:"text-xl font-black text-green-600 mb-4 border-b border-gray-100 pb-3 flex items-center gap-2 font-sans",children:[m.jsx("span",{children:""})," ",H("correct",i)]}),m.jsx("div",{className:"overflow-y-auto flex-1 mb-6 custom-scrollbar",children:m.jsx("p",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-line font-medium",children:Ie})}),m.jsx(fe,{fullWidth:!0,onClick:Mt,className:"py-3 text-base bg-green-600 hover:bg-green-700 text-white font-bold shadow-lg rounded-2xl",children:H("next",i)})]})}),m.jsxs("div",{className:"bg-slate-800 text-green-400 p-4 rounded-3xl font-mono text-center shadow-lg transform rotate-1 flex-shrink-0 mb-4 mx-2",children:[m.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest mb-1 font-sans font-bold",children:H("codeLabel",i)}),m.jsxs("div",{className:"text-3xl tracking-[0.6em] flex justify-center h-10 items-center text-shadow-glow",children:[W.map(ie=>ie).join(""),[...Array(4-W.length)].map((ie,Et)=>m.jsx("span",{className:"animate-pulse opacity-50",children:"_"},Et))]})]}),m.jsxs("div",{className:"bg-white/95 backdrop-blur-xl text-blue-900 rounded-3xl shadow-xl relative overflow-hidden flex-shrink-0 flex flex-col justify-center p-5 mb-4 text-center mx-1",children:[m.jsxs("div",{className:"absolute top-2 right-4 text-blue-300 text-[10px] uppercase font-bold tracking-wider font-sans",children:[H("question",i)," ",R+1," / ",z.length]}),m.jsx("h3",{className:"text-sm sm:text-base font-bold relative z-10 leading-snug font-sans tracking-wide pt-2",children:K.question})]}),m.jsx("div",{className:"flex-1 overflow-y-auto min-h-0 pb-2 px-1",children:m.jsx("div",{className:"flex flex-col gap-3",children:K.options.map((ie,Et)=>m.jsxs("button",{onClick:()=>je(ie.value,K.explanation),className:"py-4 px-5 bg-white shadow-sm rounded-2xl hover:bg-blue-600 hover:text-white hover:shadow-xl transition-all font-bold text-sm sm:text-base active:scale-95 text-blue-900 flex items-center gap-4 text-start min-h-[70px] group",children:[m.jsx("span",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-blue-50 text-blue-700 flex items-center justify-center text-sm font-black group-hover:bg-white group-hover:text-blue-600 font-sans transition-colors",children:Et+1}),m.jsx("span",{className:"flex-1 font-sans",children:ie.text})]},Et))})})]})}return m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsx(fe,{onClick:()=>o("DECISION"),children:H("next",i)})});case"DECISION":const Xr=F.options.find(z=>z.id===f);return m.jsxs("div",{className:"h-full w-full flex flex-col overflow-hidden animate-fade-in relative",children:[m.jsxs("div",{className:`bg-white/95 backdrop-blur-xl text-blue-900 rounded-[2rem] shadow-xl relative overflow-hidden transition-all duration-500 flex-shrink-0 flex flex-col justify-center text-center font-sans
                ${f?"p-3 mb-3":"p-6 mb-6"}
             `,children:[!f&&m.jsx("h2",{className:"text-2xl font-black mb-2 relative z-10 drop-shadow-sm",children:""}),m.jsx("p",{className:`relative z-10 leading-snug font-bold font-sans ${f?"text-xs sm:text-sm line-clamp-1":"text-sm sm:text-lg"}`,children:F.decisionQuestion})]}),m.jsx("div",{className:"flex-1 min-h-0 flex flex-col relative w-full",children:f?m.jsxs("div",{className:"flex-1 flex flex-col animate-slide-up overflow-hidden pb-1 min-h-0",children:[m.jsxs("div",{className:"bg-blue-50 border-r-4 border-blue-500 p-3 rounded-l-2xl mb-3 flex-shrink-0 shadow-sm mx-1",children:[m.jsx("span",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider block font-sans mb-1",children:H("yourChoice",i)}),m.jsx("p",{className:"text-blue-900 font-bold text-sm leading-tight line-clamp-1 font-sans",children:Xr==null?void 0:Xr.text})]}),m.jsxs("div",{className:"flex-1 bg-white shadow-2xl rounded-[2rem] p-6 flex flex-col items-center text-center relative overflow-hidden min-h-0",children:[m.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center text-2xl mb-3 shadow-inner flex-shrink-0",children:""}),m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar w-full mb-4 min-h-0",children:m.jsx("p",{className:"text-sm sm:text-base text-gray-800 font-medium leading-relaxed px-2",children:s})}),m.jsxs("div",{className:"w-full flex flex-col gap-3 mt-auto flex-shrink-0",children:[m.jsxs(fe,{variant:"outline",className:"w-full py-3 text-sm text-blue-700 hover:bg-blue-50 font-bold border-0 bg-blue-50/50",onClick:()=>{ge("pop"),d(!0)},children:[" ",H("moreInfo",i)]}),m.jsx(fe,{className:"w-full py-3.5 text-sm shadow-xl bg-blue-600 text-white rounded-2xl font-black",onClick:e,children:t.type==="QUIZ"?H("finishGame",i):H("finishLevel",i)})]})]})]}):m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col gap-3 p-1 pb-2",children:F.options.map(z=>m.jsx("button",{disabled:!!f,className:`
                           p-4 text-start rounded-2xl transition-all shadow-sm font-bold text-gray-700 text-sm sm:text-base relative overflow-hidden flex-shrink-0 bg-white hover:bg-blue-50 hover:shadow-lg min-h-[70px] flex items-center group
                         `,onClick:()=>{ge("click"),p(z.id),u(z.feedback)},children:m.jsxs("div",{className:"flex items-center gap-4 w-full",children:[m.jsx("span",{className:"flex-shrink-0 w-4 h-4 rounded-full bg-gray-200 group-hover:bg-blue-500 transition-colors"}),m.jsx("span",{className:"relative z-10 flex-1 leading-snug font-sans",children:z.text})]})},z.id))})}),c&&m.jsx("div",{className:"fixed inset-0 bg-black/60 z-[100] flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:m.jsxs("div",{className:"bg-white w-[95%] sm:w-[90%] max-w-2xl max-h-[85vh] flex flex-col rounded-[2.5rem] p-8 sm:p-10 shadow-2xl relative",children:[m.jsx("button",{onClick:()=>{ge("click"),d(!1)},className:"absolute top-5 left-5 w-10 h-10 bg-gray-100 rounded-full text-gray-500 hover:bg-gray-200 flex items-center justify-center font-bold text-xl z-10 transition-colors",children:""}),m.jsx("h3",{className:"text-2xl sm:text-3xl font-black text-blue-900 mb-6 border-b pb-4 pl-4 font-sans leading-tight text-right",children:F.moreInfoTitle}),m.jsx("div",{className:"overflow-y-auto flex-1 mb-6 pl-2 custom-scrollbar",children:m.jsx("p",{className:"text-gray-900 text-lg sm:text-xl leading-relaxed whitespace-pre-line font-medium font-sans text-right",children:F.moreInfoContent})}),m.jsx(fe,{fullWidth:!0,onClick:()=>{ge("click"),d(!1)},className:"py-4 text-lg font-black shadow-xl rounded-2xl",children:H("understood",i)})]})})]})}},en=r==="INTRO";return m.jsxs("div",{className:"absolute inset-0 h-[100dvh] bg-slate-900 flex flex-col font-sans relative overflow-hidden",style:{paddingBottom:"env(safe-area-inset-bottom)"},children:[t.data.backgroundImage&&m.jsxs("div",{className:`absolute inset-0 z-0 animate-fade-in transition-all duration-1000 ${A?"filter blur-[0px] scale-100":""}`,children:[m.jsx("img",{src:t.data.backgroundImage,className:`w-full h-full object-cover transition-all duration-1000 ${en?"opacity-100 blur-sm scale-105":"opacity-100 blur-0"}`,alt:"",onError:F=>F.currentTarget.style.display="none"}),m.jsx("div",{className:`absolute inset-0 transition-all duration-1000 ${en?"bg-black/40":"bg-black/20"}`})]}),m.jsxs("div",{className:"p-3 sm:p-5 flex justify-between items-center sticky top-0 z-20 transition-all duration-500 flex-shrink-0 h-16",style:{paddingTop:"max(env(safe-area-inset-top), 12px)"},children:[m.jsx(fe,{variant:"outline",className:"py-2 px-5 text-xs rounded-full backdrop-blur-md transition-colors font-bold shadow-lg bg-white/10 border-0 text-white hover:bg-white/20",onClick:n,children:H("backToMap",i)}),!en&&m.jsx("span",{className:"font-bold text-white text-xs drop-shadow-md bg-black/40 px-4 py-1.5 rounded-full truncate max-w-[200px] font-sans backdrop-blur-md",children:t.title})]}),m.jsx("main",{className:"flex-1 p-3 sm:p-5 max-w-5xl mx-auto w-full relative z-10 flex flex-col justify-center min-h-0 pb-6 overflow-hidden",children:bt()})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Z0,j0;function eT(){return{geminiUrl:Z0,vertexUrl:j0}}function tT(t,e,n,i){var r,o;if(!(t!=null&&t.baseUrl)){const s=eT();return e?(r=s.vertexUrl)!==null&&r!==void 0?r:n:(o=s.geminiUrl)!==null&&o!==void 0?o:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zt{}function D(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const o=e[r];return o!=null?String(o):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function l(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const f=c[d];l(f,e.slice(o+1),n[d])}else for(const d of c)l(d,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];l(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const i=e[e.length-1],r=t[i];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function a(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const r=e[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>a(u,e.slice(i+1),n)):n}else return n}else t=t[r]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function nT(t,e){for(const[n,i]of Object.entries(e)){const r=n.split("."),o=i.split("."),s=new Set;let u=-1;for(let c=0;c<r.length;c++)if(r[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const d=o[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}kl(t,r,o,0,s)}}function kl(t,e,n,i,r){if(i>=e.length||typeof t!="object"||t===null)return;const o=e[i];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])kl(c,e,n,i+1,r)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!r.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,f]of Object.entries(c)){const p=[];for(const h of n.slice(i))h==="*"?p.push(d):p.push(h);l(s,p,f)}for(const d of u)delete s[d]}}else{const s=t;o in s&&kl(s[o],e,n,i+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gu(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iT(t){const e={},n=a(t,["operationName"]);n!=null&&l(e,["operationName"],n);const i=a(t,["resourceName"]);return i!=null&&l(e,["_url","resourceName"],i),e}function rT(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response","generateVideoResponse"]);return s!=null&&l(e,["response"],sT(s)),e}function oT(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response"]);return s!=null&&l(e,["response"],aT(s)),e}function sT(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>lT(s))),l(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function aT(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>uT(s))),l(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function lT(t){const e={},n=a(t,["video"]);return n!=null&&l(e,["video"],mT(n)),e}function uT(t){const e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],gT(n)),e}function cT(t){const e={},n=a(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function dT(t){const e={},n=a(t,["operationName"]);return n!=null&&l(e,["_url","operationName"],n),e}function fT(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response"]);return s!=null&&l(e,["response"],pT(s)),e}function pT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&l(e,["parent"],i);const r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function ig(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response"]);return s!=null&&l(e,["response"],hT(s)),e}function hT(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&l(e,["parent"],i);const r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function mT(t){const e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&l(e,["videoBytes"],Gu(i));const r=a(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function gT(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&l(e,["videoBytes"],Gu(i));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pd||(Pd={}));var Md;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Md||(Md={}));var bd;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(bd||(bd={}));var gn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gn||(gn={}));var Dd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Dd||(Dd={}));var Ld;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ld||(Ld={}));var Ud;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Ud||(Ud={}));var Fd;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Fd||(Fd={}));var Od;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Od||(Od={}));var Vd;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(Vd||(Vd={}));var Hd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Hd||(Hd={}));var Bd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Bd||(Bd={}));var Gd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Gd||(Gd={}));var qd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(qd||(qd={}));var zd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(zd||(zd={}));var $d;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})($d||($d={}));var Wd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Wd||(Wd={}));var Jd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Jd||(Jd={}));var Kd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Kd||(Kd={}));var cs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(cs||(cs={}));var Yd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Yd||(Yd={}));var Qd;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qd||(Qd={}));var Xd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xd||(Xd={}));var Nl;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nl||(Nl={}));var Zd;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Zd||(Zd={}));var jd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(jd||(jd={}));var ef;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ef||(ef={}));var tf;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(tf||(tf={}));var nf;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nf||(nf={}));var rf;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rf||(rf={}));var of;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(of||(of={}));var sf;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(sf||(sf={}));var af;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(af||(af={}));var lf;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(lf||(lf={}));var uf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(uf||(uf={}));var cf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cf||(cf={}));var df;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(df||(df={}));var ff;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ff||(ff={}));var pf;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(pf||(pf={}));var hf;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(hf||(hf={}));var mf;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(mf||(mf={}));var gf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(gf||(gf={}));var yf;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(yf||(yf={}));var vf;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(vf||(vf={}));var _f;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(_f||(_f={}));var Tf;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Tf||(Tf={}));var Ef;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Ef||(Ef={}));var If;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(If||(If={}));var wf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(wf||(wf={}));var Cf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Cf||(Cf={}));var Sf;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Sf||(Sf={}));var xf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xf||(xf={}));var Af;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Af||(Af={}));var kf;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(kf||(kf={}));var _i;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_i||(_i={}));class Rl{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ir{get text(){var e,n,i,r,o,s,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const h of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,T]of Object.entries(h))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(T!==null||T!==void 0)&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,d+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,n,i,r,o,s,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&(y!==null||y!==void 0)&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,i,r,o,s,u,c;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,i,r,o,s,u,c,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,i,r,o,s,u,c,d;if(((r=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Nf{}class Rf{}class yT{}class vT{}class _T{}class TT{}class Pf{}class Mf{}class bf{}class ET{}class ds{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new ds;let r;const o=e;return n?r=oT(o):r=rT(o),Object.assign(i,r),i}}class Df{}class Lf{}class Uf{}class IT{}class wT{}class CT{}class qu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new qu,o=fT(e);return Object.assign(i,o),i}}class ST{}class xT{}class AT{}class Ff{}class kT{get text(){var e,n,i;let r="",o=!1;const s=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,r+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,n,i;let r="";const o=[];for(const s of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(r+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class NT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class zu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new zu,o=ig(e);return Object.assign(i,o),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rg(t,e){const n=X(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function og(t){return Array.isArray(t)?t.map(e=>fs(e)):[fs(t)]}function fs(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function sg(t){const e=fs(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ag(t){const e=fs(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Of(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function lg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Of(e)):[Of(t)]}function Pl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Vf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Hf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Pe(t){if(t==null)throw new Error("ContentUnion is required");return Pl(t)?t:{role:"user",parts:lg(t)}}function $u(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Pe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Pe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Pe(n)):[Pe(e)]}function rt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Vf(t)||Hf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Pe(t)]}const e=[],n=[],i=Pl(t[0]);for(const r of t){const o=Pl(r);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(r);else{if(Vf(r)||Hf(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return i||e.push({role:"user",parts:lg(n)}),e}function RT(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(gn).includes(n[0].toUpperCase())?n[0].toUpperCase():gn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(gn).includes(i.toUpperCase())?i.toUpperCase():gn.TYPE_UNSPECIFIED})}}function Ai(t){const e={},n=["items"],i=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&RT(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(gn).includes(u.toUpperCase())?u.toUpperCase():gn.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ai(u);else if(i.includes(s)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Ai(d))}e[s]=c}else if(r.includes(s)){const c={};for(const[d,f]of Object.entries(u))c[d]=Ai(f);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function Wu(t){return Ai(t)}function Ju(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ku(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function qi(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ai(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ai(e.response));return t}function zi(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function PT(t,e,n,i=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function jt(t,e){if(typeof e!="string")throw new Error("name must be a string");return PT(t,e,"cachedContents")}function ug(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Dn(t){return Gu(t)}function MT(t){return t!=null&&typeof t=="object"&&"name"in t}function bT(t){return t!=null&&typeof t=="object"&&"video"in t}function DT(t){return t!=null&&typeof t=="object"&&"uri"in t}function cg(t){var e;let n;if(MT(t)&&(n=t.name),!(DT(t)&&(n=t.uri,n===void 0))&&!(bT(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function dg(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function fg(t){for(const e of["models","tunedModels","publisherModels"])if(LT(t,e))return t[e];return[]}function LT(t,e){return t!==null&&typeof t=="object"&&e in t}function UT(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function FT(t,e={}){const n=[],i=new Set;for(const r of t){const o=r.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const s=UT(r,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function pg(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function OT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function hg(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let o=!1;for(const s of r){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function $i(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function mg(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(t){const e={},n=a(t,["responsesFile"]);n!=null&&l(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>_E(s))),l(e,["inlinedResponses"],o)}const r=a(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["inlinedEmbedContentResponses"],o)}return e}function HT(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&l(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&l(e,["gcsUri"],i);const r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function BT(t){const e={},n=a(t,["format"]);n!=null&&l(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&l(e,["gcsDestination","outputUriPrefix"],i);const r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(a(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Do(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&l(e,["displayName"],i);const r=a(t,["metadata","state"]);r!=null&&l(e,["state"],mg(r));const o=a(t,["metadata","createTime"]);o!=null&&l(e,["createTime"],o);const s=a(t,["metadata","endTime"]);s!=null&&l(e,["endTime"],s);const u=a(t,["metadata","updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&l(e,["model"],c);const d=a(t,["metadata","output"]);return d!=null&&l(e,["dest"],VT(hg(d))),e}function Ml(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const r=a(t,["state"]);r!=null&&l(e,["state"],mg(r));const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const u=a(t,["startTime"]);u!=null&&l(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&l(e,["endTime"],c);const d=a(t,["updateTime"]);d!=null&&l(e,["updateTime"],d);const f=a(t,["model"]);f!=null&&l(e,["model"],f);const p=a(t,["inputConfig"]);p!=null&&l(e,["src"],GT(p));const h=a(t,["outputConfig"]);h!=null&&l(e,["dest"],HT(hg(h)));const y=a(t,["completionStats"]);return y!=null&&l(e,["completionStats"],y),e}function GT(t){const e={},n=a(t,["instancesFormat"]);n!=null&&l(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&l(e,["gcsUri"],i);const r=a(t,["bigquerySource","inputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function qT(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&l(n,["fileName"],i);const r=a(e,["inlinedRequests"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>vE(t,s))),l(n,["requests","requests"],o)}return n}function zT(t){const e={},n=a(t,["format"]);n!=null&&l(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&l(e,["gcsSource","uris"],i);const r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $T(t){const e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function WT(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],$i(t,i)),n}function JT(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],$i(t,i)),n}function KT(t){const e={},n=a(t,["content"]);n!=null&&l(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],YT(i));const r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);const o=a(t,["finishReason"]);o!=null&&l(e,["finishReason"],o);const s=a(t,["avgLogprobs"]);s!=null&&l(e,["avgLogprobs"],s);const u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);const c=a(t,["index"]);c!=null&&l(e,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),l(e,["safetyRatings"],h)}const p=a(t,["urlContextMetadata"]);return p!=null&&l(e,["urlContextMetadata"],p),e}function YT(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),l(e,["citations"],i)}return e}function gg(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>xE(o))),l(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function QT(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&l(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function XT(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const r=a(t,["dest"]);return e!==void 0&&r!=null&&l(e,["outputConfig"],BT(OT(r))),n}function Bf(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["src"]);r!=null&&l(n,["batch","inputConfig"],qT(t,pg(t,r)));const o=a(e,["config"]);return o!=null&&QT(o,n),n}function ZT(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["model"],X(t,i));const r=a(e,["src"]);r!=null&&l(n,["inputConfig"],zT(pg(t,r)));const o=a(e,["config"]);return o!=null&&XT(o,n),n}function jT(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&l(e,["batch","displayName"],i),n}function eE(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["src"]);r!=null&&l(n,["batch","inputConfig"],aE(t,r));const o=a(e,["config"]);return o!=null&&jT(o,n),n}function tE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],$i(t,i)),n}function nE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],$i(t,i)),n}function iE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);return o!=null&&l(e,["error"],o),e}function rE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);return o!=null&&l(e,["error"],o),e}function oE(t,e){const n={},i=a(e,["contents"]);if(i!=null){let o=$u(t,i);Array.isArray(o)&&(o=o.map(s=>s)),l(n,["requests[]","request","content"],o)}const r=a(e,["config"]);return r!=null&&(l(n,["_self"],sE(r,n)),nT(n,{"requests[].*":"requests[].request.*"})),n}function sE(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&l(e,["requests[]","taskType"],i);const r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&l(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function aE(t,e){const n={},i=a(e,["fileName"]);i!=null&&l(n,["file_name"],i);const r=a(e,["inlinedRequests"]);return r!=null&&l(n,["requests"],oE(t,r)),n}function lE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function uE(t){const e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);const i=a(t,["args"]);i!=null&&l(e,["args"],i);const r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cE(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&l(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dE(t,e,n){const i={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],gg(Pe(r)));const o=a(e,["temperature"]);o!=null&&l(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&l(i,["topP"],s);const u=a(e,["topK"]);u!=null&&l(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&l(i,["candidateCount"],c);const d=a(e,["maxOutputTokens"]);d!=null&&l(i,["maxOutputTokens"],d);const f=a(e,["stopSequences"]);f!=null&&l(i,["stopSequences"],f);const p=a(e,["responseLogprobs"]);p!=null&&l(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&l(i,["logprobs"],h);const y=a(e,["presencePenalty"]);y!=null&&l(i,["presencePenalty"],y);const T=a(e,["frequencyPenalty"]);T!=null&&l(i,["frequencyPenalty"],T);const E=a(e,["seed"]);E!=null&&l(i,["seed"],E);const S=a(e,["responseMimeType"]);S!=null&&l(i,["responseMimeType"],S);const _=a(e,["responseSchema"]);_!=null&&l(i,["responseSchema"],Wu(_));const g=a(e,["responseJsonSchema"]);if(g!=null&&l(i,["responseJsonSchema"],g),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let W=v;Array.isArray(W)&&(W=W.map(ee=>AE(ee))),l(n,["safetySettings"],W)}const I=a(e,["tools"]);if(n!==void 0&&I!=null){let W=zi(I);Array.isArray(W)&&(W=W.map(ee=>NE(qi(ee)))),l(n,["tools"],W)}const w=a(e,["toolConfig"]);if(n!==void 0&&w!=null&&l(n,["toolConfig"],kE(w)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=a(e,["cachedContent"]);n!==void 0&&C!=null&&l(n,["cachedContent"],jt(t,C));const x=a(e,["responseModalities"]);x!=null&&l(i,["responseModalities"],x);const A=a(e,["mediaResolution"]);A!=null&&l(i,["mediaResolution"],A);const P=a(e,["speechConfig"]);if(P!=null&&l(i,["speechConfig"],Ju(P)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=a(e,["thinkingConfig"]);R!=null&&l(i,["thinkingConfig"],R);const B=a(e,["imageConfig"]);return B!=null&&l(i,["imageConfig"],yE(B)),i}function fE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>KT(d))),l(e,["candidates"],c)}const r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);const o=a(t,["promptFeedback"]);o!=null&&l(e,["promptFeedback"],o);const s=a(t,["responseId"]);s!=null&&l(e,["responseId"],s);const u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function pE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],$i(t,i)),n}function hE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],$i(t,i)),n}function mE(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function gE(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function yE(t){const e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);const i=a(t,["imageSize"]);if(i!=null&&l(e,["imageSize"],i),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function vE(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["request","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let u=rt(r);Array.isArray(u)&&(u=u.map(c=>gg(c))),l(n,["request","contents"],u)}const o=a(e,["metadata"]);o!=null&&l(n,["metadata"],o);const s=a(e,["config"]);return s!=null&&l(n,["request","generationConfig"],dE(t,s,a(n,["request"],{}))),n}function _E(t){const e={},n=a(t,["response"]);n!=null&&l(e,["response"],fE(n));const i=a(t,["error"]);return i!=null&&l(e,["error"],i),e}function TE(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function EE(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);const o=a(t,["filter"]);return e!==void 0&&o!=null&&l(e,["_query","filter"],o),n}function IE(t){const e={},n=a(t,["config"]);return n!=null&&TE(n,e),e}function wE(t){const e={},n=a(t,["config"]);return n!=null&&EE(n,e),e}function CE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["operations"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Do(s))),l(e,["batchJobs"],o)}return e}function SE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["batchPredictionJobs"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Ml(s))),l(e,["batchJobs"],o)}return e}function xE(t){const e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&l(e,["codeExecutionResult"],i);const r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);const o=a(t,["fileData"]);o!=null&&l(e,["fileData"],lE(o));const s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],uE(s));const u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);const c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],$T(c));const d=a(t,["text"]);d!=null&&l(e,["text"],d);const f=a(t,["thought"]);f!=null&&l(e,["thought"],f);const p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);const h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function AE(t){const e={},n=a(t,["category"]);if(n!=null&&l(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function kE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],cE(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],i),e}function NE(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],i);const r=a(t,["computerUse"]);r!=null&&l(e,["computerUse"],r);const o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);const s=a(t,["codeExecution"]);if(s!=null&&l(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],mE(u));const c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],gE(c));const d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Jt||(Jt={}));class ni{constructor(e,n,i,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,r)}init(e,n,i){var r,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!i||Object.keys(i).length===0?s={config:{}}:typeof i=="object"?s=Object.assign({},i):s=i,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(r=s.config)===null||r===void 0?void 0:r.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RE extends Zt{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new ni(Jt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=Bf(this.apiClient,e),i=n._url,r=D("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const p=Object.assign({},f);if(p.systemInstruction){const h=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=h,p.request=y}d.push(p)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},r=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${r}`),i.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?i.dest=`${o.slice(0,-6)}/dest`:i.dest=`${o}_dest_${r}`;else if(s)i.dest=`${s}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ZT(this.apiClient,e);return u=D("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ml(f))}else{const d=Bf(this.apiClient,e);return u=D("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Do(f))}}async createEmbeddingsInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eE(this.apiClient,e);return o=D("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>Do(c))}}async get(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=hE(this.apiClient,e);return u=D("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Ml(f))}else{const d=pE(this.apiClient,e);return u=D("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>Do(f))}}async cancel(e){var n,i,r,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=JT(this.apiClient,e);s=D("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=WT(this.apiClient,e);s=D("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=wE(e);return u=D("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=SE(f),h=new Ff;return Object.assign(h,p),h})}else{const d=IE(e);return u=D("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=CE(f),h=new Ff;return Object.assign(h,p),h})}}async delete(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=nE(this.apiClient,e);return u=D("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>rE(f))}else{const d=tE(this.apiClient,e);return u=D("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>iE(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PE(t){const e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function Gf(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>eI(o))),l(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function ME(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);const o=a(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let f=rt(s);Array.isArray(f)&&(f=f.map(p=>Gf(p))),l(e,["contents"],f)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],Gf(Pe(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>nI(p))),l(e,["tools"],f)}const d=a(t,["toolConfig"]);if(e!==void 0&&d!=null&&l(e,["toolConfig"],tI(d)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function bE(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);const o=a(t,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const s=a(t,["contents"]);if(e!==void 0&&s!=null){let p=rt(s);Array.isArray(p)&&(p=p.map(h=>h)),l(e,["contents"],p)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],Pe(u));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(h=>iI(h))),l(e,["tools"],p)}const d=a(t,["toolConfig"]);e!==void 0&&d!=null&&l(e,["toolConfig"],d);const f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&l(e,["encryption_spec","kmsKeyName"],f),n}function DE(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["model"],rg(t,i));const r=a(e,["config"]);return r!=null&&ME(r,n),n}function LE(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["model"],rg(t,i));const r=a(e,["config"]);return r!=null&&bE(r,n),n}function UE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],jt(t,i)),n}function FE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],jt(t,i)),n}function OE(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function VE(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function HE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function BE(t){const e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);const i=a(t,["args"]);i!=null&&l(e,["args"],i);const r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function GE(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&l(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qE(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&l(e,["description"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);const o=a(t,["parametersJsonSchema"]);o!=null&&l(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&l(e,["response"],s);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function zE(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],jt(t,i)),n}function $E(t,e){const n={},i=a(e,["name"]);return i!=null&&l(n,["_url","name"],jt(t,i)),n}function WE(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function JE(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function KE(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function YE(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function QE(t){const e={},n=a(t,["config"]);return n!=null&&KE(n,e),e}function XE(t){const e={},n=a(t,["config"]);return n!=null&&YE(n,e),e}function ZE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["cachedContents"],o)}return e}function jE(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["cachedContents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["cachedContents"],o)}return e}function eI(t){const e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&l(e,["codeExecutionResult"],i);const r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);const o=a(t,["fileData"]);o!=null&&l(e,["fileData"],HE(o));const s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],BE(s));const u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);const c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],PE(c));const d=a(t,["text"]);d!=null&&l(e,["text"],d);const f=a(t,["thought"]);f!=null&&l(e,["thought"],f);const p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);const h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function tI(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],GE(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],i),e}function nI(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],i);const r=a(t,["computerUse"]);r!=null&&l(e,["computerUse"],r);const o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);const s=a(t,["codeExecution"]);if(s!=null&&l(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],WE(u));const c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],JE(c));const d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function iI(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>qE(h))),l(e,["functionDeclarations"],p)}const i=a(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const r=a(t,["googleSearchRetrieval"]);r!=null&&l(e,["googleSearchRetrieval"],r);const o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&l(e,["codeExecution"],s);const u=a(t,["enterpriseWebSearch"]);u!=null&&l(e,["enterpriseWebSearch"],u);const c=a(t,["googleMaps"]);c!=null&&l(e,["googleMaps"],c);const d=a(t,["googleSearch"]);d!=null&&l(e,["googleSearch"],d);const f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function rI(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function oI(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&l(e,["ttl"],i);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),n}function sI(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],jt(t,i));const r=a(e,["config"]);return r!=null&&rI(r,n),n}function aI(t,e){const n={},i=a(e,["name"]);i!=null&&l(n,["_url","name"],jt(t,i));const r=a(e,["config"]);return r!=null&&oI(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lI extends Zt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ni(Jt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=LE(this.apiClient,e);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=DE(this.apiClient,e);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async get(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=$E(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=zE(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async delete(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=FE(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=VE(f),h=new Lf;return Object.assign(h,p),h})}else{const d=UE(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=OE(f),h=new Lf;return Object.assign(h,p),h})}}async update(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=aI(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>f)}else{const d=sI(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>f)}}async listInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=XE(e);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=jE(f),h=new Uf;return Object.assign(h,p),h})}else{const d=QE(e);return u=D("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=ZE(f),h=new Uf;return Object.assign(h,p),h})}}}function qf(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(t){return this instanceof oe?(this.v=t,this):new oe(t)}function ki(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function u(y,T){i[y]&&(r[y]=function(E){return new Promise(function(S,_){o.push([y,E,S,_])>1||c(y,E)})},T&&(r[y]=T(r[y])))}function c(y,T){try{d(i[y](T))}catch(E){h(o[0][3],E)}}function d(y){y.value instanceof oe?Promise.resolve(y.value.v).then(f,p):h(o[0][2],y)}function f(y){c("next",y)}function p(y){c("throw",y)}function h(y,T){y(T),o.shift(),o.length&&c(o[0][0],o[0][1])}}function vr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qf=="function"?qf(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(s){return new Promise(function(u,c){s=t[o](s),r(u,c,s.done,s.value)})}}function r(o,s,u,c){Promise.resolve(c).then(function(d){o({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:yg(n)}function yg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function cI(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function zf(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const r=[];let o=!0;for(;i<n&&t[i].role==="model";)r.push(t[i]),o&&!yg(t[i])&&(o=!1),i++;o?e.push(...r):e.pop()}return e}class dI{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fI(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fI{constructor(e,n,i,r={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),cI(o)}async sendMessage(e){var n;await this.sendPromise;const i=Pe(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await r,d=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let h=[];f!=null&&(h=(u=f.slice(p))!==null&&u!==void 0?u:[]);const y=d?[d]:[];this.recordHistory(i,y,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const i=Pe(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?zf(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,r;return ki(this,arguments,function*(){var s,u,c,d;const f=[];try{for(var p=!0,h=vr(e),y;y=yield oe(h.next()),s=y.done,!s;p=!0){d=y.value,p=!1;const T=d;if(uI(T)){const E=(r=(i=T.candidates)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.content;E!==void 0&&f.push(E)}yield yield oe(T)}}catch(T){u={error:T}}finally{try{!p&&!s&&(c=h.return)&&(yield oe(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,f)})}recordHistory(e,n,i){let r=[];n.length>0&&n.every(o=>o.role!==void 0)?r=n:r.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...zf(i)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Vs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pI(t){const e={},n=a(t,["file"]);return n!=null&&l(e,["file"],n),e}function hI(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function mI(t){const e={},n=a(t,["name"]);return n!=null&&l(e,["_url","file"],cg(n)),e}function gI(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function yI(t){const e={},n=a(t,["name"]);return n!=null&&l(e,["_url","file"],cg(n)),e}function vI(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function _I(t){const e={},n=a(t,["config"]);return n!=null&&vI(n,e),e}function TI(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["files"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EI extends Zt{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new ni(Jt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_I(e);return o=D("files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=TI(c),f=new ST;return Object.assign(f,d),f})}}async createInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pI(e);return o=D("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=hI(c),f=new xT;return Object.assign(f,d),f})}}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yI(e);return o=D("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mI(e);return o=D("files/{file}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=gI(c),f=new AT;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lo(t){const e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function II(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>OI(o))),l(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function wI(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function CI(t){const e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);const i=a(t,["args"]);i!=null&&l(e,["args"],i);const r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function SI(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&l(e,["description"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);const o=a(t,["parametersJsonSchema"]);o!=null&&l(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&l(e,["response"],s);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function xI(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);const i=a(t,["responseJsonSchema"]);i!=null&&l(e,["responseJsonSchema"],i);const r=a(t,["audioTimestamp"]);r!=null&&l(e,["audioTimestamp"],r);const o=a(t,["candidateCount"]);o!=null&&l(e,["candidateCount"],o);const s=a(t,["enableAffectiveDialog"]);s!=null&&l(e,["enableAffectiveDialog"],s);const u=a(t,["frequencyPenalty"]);u!=null&&l(e,["frequencyPenalty"],u);const c=a(t,["logprobs"]);c!=null&&l(e,["logprobs"],c);const d=a(t,["maxOutputTokens"]);d!=null&&l(e,["maxOutputTokens"],d);const f=a(t,["mediaResolution"]);f!=null&&l(e,["mediaResolution"],f);const p=a(t,["presencePenalty"]);p!=null&&l(e,["presencePenalty"],p);const h=a(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);const y=a(t,["responseMimeType"]);y!=null&&l(e,["responseMimeType"],y);const T=a(t,["responseModalities"]);T!=null&&l(e,["responseModalities"],T);const E=a(t,["responseSchema"]);E!=null&&l(e,["responseSchema"],E);const S=a(t,["routingConfig"]);S!=null&&l(e,["routingConfig"],S);const _=a(t,["seed"]);_!=null&&l(e,["seed"],_);const g=a(t,["speechConfig"]);g!=null&&l(e,["speechConfig"],vg(g));const v=a(t,["stopSequences"]);v!=null&&l(e,["stopSequences"],v);const I=a(t,["temperature"]);I!=null&&l(e,["temperature"],I);const w=a(t,["thinkingConfig"]);w!=null&&l(e,["thinkingConfig"],w);const C=a(t,["topK"]);C!=null&&l(e,["topK"],C);const x=a(t,["topP"]);if(x!=null&&l(e,["topP"],x),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function AI(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function kI(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function NI(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);const o=a(t,["temperature"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);const u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);const f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Ku(p));const h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);const y=a(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],y);const T=a(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],II(Pe(T)));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let C=zi(E);Array.isArray(C)&&(C=C.map(x=>HI(qi(x)))),l(e,["setup","tools"],C)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&l(e,["setup","sessionResumption"],VI(S));const _=a(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&l(e,["setup","inputAudioTranscription"],_);const g=a(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&l(e,["setup","outputAudioTranscription"],g);const v=a(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&l(e,["setup","realtimeInputConfig"],v);const I=a(t,["contextWindowCompression"]);e!==void 0&&I!=null&&l(e,["setup","contextWindowCompression"],I);const w=a(t,["proactivity"]);return e!==void 0&&w!=null&&l(e,["setup","proactivity"],w),n}function RI(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],xI(i));const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);const o=a(t,["temperature"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);const u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);const f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],vg(Ku(p)));const h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);const y=a(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],y);const T=a(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],Pe(T));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let C=zi(E);Array.isArray(C)&&(C=C.map(x=>BI(qi(x)))),l(e,["setup","tools"],C)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&l(e,["setup","sessionResumption"],S);const _=a(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&l(e,["setup","inputAudioTranscription"],_);const g=a(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&l(e,["setup","outputAudioTranscription"],g);const v=a(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&l(e,["setup","realtimeInputConfig"],v);const I=a(t,["contextWindowCompression"]);e!==void 0&&I!=null&&l(e,["setup","contextWindowCompression"],I);const w=a(t,["proactivity"]);return e!==void 0&&w!=null&&l(e,["setup","proactivity"],w),n}function PI(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["setup","model"],X(t,i));const r=a(e,["config"]);return r!=null&&l(n,["config"],NI(r,n)),n}function MI(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["setup","model"],X(t,i));const r=a(e,["config"]);return r!=null&&l(n,["config"],RI(r,n)),n}function bI(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],n),e}function DI(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),l(e,["weightedPrompts"],i)}return e}function LI(t){const e={},n=a(t,["media"]);if(n!=null){let d=og(n);Array.isArray(d)&&(d=d.map(f=>Lo(f))),l(e,["mediaChunks"],d)}const i=a(t,["audio"]);i!=null&&l(e,["audio"],Lo(ag(i)));const r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);const o=a(t,["video"]);o!=null&&l(e,["video"],Lo(sg(o)));const s=a(t,["text"]);s!=null&&l(e,["text"],s);const u=a(t,["activityStart"]);u!=null&&l(e,["activityStart"],u);const c=a(t,["activityEnd"]);return c!=null&&l(e,["activityEnd"],c),e}function UI(t){const e={},n=a(t,["media"]);if(n!=null){let d=og(n);Array.isArray(d)&&(d=d.map(f=>f)),l(e,["mediaChunks"],d)}const i=a(t,["audio"]);i!=null&&l(e,["audio"],ag(i));const r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);const o=a(t,["video"]);o!=null&&l(e,["video"],sg(o));const s=a(t,["text"]);s!=null&&l(e,["text"],s);const u=a(t,["activityStart"]);u!=null&&l(e,["activityStart"],u);const c=a(t,["activityEnd"]);return c!=null&&l(e,["activityEnd"],c),e}function FI(t){const e={},n=a(t,["setupComplete"]);n!=null&&l(e,["setupComplete"],n);const i=a(t,["serverContent"]);i!=null&&l(e,["serverContent"],i);const r=a(t,["toolCall"]);r!=null&&l(e,["toolCall"],r);const o=a(t,["toolCallCancellation"]);o!=null&&l(e,["toolCallCancellation"],o);const s=a(t,["usageMetadata"]);s!=null&&l(e,["usageMetadata"],GI(s));const u=a(t,["goAway"]);u!=null&&l(e,["goAway"],u);const c=a(t,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],c),e}function OI(t){const e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&l(e,["codeExecutionResult"],i);const r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);const o=a(t,["fileData"]);o!=null&&l(e,["fileData"],wI(o));const s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],CI(s));const u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);const c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],Lo(c));const d=a(t,["text"]);d!=null&&l(e,["text"],d);const f=a(t,["thought"]);f!=null&&l(e,["thought"],f);const p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);const h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function VI(t){const e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function vg(t){const e={},n=a(t,["languageCode"]);n!=null&&l(e,["languageCode"],n);const i=a(t,["voiceConfig"]);if(i!=null&&l(e,["voiceConfig"],i),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function HI(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],i);const r=a(t,["computerUse"]);r!=null&&l(e,["computerUse"],r);const o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);const s=a(t,["codeExecution"]);if(s!=null&&l(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],AI(u));const c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],kI(c));const d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function BI(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>SI(h))),l(e,["functionDeclarations"],p)}const i=a(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const r=a(t,["googleSearchRetrieval"]);r!=null&&l(e,["googleSearchRetrieval"],r);const o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&l(e,["codeExecution"],s);const u=a(t,["enterpriseWebSearch"]);u!=null&&l(e,["enterpriseWebSearch"],u);const c=a(t,["googleMaps"]);c!=null&&l(e,["googleMaps"],c);const d=a(t,["googleSearch"]);d!=null&&l(e,["googleSearch"],d);const f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function GI(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&l(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&l(e,["cachedContentTokenCount"],i);const r=a(t,["candidatesTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&l(e,["toolUsePromptTokenCount"],o);const s=a(t,["thoughtsTokenCount"]);s!=null&&l(e,["thoughtsTokenCount"],s);const u=a(t,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>T)),l(e,["promptTokensDetails"],y)}const d=a(t,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>T)),l(e,["cacheTokensDetails"],y)}const f=a(t,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>T)),l(e,["responseTokensDetails"],y)}const p=a(t,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>T)),l(e,["toolUsePromptTokensDetails"],y)}const h=a(t,["trafficType"]);return h!=null&&l(e,["trafficType"],h),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(t){const e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function zI(t){const e={},n=a(t,["content"]);n!=null&&l(e,["content"],n);const i=a(t,["citationMetadata"]);i!=null&&l(e,["citationMetadata"],$I(i));const r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);const o=a(t,["finishReason"]);o!=null&&l(e,["finishReason"],o);const s=a(t,["avgLogprobs"]);s!=null&&l(e,["avgLogprobs"],s);const u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);const c=a(t,["index"]);c!=null&&l(e,["index"],c);const d=a(t,["logprobsResult"]);d!=null&&l(e,["logprobsResult"],d);const f=a(t,["safetyRatings"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),l(e,["safetyRatings"],h)}const p=a(t,["urlContextMetadata"]);return p!=null&&l(e,["urlContextMetadata"],p),e}function $I(t){const e={},n=a(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>r)),l(e,["citations"],i)}return e}function WI(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let o=rt(r);Array.isArray(o)&&(o=o.map(s=>s)),l(n,["contents"],o)}return n}function JI(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["tokensInfo"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),l(e,["tokensInfo"],r)}return e}function KI(t){const e={},n=a(t,["values"]);n!=null&&l(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&l(e,["statistics"],YI(i)),e}function YI(t){const e={},n=a(t,["truncated"]);n!=null&&l(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&l(e,["tokenCount"],i),e}function Hs(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>rC(o))),l(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function QI(t){const e={},n=a(t,["controlType"]);n!=null&&l(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&l(e,["computeControl"],i),e}function XI(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function ZI(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&l(e,["systemInstruction"],Pe(i));const r=a(t,["tools"]);if(e!==void 0&&r!=null){let s=r;Array.isArray(s)&&(s=s.map(u=>wg(u))),l(e,["tools"],s)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&l(e,["generationConfig"],qw(o)),n}function jI(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let s=rt(r);Array.isArray(s)&&(s=s.map(u=>Hs(u))),l(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&XI(o),n}function ew(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let s=rt(r);Array.isArray(s)&&(s=s.map(u=>u)),l(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&ZI(o,n),n}function tw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);i!=null&&l(e,["totalTokens"],i);const r=a(t,["cachedContentTokenCount"]);return r!=null&&l(e,["cachedContentTokenCount"],r),e}function nw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["totalTokens"]);return i!=null&&l(e,["totalTokens"],i),e}function iw(t,e){const n={},i=a(e,["model"]);return i!=null&&l(n,["_url","name"],X(t,i)),n}function rw(t,e){const n={},i=a(e,["model"]);return i!=null&&l(n,["_url","name"],X(t,i)),n}function ow(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function sw(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}function aw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);const y=a(t,["language"]);e!==void 0&&y!=null&&l(e,["parameters","language"],y);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&l(e,["parameters","outputOptions","compressionQuality"],E);const S=a(t,["addWatermark"]);e!==void 0&&S!=null&&l(e,["parameters","addWatermark"],S);const _=a(t,["labels"]);e!==void 0&&_!=null&&l(e,["labels"],_);const g=a(t,["editMode"]);e!==void 0&&g!=null&&l(e,["parameters","editMode"],g);const v=a(t,["baseSteps"]);return e!==void 0&&v!=null&&l(e,["parameters","editConfig","baseSteps"],v),n}function lw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>cC(c))),l(n,["instances[0]","referenceImages"],u)}const s=a(e,["config"]);return s!=null&&aw(s,n),n}function uw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Bs(o))),l(e,["generatedImages"],r)}return e}function cw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&l(e,["requests[]","taskType"],i);const r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&l(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dw(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&l(e,["instances[]","task_type"],i);const r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["instances[]","title"],r);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&l(e,["parameters","outputDimensionality"],o);const s=a(t,["mimeType"]);e!==void 0&&s!=null&&l(e,["instances[]","mimeType"],s);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&l(e,["parameters","autoTruncate"],u),n}function fw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let u=$u(t,r);Array.isArray(u)&&(u=u.map(c=>c)),l(n,["requests[]","content"],u)}const o=a(e,["config"]);o!=null&&cw(o,n);const s=a(e,["model"]);return s!==void 0&&l(n,["requests[]","model"],X(t,s)),n}function pw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let s=$u(t,r);Array.isArray(s)&&(s=s.map(u=>u)),l(n,["instances[]","content"],s)}const o=a(e,["config"]);return o!=null&&dw(o,n),n}function hw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["embeddings"],o)}const r=a(t,["metadata"]);return r!=null&&l(e,["metadata"],r),e}function mw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["predictions[]","embeddings"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>KI(s))),l(e,["embeddings"],o)}const r=a(t,["metadata"]);return r!=null&&l(e,["metadata"],r),e}function gw(t){const e={},n=a(t,["endpoint"]);n!=null&&l(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&l(e,["deployedModelId"],i),e}function yw(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function vw(t){const e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);const i=a(t,["args"]);i!=null&&l(e,["args"],i);const r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _w(t){const e={},n=a(t,["mode"]);n!=null&&l(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);if(i!=null&&l(e,["allowedFunctionNames"],i),a(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Tw(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&l(e,["description"],n);const i=a(t,["name"]);i!=null&&l(e,["name"],i);const r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);const o=a(t,["parametersJsonSchema"]);o!=null&&l(e,["parametersJsonSchema"],o);const s=a(t,["response"]);s!=null&&l(e,["response"],s);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function Ew(t,e,n){const i={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],Hs(Pe(r)));const o=a(e,["temperature"]);o!=null&&l(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&l(i,["topP"],s);const u=a(e,["topK"]);u!=null&&l(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&l(i,["candidateCount"],c);const d=a(e,["maxOutputTokens"]);d!=null&&l(i,["maxOutputTokens"],d);const f=a(e,["stopSequences"]);f!=null&&l(i,["stopSequences"],f);const p=a(e,["responseLogprobs"]);p!=null&&l(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&l(i,["logprobs"],h);const y=a(e,["presencePenalty"]);y!=null&&l(i,["presencePenalty"],y);const T=a(e,["frequencyPenalty"]);T!=null&&l(i,["frequencyPenalty"],T);const E=a(e,["seed"]);E!=null&&l(i,["seed"],E);const S=a(e,["responseMimeType"]);S!=null&&l(i,["responseMimeType"],S);const _=a(e,["responseSchema"]);_!=null&&l(i,["responseSchema"],Wu(_));const g=a(e,["responseJsonSchema"]);if(g!=null&&l(i,["responseJsonSchema"],g),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=a(e,["safetySettings"]);if(n!==void 0&&v!=null){let W=v;Array.isArray(W)&&(W=W.map(ee=>dC(ee))),l(n,["safetySettings"],W)}const I=a(e,["tools"]);if(n!==void 0&&I!=null){let W=zi(I);Array.isArray(W)&&(W=W.map(ee=>vC(qi(ee)))),l(n,["tools"],W)}const w=a(e,["toolConfig"]);if(n!==void 0&&w!=null&&l(n,["toolConfig"],yC(w)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=a(e,["cachedContent"]);n!==void 0&&C!=null&&l(n,["cachedContent"],jt(t,C));const x=a(e,["responseModalities"]);x!=null&&l(i,["responseModalities"],x);const A=a(e,["mediaResolution"]);A!=null&&l(i,["mediaResolution"],A);const P=a(e,["speechConfig"]);if(P!=null&&l(i,["speechConfig"],Ju(P)),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=a(e,["thinkingConfig"]);R!=null&&l(i,["thinkingConfig"],R);const B=a(e,["imageConfig"]);return B!=null&&l(i,["imageConfig"],Kw(B)),i}function Iw(t,e,n){const i={},r=a(e,["systemInstruction"]);n!==void 0&&r!=null&&l(n,["systemInstruction"],Pe(r));const o=a(e,["temperature"]);o!=null&&l(i,["temperature"],o);const s=a(e,["topP"]);s!=null&&l(i,["topP"],s);const u=a(e,["topK"]);u!=null&&l(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&l(i,["candidateCount"],c);const d=a(e,["maxOutputTokens"]);d!=null&&l(i,["maxOutputTokens"],d);const f=a(e,["stopSequences"]);f!=null&&l(i,["stopSequences"],f);const p=a(e,["responseLogprobs"]);p!=null&&l(i,["responseLogprobs"],p);const h=a(e,["logprobs"]);h!=null&&l(i,["logprobs"],h);const y=a(e,["presencePenalty"]);y!=null&&l(i,["presencePenalty"],y);const T=a(e,["frequencyPenalty"]);T!=null&&l(i,["frequencyPenalty"],T);const E=a(e,["seed"]);E!=null&&l(i,["seed"],E);const S=a(e,["responseMimeType"]);S!=null&&l(i,["responseMimeType"],S);const _=a(e,["responseSchema"]);_!=null&&l(i,["responseSchema"],Wu(_));const g=a(e,["responseJsonSchema"]);g!=null&&l(i,["responseJsonSchema"],g);const v=a(e,["routingConfig"]);v!=null&&l(i,["routingConfig"],v);const I=a(e,["modelSelectionConfig"]);I!=null&&l(i,["modelConfig"],I);const w=a(e,["safetySettings"]);if(n!==void 0&&w!=null){let Ie=w;Array.isArray(Ie)&&(Ie=Ie.map(M=>M)),l(n,["safetySettings"],Ie)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let Ie=zi(C);Array.isArray(Ie)&&(Ie=Ie.map(M=>wg(qi(M)))),l(n,["tools"],Ie)}const x=a(e,["toolConfig"]);n!==void 0&&x!=null&&l(n,["toolConfig"],x);const A=a(e,["labels"]);n!==void 0&&A!=null&&l(n,["labels"],A);const P=a(e,["cachedContent"]);n!==void 0&&P!=null&&l(n,["cachedContent"],jt(t,P));const R=a(e,["responseModalities"]);R!=null&&l(i,["responseModalities"],R);const B=a(e,["mediaResolution"]);B!=null&&l(i,["mediaResolution"],B);const W=a(e,["speechConfig"]);W!=null&&l(i,["speechConfig"],Ig(Ju(W)));const ee=a(e,["audioTimestamp"]);ee!=null&&l(i,["audioTimestamp"],ee);const Pt=a(e,["thinkingConfig"]);Pt!=null&&l(i,["thinkingConfig"],Pt);const ut=a(e,["imageConfig"]);return ut!=null&&l(i,["imageConfig"],Yw(ut)),i}function $f(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let s=rt(r);Array.isArray(s)&&(s=s.map(u=>Hs(u))),l(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&l(n,["generationConfig"],Ew(t,o,n)),n}function Wf(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["contents"]);if(r!=null){let s=rt(r);Array.isArray(s)&&(s=s.map(u=>u)),l(n,["contents"],s)}const o=a(e,["config"]);return o!=null&&l(n,["generationConfig"],Iw(t,o,n)),n}function Jf(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(d=>zI(d))),l(e,["candidates"],c)}const r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);const o=a(t,["promptFeedback"]);o!=null&&l(e,["promptFeedback"],o);const s=a(t,["responseId"]);s!=null&&l(e,["responseId"],s);const u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function Kf(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>f)),l(e,["candidates"],d)}const r=a(t,["createTime"]);r!=null&&l(e,["createTime"],r);const o=a(t,["modelVersion"]);o!=null&&l(e,["modelVersion"],o);const s=a(t,["promptFeedback"]);s!=null&&l(e,["promptFeedback"],s);const u=a(t,["responseId"]);u!=null&&l(e,["responseId"],u);const c=a(t,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function ww(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&l(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&l(e,["parameters","safetySetting"],s);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&l(e,["parameters","includeSafetyAttributes"],c);const d=a(t,["includeRaiReason"]);e!==void 0&&d!=null&&l(e,["parameters","includeRaiReason"],d);const f=a(t,["language"]);e!==void 0&&f!=null&&l(e,["parameters","language"],f);const p=a(t,["outputMimeType"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","mimeType"],p);const h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&l(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=a(t,["imageSize"]);if(e!==void 0&&y!=null&&l(e,["parameters","sampleImageSize"],y),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function Cw(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const s=a(t,["aspectRatio"]);e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);const d=a(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const p=a(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&l(e,["parameters","includeRaiReason"],h);const y=a(t,["language"]);e!==void 0&&y!=null&&l(e,["parameters","language"],y);const T=a(t,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const E=a(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&l(e,["parameters","outputOptions","compressionQuality"],E);const S=a(t,["addWatermark"]);e!==void 0&&S!=null&&l(e,["parameters","addWatermark"],S);const _=a(t,["labels"]);e!==void 0&&_!=null&&l(e,["labels"],_);const g=a(t,["imageSize"]);e!==void 0&&g!=null&&l(e,["parameters","sampleImageSize"],g);const v=a(t,["enhancePrompt"]);return e!==void 0&&v!=null&&l(e,["parameters","enhancePrompt"],v),n}function Sw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const o=a(e,["config"]);return o!=null&&ww(o,n),n}function xw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const o=a(e,["config"]);return o!=null&&Cw(o,n),n}function Aw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Vw(s))),l(e,["generatedImages"],o)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],Tg(r)),e}function kw(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Bs(s))),l(e,["generatedImages"],o)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],Eg(r)),e}function Nw(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=a(t,["durationSeconds"]);if(e!==void 0&&r!=null&&l(e,["parameters","durationSeconds"],r),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);e!==void 0&&o!=null&&l(e,["parameters","aspectRatio"],o);const s=a(t,["resolution"]);e!==void 0&&s!=null&&l(e,["parameters","resolution"],s);const u=a(t,["personGeneration"]);if(e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=a(t,["negativePrompt"]);e!==void 0&&c!=null&&l(e,["parameters","negativePrompt"],c);const d=a(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&l(e,["parameters","enhancePrompt"],d),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=a(t,["lastFrame"]);e!==void 0&&f!=null&&l(e,["instances[0]","lastFrame"],Gs(f));const p=a(t,["referenceImages"]);if(e!==void 0&&p!=null){let h=p;Array.isArray(h)&&(h=h.map(y=>PC(y))),l(e,["instances[0]","referenceImages"],h)}if(a(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function Rw(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);const o=a(t,["fps"]);e!==void 0&&o!=null&&l(e,["parameters","fps"],o);const s=a(t,["durationSeconds"]);e!==void 0&&s!=null&&l(e,["parameters","durationSeconds"],s);const u=a(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);const d=a(t,["resolution"]);e!==void 0&&d!=null&&l(e,["parameters","resolution"],d);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const p=a(t,["pubsubTopic"]);e!==void 0&&p!=null&&l(e,["parameters","pubsubTopic"],p);const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","negativePrompt"],h);const y=a(t,["enhancePrompt"]);e!==void 0&&y!=null&&l(e,["parameters","enhancePrompt"],y);const T=a(t,["generateAudio"]);e!==void 0&&T!=null&&l(e,["parameters","generateAudio"],T);const E=a(t,["lastFrame"]);e!==void 0&&E!=null&&l(e,["instances[0]","lastFrame"],_t(E));const S=a(t,["referenceImages"]);if(e!==void 0&&S!=null){let v=S;Array.isArray(v)&&(v=v.map(I=>MC(I))),l(e,["instances[0]","referenceImages"],v)}const _=a(t,["mask"]);e!==void 0&&_!=null&&l(e,["instances[0]","mask"],RC(_));const g=a(t,["compressionQuality"]);return e!==void 0&&g!=null&&l(e,["parameters","compressionQuality"],g),n}function Pw(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response","generateVideoResponse"]);return s!=null&&l(e,["response"],Lw(s)),e}function Mw(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response"]);return s!=null&&l(e,["response"],Uw(s)),e}function bw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const o=a(e,["image"]);o!=null&&l(n,["instances[0]","image"],Gs(o));const s=a(e,["video"]);s!=null&&l(n,["instances[0]","video"],Cg(s));const u=a(e,["source"]);u!=null&&Fw(u,n);const c=a(e,["config"]);return c!=null&&Nw(c,n),n}function Dw(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["prompt"]);r!=null&&l(n,["instances[0]","prompt"],r);const o=a(e,["image"]);o!=null&&l(n,["instances[0]","image"],_t(o));const s=a(e,["video"]);s!=null&&l(n,["instances[0]","video"],Sg(s));const u=a(e,["source"]);u!=null&&Ow(u,n);const c=a(e,["config"]);return c!=null&&Rw(c,n),n}function Lw(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Bw(s))),l(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function Uw(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Gw(s))),l(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&l(e,["raiMediaFilteredCount"],i);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function Fw(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&l(e,["instances[0]","prompt"],i);const r=a(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],Gs(r));const o=a(t,["video"]);return e!==void 0&&o!=null&&l(e,["instances[0]","video"],Cg(o)),n}function Ow(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&l(e,["instances[0]","prompt"],i);const r=a(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],_t(r));const o=a(t,["video"]);return e!==void 0&&o!=null&&l(e,["instances[0]","video"],Sg(o)),n}function Vw(t){const e={},n=a(t,["_self"]);n!=null&&l(e,["image"],Qw(n));const i=a(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const r=a(t,["_self"]);return r!=null&&l(e,["safetyAttributes"],Tg(r)),e}function Bs(t){const e={},n=a(t,["_self"]);n!=null&&l(e,["image"],_g(n));const i=a(t,["raiFilteredReason"]);i!=null&&l(e,["raiFilteredReason"],i);const r=a(t,["_self"]);r!=null&&l(e,["safetyAttributes"],Eg(r));const o=a(t,["prompt"]);return o!=null&&l(e,["enhancedPrompt"],o),e}function Hw(t){const e={},n=a(t,["_self"]);n!=null&&l(e,["mask"],_g(n));const i=a(t,["labels"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),l(e,["labels"],r)}return e}function Bw(t){const e={},n=a(t,["video"]);return n!=null&&l(e,["video"],kC(n)),e}function Gw(t){const e={},n=a(t,["_self"]);return n!=null&&l(e,["video"],NC(n)),e}function qw(t){const e={},n=a(t,["modelSelectionConfig"]);n!=null&&l(e,["modelConfig"],n);const i=a(t,["responseJsonSchema"]);i!=null&&l(e,["responseJsonSchema"],i);const r=a(t,["audioTimestamp"]);r!=null&&l(e,["audioTimestamp"],r);const o=a(t,["candidateCount"]);o!=null&&l(e,["candidateCount"],o);const s=a(t,["enableAffectiveDialog"]);s!=null&&l(e,["enableAffectiveDialog"],s);const u=a(t,["frequencyPenalty"]);u!=null&&l(e,["frequencyPenalty"],u);const c=a(t,["logprobs"]);c!=null&&l(e,["logprobs"],c);const d=a(t,["maxOutputTokens"]);d!=null&&l(e,["maxOutputTokens"],d);const f=a(t,["mediaResolution"]);f!=null&&l(e,["mediaResolution"],f);const p=a(t,["presencePenalty"]);p!=null&&l(e,["presencePenalty"],p);const h=a(t,["responseLogprobs"]);h!=null&&l(e,["responseLogprobs"],h);const y=a(t,["responseMimeType"]);y!=null&&l(e,["responseMimeType"],y);const T=a(t,["responseModalities"]);T!=null&&l(e,["responseModalities"],T);const E=a(t,["responseSchema"]);E!=null&&l(e,["responseSchema"],E);const S=a(t,["routingConfig"]);S!=null&&l(e,["routingConfig"],S);const _=a(t,["seed"]);_!=null&&l(e,["seed"],_);const g=a(t,["speechConfig"]);g!=null&&l(e,["speechConfig"],Ig(g));const v=a(t,["stopSequences"]);v!=null&&l(e,["stopSequences"],v);const I=a(t,["temperature"]);I!=null&&l(e,["temperature"],I);const w=a(t,["thinkingConfig"]);w!=null&&l(e,["thinkingConfig"],w);const C=a(t,["topK"]);C!=null&&l(e,["topK"],C);const x=a(t,["topP"]);if(x!=null&&l(e,["topP"],x),a(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function zw(t,e){const n={},i=a(e,["model"]);return i!=null&&l(n,["_url","name"],X(t,i)),n}function $w(t,e){const n={},i=a(e,["model"]);return i!=null&&l(n,["_url","name"],X(t,i)),n}function Ww(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function Jw(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function Kw(t){const e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);const i=a(t,["imageSize"]);if(i!=null&&l(e,["imageSize"],i),a(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(a(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Yw(t){const e={},n=a(t,["aspectRatio"]);n!=null&&l(e,["aspectRatio"],n);const i=a(t,["imageSize"]);i!=null&&l(e,["imageSize"],i);const r=a(t,["outputMimeType"]);r!=null&&l(e,["imageOutputOptions","mimeType"],r);const o=a(t,["outputCompressionQuality"]);return o!=null&&l(e,["imageOutputOptions","compressionQuality"],o),e}function Qw(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&l(e,["imageBytes"],Dn(n));const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function _g(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&l(e,["imageBytes"],Dn(i));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function Gs(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&l(e,["bytesBase64Encoded"],Dn(n));const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function _t(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&l(e,["bytesBase64Encoded"],Dn(i));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function Xw(t,e,n){const i={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&l(n,["_query","pageToken"],o);const s=a(e,["filter"]);n!==void 0&&s!=null&&l(n,["_query","filter"],s);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],dg(t,u)),i}function Zw(t,e,n){const i={},r=a(e,["pageSize"]);n!==void 0&&r!=null&&l(n,["_query","pageSize"],r);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&l(n,["_query","pageToken"],o);const s=a(e,["filter"]);n!==void 0&&s!=null&&l(n,["_query","filter"],s);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&l(n,["_url","models_url"],dg(t,u)),i}function jw(t,e){const n={},i=a(e,["config"]);return i!=null&&Xw(t,i,n),n}function eC(t,e){const n={},i=a(e,["config"]);return i!=null&&Zw(t,i,n),n}function tC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["_self"]);if(r!=null){let o=fg(r);Array.isArray(o)&&(o=o.map(s=>bl(s))),l(e,["models"],o)}return e}function nC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["_self"]);if(r!=null){let o=fg(r);Array.isArray(o)&&(o=o.map(s=>Dl(s))),l(e,["models"],o)}return e}function iC(t){const e={},n=a(t,["maskMode"]);n!=null&&l(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&l(e,["maskClasses"],i);const r=a(t,["maskDilation"]);return r!=null&&l(e,["dilation"],r),e}function bl(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const o=a(t,["version"]);o!=null&&l(e,["version"],o);const s=a(t,["_self"]);s!=null&&l(e,["tunedModelInfo"],_C(s));const u=a(t,["inputTokenLimit"]);u!=null&&l(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&l(e,["outputTokenLimit"],c);const d=a(t,["supportedGenerationMethods"]);d!=null&&l(e,["supportedActions"],d);const f=a(t,["temperature"]);f!=null&&l(e,["temperature"],f);const p=a(t,["maxTemperature"]);p!=null&&l(e,["maxTemperature"],p);const h=a(t,["topP"]);h!=null&&l(e,["topP"],h);const y=a(t,["topK"]);y!=null&&l(e,["topK"],y);const T=a(t,["thinking"]);return T!=null&&l(e,["thinking"],T),e}function Dl(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["displayName"]);i!=null&&l(e,["displayName"],i);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const o=a(t,["versionId"]);o!=null&&l(e,["version"],o);const s=a(t,["deployedModels"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(h=>gw(h))),l(e,["endpoints"],p)}const u=a(t,["labels"]);u!=null&&l(e,["labels"],u);const c=a(t,["_self"]);c!=null&&l(e,["tunedModelInfo"],TC(c));const d=a(t,["defaultCheckpointId"]);d!=null&&l(e,["defaultCheckpointId"],d);const f=a(t,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>h)),l(e,["checkpoints"],p)}return e}function rC(t){const e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&l(e,["codeExecutionResult"],i);const r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);const o=a(t,["fileData"]);o!=null&&l(e,["fileData"],yw(o));const s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],vw(s));const u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);const c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],qI(c));const d=a(t,["text"]);d!=null&&l(e,["text"],d);const f=a(t,["thought"]);f!=null&&l(e,["thought"],f);const p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);const h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function oC(t){const e={},n=a(t,["productImage"]);return n!=null&&l(e,["image"],_t(n)),e}function sC(t,e){const n={},i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&l(e,["parameters","sampleCount"],i);const r=a(t,["baseSteps"]);e!==void 0&&r!=null&&l(e,["parameters","baseSteps"],r);const o=a(t,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const s=a(t,["seed"]);e!==void 0&&s!=null&&l(e,["parameters","seed"],s);const u=a(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&l(e,["parameters","safetySetting"],u);const c=a(t,["personGeneration"]);e!==void 0&&c!=null&&l(e,["parameters","personGeneration"],c);const d=a(t,["addWatermark"]);e!==void 0&&d!=null&&l(e,["parameters","addWatermark"],d);const f=a(t,["outputMimeType"]);e!==void 0&&f!=null&&l(e,["parameters","outputOptions","mimeType"],f);const p=a(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","compressionQuality"],p);const h=a(t,["enhancePrompt"]);e!==void 0&&h!=null&&l(e,["parameters","enhancePrompt"],h);const y=a(t,["labels"]);return e!==void 0&&y!=null&&l(e,["labels"],y),n}function aC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["source"]);r!=null&&uC(r,n);const o=a(e,["config"]);return o!=null&&sC(o,n),n}function lC(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Bs(r))),l(e,["generatedImages"],i)}return e}function uC(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&l(e,["instances[0]","prompt"],i);const r=a(t,["personImage"]);e!==void 0&&r!=null&&l(e,["instances[0]","personImage","image"],_t(r));const o=a(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>oC(u))),l(e,["instances[0]","productImages"],s)}return n}function cC(t){const e={},n=a(t,["referenceImage"]);n!=null&&l(e,["referenceImage"],_t(n));const i=a(t,["referenceId"]);i!=null&&l(e,["referenceId"],i);const r=a(t,["referenceType"]);r!=null&&l(e,["referenceType"],r);const o=a(t,["maskImageConfig"]);o!=null&&l(e,["maskImageConfig"],iC(o));const s=a(t,["controlImageConfig"]);s!=null&&l(e,["controlImageConfig"],QI(s));const u=a(t,["styleImageConfig"]);u!=null&&l(e,["styleImageConfig"],u);const c=a(t,["subjectImageConfig"]);return c!=null&&l(e,["subjectImageConfig"],c),e}function Tg(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const r=a(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function Eg(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&l(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&l(e,["scores"],i);const r=a(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function dC(t){const e={},n=a(t,["category"]);if(n!=null&&l(e,["category"],n),a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=a(t,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function fC(t){const e={},n=a(t,["image"]);return n!=null&&l(e,["image"],_t(n)),e}function pC(t,e){const n={},i=a(t,["mode"]);e!==void 0&&i!=null&&l(e,["parameters","mode"],i);const r=a(t,["maxPredictions"]);e!==void 0&&r!=null&&l(e,["parameters","maxPredictions"],r);const o=a(t,["confidenceThreshold"]);e!==void 0&&o!=null&&l(e,["parameters","confidenceThreshold"],o);const s=a(t,["maskDilation"]);e!==void 0&&s!=null&&l(e,["parameters","maskDilation"],s);const u=a(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&l(e,["parameters","binaryColorThreshold"],u);const c=a(t,["labels"]);return e!==void 0&&c!=null&&l(e,["labels"],c),n}function hC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["source"]);r!=null&&gC(r,n);const o=a(e,["config"]);return o!=null&&pC(o,n),n}function mC(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(r=>Hw(r))),l(e,["generatedMasks"],i)}return e}function gC(t,e){const n={},i=a(t,["prompt"]);e!==void 0&&i!=null&&l(e,["instances[0]","prompt"],i);const r=a(t,["image"]);e!==void 0&&r!=null&&l(e,["instances[0]","image"],_t(r));const o=a(t,["scribbleImage"]);return e!==void 0&&o!=null&&l(e,["instances[0]","scribble"],fC(o)),n}function Ig(t){const e={},n=a(t,["languageCode"]);n!=null&&l(e,["languageCode"],n);const i=a(t,["voiceConfig"]);if(i!=null&&l(e,["voiceConfig"],i),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function yC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&l(e,["functionCallingConfig"],_w(n));const i=a(t,["retrievalConfig"]);return i!=null&&l(e,["retrievalConfig"],i),e}function vC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],i);const r=a(t,["computerUse"]);r!=null&&l(e,["computerUse"],r);const o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);const s=a(t,["codeExecution"]);if(s!=null&&l(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],Ww(u));const c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],Jw(c));const d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}function wg(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let p=n;Array.isArray(p)&&(p=p.map(h=>Tw(h))),l(e,["functionDeclarations"],p)}const i=a(t,["retrieval"]);i!=null&&l(e,["retrieval"],i);const r=a(t,["googleSearchRetrieval"]);r!=null&&l(e,["googleSearchRetrieval"],r);const o=a(t,["computerUse"]);if(o!=null&&l(e,["computerUse"],o),a(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=a(t,["codeExecution"]);s!=null&&l(e,["codeExecution"],s);const u=a(t,["enterpriseWebSearch"]);u!=null&&l(e,["enterpriseWebSearch"],u);const c=a(t,["googleMaps"]);c!=null&&l(e,["googleMaps"],c);const d=a(t,["googleSearch"]);d!=null&&l(e,["googleSearch"],d);const f=a(t,["urlContext"]);return f!=null&&l(e,["urlContext"],f),e}function _C(t){const e={},n=a(t,["baseModel"]);n!=null&&l(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const r=a(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function TC(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&l(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const r=a(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function EC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const r=a(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&l(e,["defaultCheckpointId"],o),n}function IC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&l(e,["displayName"],i);const r=a(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&l(e,["defaultCheckpointId"],o),n}function wC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","name"],X(t,i));const r=a(e,["config"]);return r!=null&&EC(r,n),n}function CC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["config"]);return r!=null&&IC(r,n),n}function SC(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&l(e,["parameters","safetySetting"],r);const o=a(t,["personGeneration"]);e!==void 0&&o!=null&&l(e,["parameters","personGeneration"],o);const s=a(t,["includeRaiReason"]);e!==void 0&&s!=null&&l(e,["parameters","includeRaiReason"],s);const u=a(t,["outputMimeType"]);e!==void 0&&u!=null&&l(e,["parameters","outputOptions","mimeType"],u);const c=a(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&l(e,["parameters","outputOptions","compressionQuality"],c);const d=a(t,["enhanceInputImage"]);e!==void 0&&d!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=a(t,["imagePreservationFactor"]);e!==void 0&&f!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=a(t,["labels"]);e!==void 0&&p!=null&&l(e,["labels"],p);const h=a(t,["numberOfImages"]);e!==void 0&&h!=null&&l(e,["parameters","sampleCount"],h);const y=a(t,["mode"]);return e!==void 0&&y!=null&&l(e,["parameters","mode"],y),n}function xC(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["_url","model"],X(t,i));const r=a(e,["image"]);r!=null&&l(n,["instances[0]","image"],_t(r));const o=a(e,["upscaleFactor"]);o!=null&&l(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=a(e,["config"]);return s!=null&&SC(s,n),n}function AC(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>Bs(o))),l(e,["generatedImages"],r)}return e}function kC(t){const e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);const i=a(t,["encodedVideo"]);i!=null&&l(e,["videoBytes"],Dn(i));const r=a(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function NC(t){const e={},n=a(t,["gcsUri"]);n!=null&&l(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&l(e,["videoBytes"],Dn(i));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function RC(t){const e={},n=a(t,["image"]);n!=null&&l(e,["_self"],_t(n));const i=a(t,["maskMode"]);return i!=null&&l(e,["maskMode"],i),e}function PC(t){const e={},n=a(t,["image"]);n!=null&&l(e,["image"],Gs(n));const i=a(t,["referenceType"]);return i!=null&&l(e,["referenceType"],i),e}function MC(t){const e={},n=a(t,["image"]);n!=null&&l(e,["image"],_t(n));const i=a(t,["referenceType"]);return i!=null&&l(e,["referenceType"],i),e}function Cg(t){const e={},n=a(t,["uri"]);n!=null&&l(e,["uri"],n);const i=a(t,["videoBytes"]);i!=null&&l(e,["encodedVideo"],Dn(i));const r=a(t,["mimeType"]);return r!=null&&l(e,["encoding"],r),e}function Sg(t){const e={},n=a(t,["uri"]);n!=null&&l(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&l(e,["bytesBase64Encoded"],Dn(i));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bC="Content-Type",DC="X-Server-Timeout",LC="User-Agent",Ll="x-goog-api-client",UC="1.30.0",FC=`google-genai-sdk/${UC}`,OC="v1beta1",VC="v1beta",Yf=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class HC{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:OC,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:VC,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const r=[this.getRequestUrlInternal(n)];return i&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))r.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(n))typeof o=="object"?i[r]=Object.assign(Object.assign({},i[r]),o):o!==void 0&&(i[r]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,i);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,r){if(n&&n.timeout||r){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&BC(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await Qf(r),new Rl(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async r=>(await Qf(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var n;return ki(this,arguments,function*(){const r=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield oe(r.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const h=JSON.parse(JSON.stringify(p.error)),y=h.status,T=h.code,E=`got status: ${y}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new Vs({message:E,status:T})}}catch(p){if(p.name==="ApiError")throw p}s+=d;let f=s.match(Yf);for(;f;){const p=f[1];try{const h=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield oe(new Rl(h)),s=s.slice(f[0].length),f=s.match(Yf)}catch(h){throw new Error(`exception parsing stream chunk ${p}. ${h}`)}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=FC+" "+this.clientOptions.userAgentExtra;return e[LC]=n,e[Ll]=n,e[bC]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[r,o]of Object.entries(e.headers))i.append(r,o);e.timeout&&e.timeout>0&&i.append(DC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);r.sizeBytes=String(s.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const c={file:r},d=this.getFileName(e),f=D("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,d,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,i){var r;const o=this.clientOptions.uploader,s=await o.stat(n),u=String(s.size),c=(r=i==null?void 0:i.mimeType)!==null&&r!==void 0?r:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(n),p={};i!=null&&i.customMetadata&&(p.customMetadata=i.customMetadata),i!=null&&i.chunkingConfig&&(p.chunkingConfig=i.chunkingConfig);const h=await this.fetchUploadUrl(d,u,c,f,p,i==null?void 0:i.httpOptions);return o.uploadToFileSearchStore(n,h,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,r,o,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},r?{"X-Goog-Upload-File-Name":r}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Qf(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(i);throw n>=400&&n<600?new Vs({message:r,status:n}):new Error(r)}}function BC(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,s){const u=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=i(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const r=i(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GC="mcp_used/unknown";let qC=!1;function xg(t){for(const e of t)if(zC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return qC}function Ag(t){var e;const n=(e=t[Ll])!==null&&e!==void 0?e:"";t[Ll]=(n+` ${GC}`).trimStart()}function zC(t){return t!==null&&typeof t=="object"&&t instanceof Yu}function $C(t,e=100){return ki(this,arguments,function*(){let i,r=0;for(;r<e;){const o=yield oe(t.listTools({cursor:i}));for(const s of o.tools)yield yield oe(s),r++;if(!o.nextCursor)break;i=o.nextCursor}})}class Yu{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Yu(e,n)}async initialize(){var e,n,i,r;if(this.mcpTools.length>0)return;const o={},s=[];for(const f of this.mcpClients)try{for(var u=!0,c=(n=void 0,vr($C(f))),d;d=await c.next(),e=d.done,!e;u=!0){r=d.value,u=!1;const p=r;s.push(p);const h=p.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=f}}catch(p){n={error:p}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),FT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await r.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WC(t,e,n){const i=new NT;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(i,r),e(i)}class JC{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=QC(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(v=>{d=v}),p=e.callbacks,h=function(){d({})},y=this.apiClient,T={onopen:h,onmessage:v=>{WC(y,p.onmessage,v)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=p==null?void 0:p.onclose)!==null&&i!==void 0?i:function(v){}},E=this.webSocketFactory.create(c,YC(s),T);E.connect(),await f;const g={setup:{model:X(this.apiClient,e.model)}};return E.send(JSON.stringify(g)),new KC(E,this.apiClient)}}class KC{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=DI(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=bI(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(_i.PLAY)}pause(){this.sendPlaybackControl(_i.PAUSE)}stop(){this.sendPlaybackControl(_i.STOP)}resetContext(){this.sendPlaybackControl(_i.RESET_CONTEXT)}close(){this.conn.close()}}function YC(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function QC(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ZC(t,e,n){const i=new kT;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const o=JSON.parse(r);if(t.isVertexAI()){const s=FI(o);Object.assign(i,s)}else Object.assign(i,o);e(i)}class jC{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new JC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,r,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&xg(e.config.tools)&&Ag(p);const h=iS(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,f);else{const P=this.apiClient.getApiKey();let R="BidiGenerateContent",B="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",B="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${R}?${B}=${P}`}let y=()=>{};const T=new Promise(P=>{y=P}),E=e.callbacks,S=function(){var P;(P=E==null?void 0:E.onopen)===null||P===void 0||P.call(E),y({})},_=this.apiClient,g={onopen:S,onmessage:P=>{ZC(_,E.onmessage,P)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(P){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(P){}},v=this.webSocketFactory.create(f,nS(h),g);v.connect(),await T;let I=X(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&I.startsWith("publishers/")){const P=this.apiClient.getProject(),R=this.apiClient.getLocation();I=`projects/${P}/locations/${R}/`+I}let w={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[cs.AUDIO]}:e.config.responseModalities=[cs.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const C=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],x=[];for(const P of C)if(this.isCallableTool(P)){const R=P;x.push(await R.tool())}else x.push(P);x.length>0&&(e.config.tools=x);const A={model:I,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=MI(this.apiClient,A):w=PI(this.apiClient,A),delete w.config,v.send(JSON.stringify(w)),new tS(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eS={turnComplete:!0};class tS{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=rt(n.turns),e.isVertexAI()||(i=i.map(r=>Hs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(XC)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},eS),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:UI(e)}:n={realtimeInput:LI(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function nS(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function iS(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xf=10;function Zf(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Ni(s)){r=!0;break}if(!r)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Ni(t){return"callTool"in t&&typeof t.callTool=="function"}function rS(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>Ni(r)))!==null&&i!==void 0?i:!1}function jf(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,r)=>{if(Ni(i))return;const o=i;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(r)}),n}function ep(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oS extends Zt{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,r,o,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!rS(n)||Zf(n.config))return await this.generateContentInternal(c);const d=jf(n);if(d.length>0){const E=d.map(S=>`tools[${S}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let f,p;const h=rt(c.contents),y=(o=(r=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&o!==void 0?o:Xf;let T=0;for(;T<y&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const E=f.candidates[0].content,S=[];for(const _ of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Ni(_)){const v=await _.callTool(f.functionCalls);S.push(...v)}T++,p={role:"user",parts:S},c.contents=rt(c.contents),c.contents.push(E),c.contents.push(p),ep(c.config)&&(h.push(E),h.push(p))}return ep(c.config)&&(f.automaticFunctionCallingHistory=h),f},this.generateContentStream=async n=>{var i,r,o,s,u;if(this.maybeMoveToResponseJsonSchem(n),Zf(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=jf(n);if(c.length>0){const p=c.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(r=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,f=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var r;let o;const s=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((r=c==null?void 0:c.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((i=s.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new ni(Jt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var i,r,o,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,r;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>Ni(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&xg(e.config.tools)){const c=(r=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&r!==void 0?r:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),Ag(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,i,r;const o=new Map;for(const s of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Ni(s)){const u=s,c=await u.tool();for(const d of(r=c.functionDeclarations)!==null&&r!==void 0?r:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,i,r;const o=(r=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Xf;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,p){var h,y;return ki(this,arguments,function*(){for(var T,E,S,_;u<o;){s&&(u++,s=!1);const w=yield oe(d.processParamsMaybeAddMcpUsage(p)),C=yield oe(d.generateContentStreamInternal(w)),x=[],A=[];try{for(var g=!0,v=(E=void 0,vr(C)),I;I=yield oe(v.next()),T=I.done,!T;g=!0){_=I.value,g=!1;const P=_;if(yield yield oe(P),P.candidates&&(!((h=P.candidates[0])===null||h===void 0)&&h.content)){A.push(P.candidates[0].content);for(const R of(y=P.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<o&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(R.functionCall.name)){const B=yield oe(f.get(R.functionCall.name).callTool([R.functionCall]));x.push(...B)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(P){E={error:P}}finally{try{!g&&!T&&(S=v.return)&&(yield oe(S.call(v)))}finally{if(E)throw E.error}}if(x.length>0){s=!0;const P=new ir;P.candidates=[{content:{role:"user",parts:x}}],yield yield oe(P);const R=[];R.push(...A),R.push({role:"user",parts:x});const B=rt(p.contents).concat(R);p.contents=B}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Wf(this.apiClient,e);return u=D("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Kf(f),h=new ir;return Object.assign(h,p),h})}else{const d=$f(this.apiClient,e);return u=D("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Jf(f),h=new ir;return Object.assign(h,p),h})}}async generateContentStreamInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Wf(this.apiClient,e);return u=D("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),s.then(function(p){return ki(this,arguments,function*(){var h,y,T,E;try{for(var S=!0,_=vr(p),g;g=yield oe(_.next()),h=g.done,!h;S=!0){E=g.value,S=!1;const v=E,I=Kf(yield oe(v.json()));I.sdkHttpResponse={headers:v.headers};const w=new ir;Object.assign(w,I),yield yield oe(w)}}catch(v){y={error:v}}finally{try{!S&&!h&&(T=_.return)&&(yield oe(T.call(_)))}finally{if(y)throw y.error}}})})}else{const d=$f(this.apiClient,e);return u=D("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return ki(this,arguments,function*(){var h,y,T,E;try{for(var S=!0,_=vr(p),g;g=yield oe(_.next()),h=g.done,!h;S=!0){E=g.value,S=!1;const v=E,I=Jf(yield oe(v.json()));I.sdkHttpResponse={headers:v.headers};const w=new ir;Object.assign(w,I),yield yield oe(w)}}catch(v){y={error:v}}finally{try{!S&&!h&&(T=_.return)&&(yield oe(T.call(_)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=pw(this.apiClient,e);return u=D("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=mw(f),h=new Nf;return Object.assign(h,p),h})}else{const d=fw(this.apiClient,e);return u=D("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=hw(f),h=new Nf;return Object.assign(h,p),h})}}async generateImagesInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=xw(this.apiClient,e);return u=D("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=kw(f),h=new Rf;return Object.assign(h,p),h})}else{const d=Sw(this.apiClient,e);return u=D("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=Aw(f),h=new Rf;return Object.assign(h,p),h})}}async editImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=lw(this.apiClient,e);return o=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=uw(c),f=new yT;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=xC(this.apiClient,e);return o=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=AC(c),f=new vT;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=aC(this.apiClient,e);return o=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=lC(c),f=new _T;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=hC(this.apiClient,e);return o=D("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=mC(c),f=new TT;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=$w(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Dl(f))}else{const d=zw(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>bl(f))}}async listInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=eC(this.apiClient,e);return u=D("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=nC(f),h=new Pf;return Object.assign(h,p),h})}else{const d=jw(this.apiClient,e);return u=D("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=tC(f),h=new Pf;return Object.assign(h,p),h})}}async update(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=CC(this.apiClient,e);return u=D("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>Dl(f))}else{const d=wC(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>bl(f))}}async delete(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=rw(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=sw(f),h=new Mf;return Object.assign(h,p),h})}else{const d=iw(this.apiClient,e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=ow(f),h=new Mf;return Object.assign(h,p),h})}}async countTokens(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ew(this.apiClient,e);return u=D("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=nw(f),h=new bf;return Object.assign(h,p),h})}else{const d=jI(this.apiClient,e);return u=D("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=tw(f),h=new bf;return Object.assign(h,p),h})}}async computeTokens(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=WI(this.apiClient,e);return o=D("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>{const d=JI(c),f=new ET;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Dw(this.apiClient,e);return u=D("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Mw(f),h=new ds;return Object.assign(h,p),h})}else{const d=bw(this.apiClient,e);return u=D("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s.then(f=>{const p=Pw(f),h=new ds;return Object.assign(h,p),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sS extends Zt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let o;i&&"httpOptions"in i&&(o=i.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=dT(e);return u=D("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),s}else{const d=cT(e);return u=D("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),s}}async fetchPredictVideosOperationInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=iT(e);return o=D("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aS(t){const e={},n=a(t,["data"]);if(n!=null&&l(e,["data"],n),a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function lS(t){const e={},n=a(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(o=>yS(o))),l(e,["parts"],r)}const i=a(t,["role"]);return i!=null&&l(e,["role"],i),e}function uS(t,e,n){const i={},r=a(e,["expireTime"]);n!==void 0&&r!=null&&l(n,["expireTime"],r);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&l(n,["newSessionExpireTime"],o);const s=a(e,["uses"]);n!==void 0&&s!=null&&l(n,["uses"],s);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&l(n,["bidiGenerateContentSetup"],gS(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&l(n,["fieldMask"],c),i}function cS(t,e){const n={},i=a(e,["config"]);return i!=null&&l(n,["config"],uS(t,i,n)),n}function dS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function fS(t){const e={},n=a(t,["id"]);n!=null&&l(e,["id"],n);const i=a(t,["args"]);i!=null&&l(e,["args"],i);const r=a(t,["name"]);if(r!=null&&l(e,["name"],r),a(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(a(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function pS(t){const e={};if(a(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=a(t,["enableWidget"]);return n!=null&&l(e,["enableWidget"],n),e}function hS(t){const e={};if(a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(a(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=a(t,["timeRangeFilter"]);return n!=null&&l(e,["timeRangeFilter"],n),e}function mS(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig"],i);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);const o=a(t,["temperature"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","temperature"],o);const s=a(t,["topP"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","topP"],s);const u=a(t,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const d=a(t,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);const f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const p=a(t,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Ku(p));const h=a(t,["thinkingConfig"]);e!==void 0&&h!=null&&l(e,["setup","generationConfig","thinkingConfig"],h);const y=a(t,["enableAffectiveDialog"]);e!==void 0&&y!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],y);const T=a(t,["systemInstruction"]);e!==void 0&&T!=null&&l(e,["setup","systemInstruction"],lS(Pe(T)));const E=a(t,["tools"]);if(e!==void 0&&E!=null){let C=zi(E);Array.isArray(C)&&(C=C.map(x=>_S(qi(x)))),l(e,["setup","tools"],C)}const S=a(t,["sessionResumption"]);e!==void 0&&S!=null&&l(e,["setup","sessionResumption"],vS(S));const _=a(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&l(e,["setup","inputAudioTranscription"],_);const g=a(t,["outputAudioTranscription"]);e!==void 0&&g!=null&&l(e,["setup","outputAudioTranscription"],g);const v=a(t,["realtimeInputConfig"]);e!==void 0&&v!=null&&l(e,["setup","realtimeInputConfig"],v);const I=a(t,["contextWindowCompression"]);e!==void 0&&I!=null&&l(e,["setup","contextWindowCompression"],I);const w=a(t,["proactivity"]);return e!==void 0&&w!=null&&l(e,["setup","proactivity"],w),n}function gS(t,e){const n={},i=a(e,["model"]);i!=null&&l(n,["setup","model"],X(t,i));const r=a(e,["config"]);return r!=null&&l(n,["config"],mS(r,n)),n}function yS(t){const e={},n=a(t,["mediaResolution"]);n!=null&&l(e,["mediaResolution"],n);const i=a(t,["codeExecutionResult"]);i!=null&&l(e,["codeExecutionResult"],i);const r=a(t,["executableCode"]);r!=null&&l(e,["executableCode"],r);const o=a(t,["fileData"]);o!=null&&l(e,["fileData"],dS(o));const s=a(t,["functionCall"]);s!=null&&l(e,["functionCall"],fS(s));const u=a(t,["functionResponse"]);u!=null&&l(e,["functionResponse"],u);const c=a(t,["inlineData"]);c!=null&&l(e,["inlineData"],aS(c));const d=a(t,["text"]);d!=null&&l(e,["text"],d);const f=a(t,["thought"]);f!=null&&l(e,["thought"],f);const p=a(t,["thoughtSignature"]);p!=null&&l(e,["thoughtSignature"],p);const h=a(t,["videoMetadata"]);return h!=null&&l(e,["videoMetadata"],h),e}function vS(t){const e={},n=a(t,["handle"]);if(n!=null&&l(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function _S(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(p=>p)),l(e,["functionDeclarations"],f)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearchRetrieval"]);i!=null&&l(e,["googleSearchRetrieval"],i);const r=a(t,["computerUse"]);r!=null&&l(e,["computerUse"],r);const o=a(t,["fileSearch"]);o!=null&&l(e,["fileSearch"],o);const s=a(t,["codeExecution"]);if(s!=null&&l(e,["codeExecution"],s),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=a(t,["googleMaps"]);u!=null&&l(e,["googleMaps"],pS(u));const c=a(t,["googleSearch"]);c!=null&&l(e,["googleSearch"],hS(c));const d=a(t,["urlContext"]);return d!=null&&l(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TS(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const r=Object.keys(i).map(o=>`${n}.${o}`);e.push(...r)}else e.push(n)}return e.join(",")}function ES(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const o=TS(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class IS extends Zt{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=cS(this.apiClient,e);o=D("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=ES(u,e.config);return r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wS(t,e){const n={},i=a(t,["displayName"]);return e!==void 0&&i!=null&&l(e,["displayName"],i),n}function CS(t){const e={},n=a(t,["config"]);return n!=null&&wS(n,e),e}function SS(t,e){const n={},i=a(t,["force"]);return e!==void 0&&i!=null&&l(e,["_query","force"],i),n}function xS(t){const e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&SS(i,e),e}function AS(t){const e={},n=a(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function kS(t,e){const n={},i=a(t,["customMetadata"]);if(e!==void 0&&i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["customMetadata"],o)}const r=a(t,["chunkingConfig"]);return e!==void 0&&r!=null&&l(e,["chunkingConfig"],r),n}function NS(t){const e={},n=a(t,["name"]);n!=null&&l(e,["name"],n);const i=a(t,["metadata"]);i!=null&&l(e,["metadata"],i);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const o=a(t,["error"]);o!=null&&l(e,["error"],o);const s=a(t,["response"]);return s!=null&&l(e,["response"],PS(s)),e}function RS(t){const e={},n=a(t,["fileSearchStoreName"]);n!=null&&l(e,["_url","file_search_store_name"],n);const i=a(t,["fileName"]);i!=null&&l(e,["fileName"],i);const r=a(t,["config"]);return r!=null&&kS(r,e),e}function PS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["parent"]);i!=null&&l(e,["parent"],i);const r=a(t,["documentName"]);return r!=null&&l(e,["documentName"],r),e}function MS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function bS(t){const e={},n=a(t,["config"]);return n!=null&&MS(n,e),e}function DS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["fileSearchStores"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["fileSearchStores"],o)}return e}function LS(t,e){const n={},i=a(t,["mimeType"]);e!==void 0&&i!=null&&l(e,["mimeType"],i);const r=a(t,["displayName"]);e!==void 0&&r!=null&&l(e,["displayName"],r);const o=a(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),l(e,["customMetadata"],u)}const s=a(t,["chunkingConfig"]);return e!==void 0&&s!=null&&l(e,["chunkingConfig"],s),n}function US(t){const e={},n=a(t,["fileSearchStoreName"]);n!=null&&l(e,["_url","file_search_store_name"],n);const i=a(t,["config"]);return i!=null&&LS(i,e),e}function FS(t){const e={},n=a(t,["sdkHttpResponse"]);return n!=null&&l(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OS(t,e){const n={},i=a(t,["force"]);return e!==void 0&&i!=null&&l(e,["_query","force"],i),n}function VS(t){const e={},n=a(t,["name"]);n!=null&&l(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&OS(i,e),e}function HS(t){const e={},n=a(t,["name"]);return n!=null&&l(e,["_url","name"],n),e}function BS(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&l(e,["_query","pageSize"],i);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),n}function GS(t){const e={},n=a(t,["parent"]);n!=null&&l(e,["_url","parent"],n);const i=a(t,["config"]);return i!=null&&BS(i,e),e}function qS(t){const e={},n=a(t,["sdkHttpResponse"]);n!=null&&l(e,["sdkHttpResponse"],n);const i=a(t,["nextPageToken"]);i!=null&&l(e,["nextPageToken"],i);const r=a(t,["documents"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),l(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends Zt{constructor(e){super(),this.apiClient=e,this.list=async n=>new ni(Jt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HS(e);return o=D("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=VS(e);r=D("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=GS(e);return o=D("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=qS(c),f=new IT;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $S extends Zt{constructor(e,n=new zS(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new ni(Jt.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CS(e);return o=D("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async get(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AS(e);return o=D("{name}",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>c)}}async delete(e){var n,i;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=xS(e);r=D("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=bS(e);return o=D("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=DS(c),f=new wT;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=US(e);return o=D("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=FS(c),f=new CT;return Object.assign(f,d),f})}}async importFile(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=RS(e);return o=D("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),r.then(c=>{const d=NS(c),f=new qu;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WS(t,e){const n={},i=a(t,["name"]);return i!=null&&l(n,["_url","name"],i),n}function JS(t,e){const n={},i=a(t,["name"]);return i!=null&&l(n,["_url","name"],i),n}function KS(t,e,n){const i={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=a(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&l(e,["displayName"],r),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=a(t,["epochCount"]);e!==void 0&&o!=null&&l(e,["tuningTask","hyperparameters","epochCount"],o);const s=a(t,["learningRateMultiplier"]);if(s!=null&&l(i,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=a(t,["batchSize"]);e!==void 0&&u!=null&&l(e,["tuningTask","hyperparameters","batchSize"],u);const c=a(t,["learningRate"]);if(e!==void 0&&c!=null&&l(e,["tuningTask","hyperparameters","learningRate"],c),a(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(a(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function YS(t,e,n){const i={};let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=a(t,["validationDataset"]);e!==void 0&&y!=null&&l(e,["supervisedTuningSpec"],tp(y))}else if(r==="PREFERENCE_TUNING"){const y=a(t,["validationDataset"]);e!==void 0&&y!=null&&l(e,["preferenceOptimizationSpec"],tp(y))}const o=a(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&l(e,["tunedModelDisplayName"],o);const s=a(t,["description"]);e!==void 0&&s!=null&&l(e,["description"],s);let u=a(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=a(t,["epochCount"]);e!==void 0&&y!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=a(t,["epochCount"]);e!==void 0&&y!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let c=a(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=a(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(c==="PREFERENCE_TUNING"){const y=a(t,["learningRateMultiplier"]);e!==void 0&&y!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let d=a(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=a(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(d==="PREFERENCE_TUNING"){const y=a(t,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&l(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=a(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=a(t,["adapterSize"]);e!==void 0&&y!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=a(t,["adapterSize"]);e!==void 0&&y!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=a(t,["labels"]);e!==void 0&&p!=null&&l(e,["labels"],p);const h=a(t,["beta"]);return e!==void 0&&h!=null&&l(e,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function QS(t,e){const n={},i=a(t,["baseModel"]);i!=null&&l(n,["baseModel"],i);const r=a(t,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);const o=a(t,["trainingDataset"]);o!=null&&ax(o);const s=a(t,["config"]);return s!=null&&KS(s,n),n}function XS(t,e){const n={},i=a(t,["baseModel"]);i!=null&&l(n,["baseModel"],i);const r=a(t,["preTunedModel"]);r!=null&&l(n,["preTunedModel"],r);const o=a(t,["trainingDataset"]);o!=null&&lx(o,n,e);const s=a(t,["config"]);return s!=null&&YS(s,n,e),n}function ZS(t,e){const n={},i=a(t,["name"]);return i!=null&&l(n,["_url","name"],i),n}function jS(t,e){const n={},i=a(t,["name"]);return i!=null&&l(n,["_url","name"],i),n}function ex(t,e,n){const i={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&l(e,["_query","pageSize"],r);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&l(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),i}function tx(t,e,n){const i={},r=a(t,["pageSize"]);e!==void 0&&r!=null&&l(e,["_query","pageSize"],r);const o=a(t,["pageToken"]);e!==void 0&&o!=null&&l(e,["_query","pageToken"],o);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),i}function nx(t,e){const n={},i=a(t,["config"]);return i!=null&&ex(i,n),n}function ix(t,e){const n={},i=a(t,["config"]);return i!=null&&tx(i,n),n}function rx(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&l(n,["sdkHttpResponse"],i);const r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);const o=a(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>kg(u))),l(n,["tuningJobs"],s)}return n}function ox(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&l(n,["sdkHttpResponse"],i);const r=a(t,["nextPageToken"]);r!=null&&l(n,["nextPageToken"],r);const o=a(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>Ul(u))),l(n,["tuningJobs"],s)}return n}function sx(t,e){const n={},i=a(t,["name"]);i!=null&&l(n,["model"],i);const r=a(t,["name"]);return r!=null&&l(n,["endpoint"],r),n}function ax(t,e){const n={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=a(t,["examples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(o=>o)),l(n,["examples","examples"],r)}return n}function lx(t,e,n){const i={};let r=a(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(r==="PREFERENCE_TUNING"){const s=a(t,["gcsUri"]);e!==void 0&&s!=null&&l(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=a(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=a(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&l(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function kg(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&l(n,["sdkHttpResponse"],i);const r=a(t,["name"]);r!=null&&l(n,["name"],r);const o=a(t,["state"]);o!=null&&l(n,["state"],ug(o));const s=a(t,["createTime"]);s!=null&&l(n,["createTime"],s);const u=a(t,["tuningTask","startTime"]);u!=null&&l(n,["startTime"],u);const c=a(t,["tuningTask","completeTime"]);c!=null&&l(n,["endTime"],c);const d=a(t,["updateTime"]);d!=null&&l(n,["updateTime"],d);const f=a(t,["description"]);f!=null&&l(n,["description"],f);const p=a(t,["baseModel"]);p!=null&&l(n,["baseModel"],p);const h=a(t,["_self"]);return h!=null&&l(n,["tunedModel"],sx(h)),n}function Ul(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&l(n,["sdkHttpResponse"],i);const r=a(t,["name"]);r!=null&&l(n,["name"],r);const o=a(t,["state"]);o!=null&&l(n,["state"],ug(o));const s=a(t,["createTime"]);s!=null&&l(n,["createTime"],s);const u=a(t,["startTime"]);u!=null&&l(n,["startTime"],u);const c=a(t,["endTime"]);c!=null&&l(n,["endTime"],c);const d=a(t,["updateTime"]);d!=null&&l(n,["updateTime"],d);const f=a(t,["error"]);f!=null&&l(n,["error"],f);const p=a(t,["description"]);p!=null&&l(n,["description"],p);const h=a(t,["baseModel"]);h!=null&&l(n,["baseModel"],h);const y=a(t,["tunedModel"]);y!=null&&l(n,["tunedModel"],y);const T=a(t,["preTunedModel"]);T!=null&&l(n,["preTunedModel"],T);const E=a(t,["supervisedTuningSpec"]);E!=null&&l(n,["supervisedTuningSpec"],E);const S=a(t,["preferenceOptimizationSpec"]);S!=null&&l(n,["preferenceOptimizationSpec"],S);const _=a(t,["tuningDataStats"]);_!=null&&l(n,["tuningDataStats"],_);const g=a(t,["encryptionSpec"]);g!=null&&l(n,["encryptionSpec"],g);const v=a(t,["partnerModelTuningSpec"]);v!=null&&l(n,["partnerModelTuningSpec"],v);const I=a(t,["customBaseModel"]);I!=null&&l(n,["customBaseModel"],I);const w=a(t,["experiment"]);w!=null&&l(n,["experiment"],w);const C=a(t,["labels"]);C!=null&&l(n,["labels"],C);const x=a(t,["outputUri"]);x!=null&&l(n,["outputUri"],x);const A=a(t,["pipelineJob"]);A!=null&&l(n,["pipelineJob"],A);const P=a(t,["serviceAccount"]);P!=null&&l(n,["serviceAccount"],P);const R=a(t,["tunedModelDisplayName"]);R!=null&&l(n,["tunedModelDisplayName"],R);const B=a(t,["veoTuningSpec"]);return B!=null&&l(n,["veoTuningSpec"],B),n}function ux(t,e){const n={},i=a(t,["sdkHttpResponse"]);i!=null&&l(n,["sdkHttpResponse"],i);const r=a(t,["name"]);r!=null&&l(n,["name"],r);const o=a(t,["metadata"]);o!=null&&l(n,["metadata"],o);const s=a(t,["done"]);s!=null&&l(n,["done"],s);const u=a(t,["error"]);return u!=null&&l(n,["error"],u),n}function tp(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&l(n,["validationDatasetUri"],i);const r=a(t,["vertexDatasetResource"]);return r!=null&&l(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cx extends Zt{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new ni(Jt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:r});return o.baseModel=void 0,await this.tuneInternal(o)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),o=await this.tuneMldevInternal(r);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Nl.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=jS(e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>Ul(f))}else{const d=ZS(e);return u=D("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>kg(f))}}async listInternal(e){var n,i,r,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=ix(e);return u=D("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=ox(f),h=new Df;return Object.assign(h,p),h})}else{const d=nx(e);return u=D("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),s.then(f=>{const p=rx(f),h=new Df;return Object.assign(h,p),h})}}async cancel(e){var n,i,r,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=JS(e);s=D("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=WS(e);s=D("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI()){const u=XS(e,e);return o=D("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>Ul(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let r,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=QS(e);return o=D("tunedModels",u._url),s=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),r.then(c=>ux(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dx{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fx=1024*1024*8,px=3,hx=1e3,mx=2,ps="x-goog-upload-status";async function gx(t,e,n){var i;const r=await Ng(t,e,n),o=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[ps])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function yx(t,e,n){var i;const r=await Ng(t,e,n),o=await(r==null?void 0:r.json());if(((i=r==null?void 0:r.headers)===null||i===void 0?void 0:i[ps])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=ig(o),u=new zu;return Object.assign(u,s),u}async function Ng(t,e,n){var i,r;let o=0,s=0,u=new Rl(new Response),c="upload";for(o=t.size;s<o;){const d=Math.min(fx,o-s),f=t.slice(s,s+d);s+d>=o&&(c+=", finalize");let p=0,h=hx;for(;p<px&&(u=await n.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((i=u==null?void 0:u.headers)===null||i===void 0)&&i[ps]));)p++,await _x(h),h=h*mx;if(s+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[ps])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function vx(t){return{size:t.size,type:t.type}}function _x(t){return new Promise(e=>setTimeout(e,t))}class Tx{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gx(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yx(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vx(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ex{create(e,n,i){return new Ix(e,n,i)}}class Ix{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const np="x-goog-api-key";class wx{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(np)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(np,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cx="gl-node/";class Sx{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=tT(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const r=new wx(this.apiKey);this.apiClient=new HC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:Cx+"web",uploader:new Tx,downloader:new dx}),this.models=new oS(this.apiClient),this.live=new jC(this.apiClient,r,new Ex),this.batches=new RE(this.apiClient),this.chats=new dI(this.models,this.apiClient),this.caches=new lI(this.apiClient),this.files=new EI(this.apiClient),this.operations=new sS(this.apiClient),this.authTokens=new IS(this.apiClient),this.tunings=new cx(this.apiClient),this.fileSearchStores=new $S(this.apiClient)}}var xx={API_KEY:'""'};const Rg=()=>{const t=xx.API_KEY;return new Sx({apiKey:t})},Ax=async t=>{var n,i,r;const e=Rg();if(!e)return null;try{const s=(r=(i=(n=(await e.models.generateImages({model:"imagen-4.0-generate-001",prompt:`STRICTLY NO TEXT. NO WORDS. NO LETTERS. NO SIGNS. NO LABELS. NO SPEECH BUBBLES. NO SPLIT SCREEN. NO COLLAGE. ONE UNIFIED SCENE. A clean, text-free vector art illustration in digital city style, flat design, modern colors. The scene depicts: ${t}. The image must be purely visual with absolutely no written language or symbols representing text.`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"16:9"}})).generatedImages)==null?void 0:n[0])==null?void 0:i.image)==null?void 0:r.imageBytes;return s?`data:image/jpeg;base64,${s}`:null}catch(o){return console.error("Error generating image:",o),null}},kx=async(t,e="neutral")=>{var i,r,o;const n=Rg();if(!n)return null;try{const u=(o=(r=(i=(await n.models.generateImages({model:"imagen-4.0-generate-001",prompt:`STRICTLY NO TEXT. NO WORDS. NO LETTERS. NO NAME TAGS. Vector art avatar portrait of a character named "${t}", looking ${e}. Digital city style, flat design, circle background. Minimalist features. Purely visual character design.`,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"1:1"}})).generatedImages)==null?void 0:i[0])==null?void 0:r.image)==null?void 0:o.imageBytes;return u?`data:image/jpeg;base64,${u}`:null}catch(s){return console.error("Error generating character image:",s),null}};var ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Nx=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=t[n++],s=t[n++],u=t[n++],c=((r&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Mg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const o=t[r],s=r+1<t.length,u=s?t[r+1]:0,c=r+2<t.length,d=c?t[r+2]:0,f=o>>2,p=(o&3)<<4|u>>4;let h=(u&15)<<2|d>>6,y=d&63;c||(y=64,s||(h=64)),i.push(n[f],n[p],n[h],n[y])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const o=n[t.charAt(r++)],u=r<t.length?n[t.charAt(r)]:0;++r;const d=r<t.length?n[t.charAt(r)]:64;++r;const p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||u==null||d==null||p==null)throw new Rx;const h=o<<2|u>>4;if(i.push(h),d!==64){const y=u<<4&240|d>>2;if(i.push(y),p!==64){const T=d<<6&192|p;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Rx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Px=function(t){const e=Pg(t);return Mg.encodeByteArray(e,!0)},hs=function(t){return Px(t).replace(/\./g,"")},bg=function(t){try{return Mg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=()=>Mx().__FIREBASE_DEFAULTS__,Dx=()=>{if(typeof process>"u"||typeof ip>"u")return;const t=ip.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bg(t[1]);return e&&JSON.parse(e)},Qu=()=>{try{return bx()||Dx()||Lx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dg=t=>{var e,n;return(n=(e=Qu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ux=t=>{const e=Dg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Lg=()=>{var t;return(t=Qu())===null||t===void 0?void 0:t.config},Ug=t=>{var e;return(e=Qu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hs(JSON.stringify(n)),hs(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Vx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Hx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fg(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Bx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gx(){const t=Ue();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Og(){try{return typeof indexedDB=="object"}catch{return!1}}function Vg(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function qx(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="FirebaseError";class Tt extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=zx,Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}}class ii{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?$x(o,i):"Error",u=`${this.serviceName}: ${s} (${r}).`;return new Tt(r,u,i)}}function $x(t,e){return t.replace(Wx,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Wx=/\{\$([^}]+)}/g;function Jx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vr(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const o=t[r],s=e[r];if(rp(o)&&rp(s)){if(!Vr(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function rp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Kx(t,e){const n=new Yx(t,e);return n.subscribe.bind(n)}class Yx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Qx(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ia),r.error===void 0&&(r.error=Ia),r.complete===void 0&&(r.complete=Ia);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ia(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=1e3,Zx=2,jx=4*60*60*1e3,eA=.5;function op(t,e=Xx,n=Zx){const i=e*Math.pow(n,t),r=Math.round(eA*i*(Math.random()-.5)*2);return Math.min(jx,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class vt{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Fx;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iA(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Fn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fn){return this.instances.has(e)}getOptions(e=Fn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&s.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:nA(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fn){return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nA(t){return t===Fn?void 0:t}function iA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const oA={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},sA=te.INFO,aA={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},lA=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=aA[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xu{constructor(e){this.name=e,this._logLevel=sA,this._logHandler=lA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const uA=(t,e)=>e.some(n=>t instanceof n);let sp,ap;function cA(){return sp||(sp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dA(){return ap||(ap=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hg=new WeakMap,Fl=new WeakMap,Bg=new WeakMap,wa=new WeakMap,Zu=new WeakMap;function fA(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Sn(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Hg.set(n,t)}).catch(()=>{}),Zu.set(e,t),e}function pA(t){if(Fl.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fl.set(t,e)}let Ol={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Bg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hA(t){Ol=t(Ol)}function mA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ca(this),e,...n);return Bg.set(i,e.sort?e.sort():[e]),Sn(i)}:dA().includes(t)?function(...e){return t.apply(Ca(this),e),Sn(Hg.get(this))}:function(...e){return Sn(t.apply(Ca(this),e))}}function gA(t){return typeof t=="function"?mA(t):(t instanceof IDBTransaction&&pA(t),uA(t,cA())?new Proxy(t,Ol):t)}function Sn(t){if(t instanceof IDBRequest)return fA(t);if(wa.has(t))return wa.get(t);const e=gA(t);return e!==t&&(wa.set(t,e),Zu.set(e,t)),e}const Ca=t=>Zu.get(t);function Gg(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(t,e),u=Sn(s);return i&&s.addEventListener("upgradeneeded",c=>{i(Sn(s.result),c.oldVersion,c.newVersion,Sn(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const yA=["get","getKey","getAll","getAllKeys","count"],vA=["put","add","delete","clear"],Sa=new Map;function lp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sa.get(e))return Sa.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=vA.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yA.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),r&&c.done]))[0]};return Sa.set(e,o),o}hA(t=>({...t,get:(e,n,i)=>lp(e,n)||t.get(e,n,i),has:(e,n)=>!!lp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TA(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function TA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vl="@firebase/app",up="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new Xu("@firebase/app"),EA="@firebase/app-compat",IA="@firebase/analytics-compat",wA="@firebase/analytics",CA="@firebase/app-check-compat",SA="@firebase/app-check",xA="@firebase/auth",AA="@firebase/auth-compat",kA="@firebase/database",NA="@firebase/data-connect",RA="@firebase/database-compat",PA="@firebase/functions",MA="@firebase/functions-compat",bA="@firebase/installations",DA="@firebase/installations-compat",LA="@firebase/messaging",UA="@firebase/messaging-compat",FA="@firebase/performance",OA="@firebase/performance-compat",VA="@firebase/remote-config",HA="@firebase/remote-config-compat",BA="@firebase/storage",GA="@firebase/storage-compat",qA="@firebase/firestore",zA="@firebase/vertexai-preview",$A="@firebase/firestore-compat",WA="firebase",JA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="[DEFAULT]",KA={[Vl]:"fire-core",[EA]:"fire-core-compat",[wA]:"fire-analytics",[IA]:"fire-analytics-compat",[SA]:"fire-app-check",[CA]:"fire-app-check-compat",[xA]:"fire-auth",[AA]:"fire-auth-compat",[kA]:"fire-rtdb",[NA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[PA]:"fire-fn",[MA]:"fire-fn-compat",[bA]:"fire-iid",[DA]:"fire-iid-compat",[LA]:"fire-fcm",[UA]:"fire-fcm-compat",[FA]:"fire-perf",[OA]:"fire-perf-compat",[VA]:"fire-rc",[HA]:"fire-rc-compat",[BA]:"fire-gcs",[GA]:"fire-gcs-compat",[qA]:"fire-fst",[$A]:"fire-fst-compat",[zA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Map,YA=new Map,Bl=new Map;function cp(t,e){try{t.container.addComponent(e)}catch(n){Kt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rt(t){const e=t.name;if(Bl.has(e))return Kt.debug(`There were multiple attempts to register component ${e}.`),!1;Bl.set(e,t);for(const n of ms.values())cp(n,t);for(const n of YA.values())cp(n,t);return!0}function ri(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ot(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xn=new ii("app","Firebase",QA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=JA;function qg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Hl,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw xn.create("bad-app-name",{appName:String(r)});if(n||(n=Lg()),!n)throw xn.create("no-options");const o=ms.get(r);if(o){if(Vr(n,o.options)&&Vr(i,o.config))return o;throw xn.create("duplicate-app",{appName:r})}const s=new rA(r);for(const c of Bl.values())s.addComponent(c);const u=new XA(n,i,s);return ms.set(r,u),u}function ju(t=Hl){const e=ms.get(t);if(!e&&t===Hl&&Lg())return qg();if(!e)throw xn.create("no-app",{appName:t});return e}function ot(t,e,n){var i;let r=(i=KA[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const u=[`Unable to register library "${r}" with version "${e}":`];o&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&u.push("and"),s&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kt.warn(u.join(" "));return}Rt(new vt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",jA=1,Hr="firebase-heartbeat-store";let xa=null;function zg(){return xa||(xa=Gg(ZA,jA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hr)}catch(n){console.warn(n)}}}}).catch(t=>{throw xn.create("idb-open",{originalErrorMessage:t.message})})),xa}async function ek(t){try{const n=(await zg()).transaction(Hr),i=await n.objectStore(Hr).get($g(t));return await n.done,i}catch(e){if(e instanceof Tt)Kt.warn(e.message);else{const n=xn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kt.warn(n.message)}}}async function dp(t,e){try{const i=(await zg()).transaction(Hr,"readwrite");await i.objectStore(Hr).put(e,$g(t)),await i.done}catch(n){if(n instanceof Tt)Kt.warn(n.message);else{const i=xn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Kt.warn(i.message)}}}function $g(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=1024,nk=30*24*60*60*1e3;class ik{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ok(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=fp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const u=new Date(s.date).valueOf();return Date.now()-u<=nk}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Kt.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fp(),{heartbeatsToSend:i,unsentEntries:r}=rk(this._heartbeatsCache.heartbeats),o=hs(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Kt.warn(n),""}}}function fp(){return new Date().toISOString().substring(0,10)}function rk(t,e=tk){const n=[];let i=t.slice();for(const r of t){const o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),pp(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),pp(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ok{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Og()?Vg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ek(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return dp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function pp(t){return hs(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){Rt(new vt("platform-logger",e=>new _A(e),"PRIVATE")),Rt(new vt("heartbeat",e=>new ik(e),"PRIVATE")),ot(Vl,up,t),ot(Vl,up,"esm2017"),ot("fire-js","")}sk("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="firebasestorage.googleapis.com",Jg="storageBucket",ak=2*60*1e3,lk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me extends Tt{constructor(e,n,i=0){super(Aa(e),`Firebase Storage: ${n} (${Aa(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Aa(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var he;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(he||(he={}));function Aa(t){return"storage/"+t}function ec(){const t="An unknown error occurred, please check the error payload for server response.";return new me(he.UNKNOWN,t)}function uk(t){return new me(he.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function ck(t){return new me(he.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dk(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new me(he.UNAUTHENTICATED,t)}function fk(){return new me(he.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function pk(t){return new me(he.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function hk(){return new me(he.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function mk(){return new me(he.CANCELED,"User canceled the upload/download.")}function gk(t){return new me(he.INVALID_URL,"Invalid URL '"+t+"'.")}function yk(t){return new me(he.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vk(){return new me(he.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jg+"' property when initializing the app?")}function _k(){return new me(he.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tk(){return new me(he.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Ek(t){return new me(he.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Gl(t){return new me(he.INVALID_ARGUMENT,t)}function Kg(){return new me(he.APP_DELETED,"The Firebase app was deleted.")}function Ik(t){return new me(he.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _r(t,e){return new me(he.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function rr(t){throw new me(he.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Je.makeFromUrl(e,n)}catch{return new Je(e,"")}if(i.path==="")return i;throw yk(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",u=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function d(I){I.path_=decodeURIComponent(I.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${r}/o${h}`,"i"),T={bucket:1,path:3},E=n===Wg?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",_=new RegExp(`^https?://${E}/${r}/${S}`,"i"),v=[{regex:u,indices:c,postModify:o},{regex:y,indices:T,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let I=0;I<v.length;I++){const w=v[I],C=w.regex.exec(e);if(C){const x=C[w.indices.bucket];let A=C[w.indices.path];A||(A=""),i=new Je(x,A),w.postModify(i);break}}if(i==null)throw gk(e);return i}}class wk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e,n){let i=1,r=null,o=null,s=!1,u=0;function c(){return u===2}let d=!1;function f(...S){d||(d=!0,e.apply(null,S))}function p(S){r=setTimeout(()=>{r=null,t(y,c())},S)}function h(){o&&clearTimeout(o)}function y(S,..._){if(d){h();return}if(S){h(),f.call(null,S,..._);return}if(c()||s){h(),f.call(null,S,..._);return}i<64&&(i*=2);let v;u===1?(u=2,v=0):v=(i+Math.random())*1e3,p(v)}let T=!1;function E(S){T||(T=!0,h(),!d&&(r!==null?(S||(u=2),clearTimeout(r),p(0)):S||(u=1)))}return p(0),o=setTimeout(()=>{s=!0,E(!0)},n),E}function Sk(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xk(t){return t!==void 0}function Ak(t){return typeof t=="object"&&!Array.isArray(t)}function tc(t){return typeof t=="string"||t instanceof String}function hp(t){return nc()&&t instanceof Blob}function nc(){return typeof Blob<"u"}function mp(t,e,n,i){if(i<e)throw Gl(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Gl(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function Yg(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var zn;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zn||(zn={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||r||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,i,r,o,s,u,c,d,f,p,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=u,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new vo(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=u=>{const c=u.loaded,d=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const u=o.getErrorCode()===zn.NO_ERROR,c=o.getStatus();if(!u||kk(c,this.additionalRetryCodes_)&&this.retry){const f=o.getErrorCode()===zn.ABORT;i(!1,new vo(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;i(!0,new vo(d,o))})},n=(i,r)=>{const o=this.resolve_,s=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(u,u.getResponse());xk(c)?o(c):o()}catch(c){s(c)}else if(u!==null){const c=ec();c.serverResponse=u.getErrorText(),this.errorCallback_?s(this.errorCallback_(u,c)):s(c)}else if(r.canceled){const c=this.appDelete_?Kg():mk();s(c)}else{const c=hk();s(c)}};this.canceled_?n(!1,new vo(!1,null,!0)):this.backoffId_=Ck(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vo{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function Rk(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Pk(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mk(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bk(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Dk(t,e,n,i,r,o,s=!0){const u=Yg(t.urlParams),c=t.url+u,d=Object.assign({},t.headers);return Mk(d,e),Rk(d,n),Pk(d,o),bk(d,i),new Nk(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uk(...t){const e=Lk();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(nc())return new Blob(t);throw new me(he.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Fk(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){if(typeof atob>"u")throw Ek("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ka{constructor(e,n){this.data=e,this.contentType=n||null}}function Qg(t,e){switch(t){case ht.RAW:return new ka(Xg(e));case ht.BASE64:case ht.BASE64URL:return new ka(Zg(t,e));case ht.DATA_URL:return new ka(Hk(e),Bk(e))}throw ec()}function Xg(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=i,s=t.charCodeAt(++n);i=65536|(o&1023)<<10|s&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function Vk(t){let e;try{e=decodeURIComponent(t)}catch{throw _r(ht.DATA_URL,"Malformed data URL.")}return Xg(e)}function Zg(t,e){switch(t){case ht.BASE64:{const r=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(r||o)throw _r(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ht.BASE64URL:{const r=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(r||o)throw _r(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Ok(e)}catch(r){throw r.message.includes("polyfill")?r:_r(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class jg{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw _r(ht.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Gk(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function Hk(t){const e=new jg(t);return e.base64?Zg(ht.BASE64,e.rest):Vk(e.rest)}function Bk(t){return new jg(t).contentType}function Gk(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){let i=0,r="";hp(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(hp(this.data_)){const i=this.data_,r=Fk(i,e,n);return r===null?null:new un(r)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new un(i,!0)}}static getBlob(...e){if(nc()){const n=e.map(i=>i instanceof un?i.data_:i);return new un(Uk.apply(null,n))}else{const n=e.map(s=>tc(s)?Qg(ht.RAW,s).data:s.data_);let i=0;n.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return n.forEach(s=>{for(let u=0;u<s.length;u++)r[o++]=s[u]}),new un(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(t){let e;try{e=JSON.parse(t)}catch{return null}return Ak(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zk(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function ty(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){return e}class be{constructor(e,n,i,r){this.server=e,this.local=n||e,this.writable=!!i,this.xform=r||$k}}let _o=null;function Wk(t){return!tc(t)||t.length<2?t:ty(t)}function ny(){if(_o)return _o;const t=[];t.push(new be("bucket")),t.push(new be("generation")),t.push(new be("metageneration")),t.push(new be("name","fullPath",!0));function e(o,s){return Wk(s)}const n=new be("name");n.xform=e,t.push(n);function i(o,s){return s!==void 0?Number(s):s}const r=new be("size");return r.xform=i,t.push(r),t.push(new be("timeCreated")),t.push(new be("updated")),t.push(new be("md5Hash",null,!0)),t.push(new be("cacheControl",null,!0)),t.push(new be("contentDisposition",null,!0)),t.push(new be("contentEncoding",null,!0)),t.push(new be("contentLanguage",null,!0)),t.push(new be("contentType",null,!0)),t.push(new be("metadata","customMetadata",!0)),_o=t,_o}function Jk(t,e){function n(){const i=t.bucket,r=t.fullPath,o=new Je(i,r);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Kk(t,e,n){const i={};i.type="file";const r=n.length;for(let o=0;o<r;o++){const s=n[o];i[s.local]=s.xform(i,e[s.server])}return Jk(i,t),i}function iy(t,e,n){const i=ey(e);return i===null?null:Kk(t,i,n)}function Yk(t,e,n,i){const r=ey(e);if(r===null||!tc(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(d=>{const f=t.bucket,p=t.fullPath,h="/b/"+s(f)+"/o/"+s(p),y=ic(h,n,i),T=Yg({alt:"media",token:d});return y+T})[0]}function Qk(t,e){const n={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class ry{constructor(e,n,i,r){this.url=e,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){if(!t)throw ec()}function Xk(t,e){function n(i,r){const o=iy(t,r,e);return oy(o!==null),o}return n}function Zk(t,e){function n(i,r){const o=iy(t,r,e);return oy(o!==null),Yk(o,r,t.host,t._protocol)}return n}function sy(t){function e(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=fk():r=dk():n.getStatus()===402?r=ck(t.bucket):n.getStatus()===403?r=pk(t.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return e}function jk(t){const e=sy(t);function n(i,r){let o=e(i,r);return i.getStatus()===404&&(o=uk(t.path)),o.serverResponse=r.serverResponse,o}return n}function eN(t,e,n){const i=e.fullServerUrl(),r=ic(i,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,u=new ry(r,o,Zk(t,n),s);return u.errorHandler=jk(e),u}function tN(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function nN(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=tN(null,e)),i}function iN(t,e,n,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function u(){let v="";for(let I=0;I<2;I++)v=v+Math.random().toString().slice(2);return v}const c=u();s["Content-Type"]="multipart/related; boundary="+c;const d=nN(e,i,r),f=Qk(d,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,h=`\r
--`+c+"--",y=un.getBlob(p,i,h);if(y===null)throw _k();const T={name:d.fullPath},E=ic(o,t.host,t._protocol),S="POST",_=t.maxUploadRetryTime,g=new ry(E,S,Xk(t,n),_);return g.urlParams=T,g.headers=s,g.body=y.uploadData(),g.errorHandler=sy(e),g}class rN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zn.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zn.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zn.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,r){if(this.sent_)throw rr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class oN extends rN{initXhr(){this.xhr_.responseType="text"}}function ay(){return new oN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n){this._service=e,n instanceof Je?this._location=n:this._location=Je.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Qn(e,n)}get root(){const e=new Je(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ty(this._location.path)}get storage(){return this._service}get parent(){const e=qk(this._location.path);if(e===null)return null;const n=new Je(this._location.bucket,e);return new Qn(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Ik(e)}}function sN(t,e,n){t._throwIfRoot("uploadBytes");const i=iN(t.storage,t._location,ny(),new un(e,!0),n);return t.storage.makeRequestWithTokens(i,ay).then(r=>({metadata:r,ref:t}))}function aN(t,e,n=ht.RAW,i){t._throwIfRoot("uploadString");const r=Qg(n,e),o=Object.assign({},i);return o.contentType==null&&r.contentType!=null&&(o.contentType=r.contentType),sN(t,r.data,o)}function lN(t){t._throwIfRoot("getDownloadURL");const e=eN(t.storage,t._location,ny());return t.storage.makeRequestWithTokens(e,ay).then(n=>{if(n===null)throw Tk();return n})}function uN(t,e){const n=zk(t._location.path,e),i=new Je(t._location.bucket,n);return new Qn(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){return/^[A-Za-z]+:\/\//.test(t)}function dN(t,e){return new Qn(t,e)}function ly(t,e){if(t instanceof rc){const n=t;if(n._bucket==null)throw vk();const i=new Qn(n,n._bucket);return e!=null?ly(i,e):i}else return e!==void 0?uN(t,e):t}function fN(t,e){if(e&&cN(e)){if(t instanceof rc)return dN(t,e);throw Gl("To use ref(service, url), the first argument must be a Storage instance.")}else return ly(t,e)}function gp(t,e){const n=e==null?void 0:e[Jg];return n==null?null:Je.makeFromBucketSpec(n,t)}function pN(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken=typeof r=="string"?r:Ox(r,t.app.options.projectId))}class rc{constructor(e,n,i,r,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=Wg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ak,this._maxUploadRetryTime=lk,this._requests=new Set,r!=null?this._bucket=Je.makeFromBucketSpec(r,this._host):this._bucket=gp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Je.makeFromBucketSpec(this._url,e):this._bucket=gp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qn(this,e)}_makeRequest(e,n,i,r,o=!0){if(this._deleted)return new wk(Kg());{const s=Dk(e,this._appId,i,r,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const yp="@firebase/storage",vp="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="storage";function hN(t,e,n,i){return t=lt(t),aN(t,e,n,i)}function mN(t){return t=lt(t),lN(t)}function gN(t,e){return t=lt(t),fN(t,e)}function yN(t=ju(),e){t=lt(t);const i=ri(t,uy).getImmediate({identifier:e}),r=Ux("storage");return r&&vN(i,...r),i}function vN(t,e,n,i={}){pN(t,e,n,i)}function _N(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new rc(n,i,r,e,Wi)}function TN(){Rt(new vt(uy,_N,"PUBLIC").setMultipleInstances(!0)),ot(yp,vp,""),ot(yp,vp,"esm2017")}TN();function oc(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function cy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EN=cy,dy=new ii("auth","Firebase",cy());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Xu("@firebase/auth");function IN(t,...e){gs.logLevel<=te.WARN&&gs.warn(`Auth (${Wi}): ${t}`,...e)}function Uo(t,...e){gs.logLevel<=te.ERROR&&gs.error(`Auth (${Wi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,...e){throw sc(t,...e)}function kt(t,...e){return sc(t,...e)}function fy(t,e,n){const i=Object.assign(Object.assign({},EN()),{[e]:n});return new ii("auth","Firebase",i).create(e,{appName:t.name})}function An(t){return fy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sc(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return dy.create(t,...e)}function V(t,e,...n){if(!t)throw sc(e,...n)}function Vt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uo(e),new Error(e)}function Qt(t,e){t||Vt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wN(){return _p()==="http:"||_p()==="https:"}function _p(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wN()||Fg()||"connection"in navigator)?navigator.onLine:!0}function SN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qt(n>e,"Short delay should be less than long delay!"),this.isMobile=Vx()||Bx()}get(){return CN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t,e){Qt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Kr(3e4,6e4);function qs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ji(t,e,n,i,r={}){return hy(t,r,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const u=Jr(Object.assign({key:t.config.apiKey},s)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},o);return Hx()||(d.referrerPolicy="no-referrer"),py.fetch()(gy(t,t.config.apiHost,n,u),d)})}async function hy(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},xN),e);try{const r=new kN(t),o=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw To(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw To(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw To(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw To(t,"user-disabled",s);const f=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw fy(t,f,d);Yt(t,f)}}catch(r){if(r instanceof Tt)throw r;Yt(t,"network-request-failed",{message:String(r)})}}async function my(t,e,n,i,r={}){const o=await Ji(t,e,n,i,r);return"mfaPendingCredential"in o&&Yt(t,"multi-factor-auth-required",{_serverResponse:o}),o}function gy(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?ac(t.config,r):`${t.config.apiScheme}://${r}`}class kN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(kt(this.auth,"network-request-failed")),AN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function To(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=kt(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(t,e){return Ji(t,"POST","/v1/accounts:delete",e)}async function yy(t,e){return Ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RN(t,e=!1){const n=lt(t),i=await n.getIdToken(e),r=lc(i);V(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:Tr(Na(r.auth_time)),issuedAtTime:Tr(Na(r.iat)),expirationTime:Tr(Na(r.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Na(t){return Number(t)*1e3}function lc(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Uo("JWT malformed, contained fewer than 3 sections"),null;try{const r=bg(n);return r?JSON.parse(r):(Uo("Failed to decode base64 JWT payload"),null)}catch(r){return Uo("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Tp(t){const e=lc(t);return V(e,"internal-error"),V(typeof e.exp<"u","internal-error"),V(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Br(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Tt&&PN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function PN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tr(this.lastLoginAt),this.creationTime=Tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Br(t,yy(n,{idToken:i}));V(r==null?void 0:r.users.length,n,"internal-error");const o=r.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vy(o.providerUserInfo):[],u=DN(t.providerData,s),c=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(u!=null&&u.length),f=c?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zl(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function bN(t){const e=lt(t);await ys(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DN(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function vy(t){return t.map(e=>{var{providerId:n}=e,i=oc(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){const n=await hy(t,{},async()=>{const i=Jr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=gy(t,r,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",py.fetch()(s,{method:"POST",headers:u,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function UN(t,e){return Ji(t,"POST","/v2/accounts:revokeToken",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){V(e.idToken,"internal-error"),V(typeof e.idToken<"u","internal-error"),V(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){V(e.length!==0,"internal-error");const n=Tp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(V(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:o}=await LN(e,n);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new Ri;return i&&(V(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(V(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(V(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return Vt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t,e){V(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ht{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=oc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zl(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Br(this,this.stsTokenManager.getToken(this.auth,e));return V(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RN(this,e)}reload(){return bN(this)}_assign(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ht(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ys(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ot(this.auth.app))return Promise.reject(An(this.auth));const e=await this.getIdToken();return await Br(this,NN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,u,c,d,f;const p=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(u=n.tenantId)!==null&&u!==void 0?u:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(d=n.createdAt)!==null&&d!==void 0?d:void 0,g=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:v,emailVerified:I,isAnonymous:w,providerData:C,stsTokenManager:x}=n;V(v&&x,e,"internal-error");const A=Ri.fromJSON(this.name,x);V(typeof v=="string",e,"internal-error"),rn(p,e.name),rn(h,e.name),V(typeof I=="boolean",e,"internal-error"),V(typeof w=="boolean",e,"internal-error"),rn(y,e.name),rn(T,e.name),rn(E,e.name),rn(S,e.name),rn(_,e.name),rn(g,e.name);const P=new Ht({uid:v,auth:e,email:h,emailVerified:I,displayName:p,isAnonymous:w,photoURL:T,phoneNumber:y,tenantId:E,stsTokenManager:A,createdAt:_,lastLoginAt:g});return C&&Array.isArray(C)&&(P.providerData=C.map(R=>Object.assign({},R))),S&&(P._redirectEventId=S),P}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ri;r.updateFromServerResponse(n);const o=new Ht({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ys(o),o}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];V(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?vy(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),u=new Ri;u.updateFromIdToken(i);const c=new Ht({uid:r.localId,auth:e,stsTokenManager:u,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new zl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=new Map;function Bt(t){Qt(t instanceof Function,"Expected a class definition");let e=Ep.get(t);return e?(Qt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ep.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_y.type="NONE";const Ip=_y;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t,e,n){return`firebase:${t}:${e}:${n}`}class Pi{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Fo(this.userKey,r.apiKey,o),this.fullPersistenceKey=Fo("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ht._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Pi(Bt(Ip),e,i);const r=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=r[0]||Bt(Ip);const s=Fo(i,e.config.apiKey,e.name);let u=null;for(const d of n)try{const f=await d._get(s);if(f){const p=Ht._fromJSON(e,f);d!==o&&(u=p),o=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Pi(o,e,i):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new Pi(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ty(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Sy(e))return"Blackberry";if(xy(e))return"Webos";if(Ey(e))return"Safari";if((e.includes("chrome/")||Iy(e))&&!e.includes("edge/"))return"Chrome";if(Cy(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Ty(t=Ue()){return/firefox\//i.test(t)}function Ey(t=Ue()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iy(t=Ue()){return/crios\//i.test(t)}function wy(t=Ue()){return/iemobile/i.test(t)}function Cy(t=Ue()){return/android/i.test(t)}function Sy(t=Ue()){return/blackberry/i.test(t)}function xy(t=Ue()){return/webos/i.test(t)}function uc(t=Ue()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FN(t=Ue()){var e;return uc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ON(){return Gx()&&document.documentMode===10}function Ay(t=Ue()){return uc(t)||Cy(t)||xy(t)||Sy(t)||/windows phone/i.test(t)||wy(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e=[]){let n;switch(t){case"Browser":n=wp(Ue());break;case"Worker":n=`${wp(Ue())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wi}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(t,e={}){return Ji(t,"GET","/v2/passwordPolicy",qs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=6;class GN{constructor(e){var n,i,r,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:BN,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cp(this),this.idTokenSubscription=new Cp(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bt(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Pi.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yy(this,{idToken:e}),i=await Ht._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ot(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return V(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ys(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ot(this.app))return Promise.reject(An(this));const n=e?lt(e):null;return n&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&V(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ot(this.app)?Promise.reject(An(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ot(this.app)?Promise.reject(An(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bt(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HN(this),n=new GN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await UN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bt(e)||this._popupRedirectResolver;V(n,this,"argument-error"),this.redirectPersistenceManager=await Pi.create(this,[Bt(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(V(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ky(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zs(t){return lt(t)}class Cp{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kx(n=>this.observer=n)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zN(t){cc=t}function $N(t){return cc.loadJS(t)}function WN(){return cc.gapiScript}function JN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){const n=ri(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),o=n.getOptions();if(Vr(o,e??{}))return r;Yt(r,"already-initialized")}return n.initialize({options:e})}function YN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Bt);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QN(t,e,n){const i=zs(t);V(i._canInitEmulator,i,"emulator-config-failed"),V(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,o=Ny(e),{host:s,port:u}=XN(e),c=u===null?"":`:${u}`;i.config.emulator={url:`${o}//${s}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),ZN()}function Ny(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XN(t){const e=Ny(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:Sp(i.substr(o.length+1))}}else{const[o,s]=i.split(":");return{host:o,port:Sp(s)}}}function Sp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ZN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vt("not implemented")}_getIdTokenResponse(e){return Vt("not implemented")}_linkToIdToken(e,n){return Vt("not implemented")}_getReauthenticationResolver(e){return Vt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(t,e){return my(t,"POST","/v1/accounts:signInWithIdp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="http://localhost";class Xn extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xn(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,o=oc(n,["providerId","signInMethod"]);if(!i||!r)return null;const s=new Xn(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Mi(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Mi(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:jN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn extends Yr{constructor(){super("facebook.com")}static credential(e){return Xn._fromParams({providerId:cn.PROVIDER_ID,signInMethod:cn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cn.credentialFromTaggedObject(e)}static credentialFromError(e){return cn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cn.credential(e.oauthAccessToken)}catch{return null}}}cn.FACEBOOK_SIGN_IN_METHOD="facebook.com";cn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xn._fromParams({providerId:dn.PROVIDER_ID,signInMethod:dn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dn.credentialFromTaggedObject(e)}static credentialFromError(e){return dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return dn.credential(n,i)}catch{return null}}}dn.GOOGLE_SIGN_IN_METHOD="google.com";dn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends Yr{constructor(){super("github.com")}static credential(e){return Xn._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fn.credential(e.oauthAccessToken)}catch{return null}}}fn.GITHUB_SIGN_IN_METHOD="github.com";fn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn extends Yr{constructor(){super("twitter.com")}static credential(e,n){return Xn._fromParams({providerId:pn.PROVIDER_ID,signInMethod:pn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return pn.credentialFromTaggedObject(e)}static credentialFromError(e){return pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return pn.credential(n,i)}catch{return null}}}pn.TWITTER_SIGN_IN_METHOD="twitter.com";pn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return my(t,"POST","/v1/accounts:signUp",qs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const o=await Ht._fromIdTokenResponse(e,i,r),s=xp(i);return new Rn({user:o,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=xp(i);return new Rn({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function xp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function My(t){var e;if(Ot(t.app))return Promise.reject(An(t));const n=zs(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Rn({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await eR(n,{returnSecureToken:!0}),r=await Rn._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Tt{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vs.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new vs(e,n,i,r)}}function by(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vs._fromErrorAndOperation(t,o,e,i):o})}async function tR(t,e,n=!1){const i=await Br(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Rn._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e,n=!1){const{auth:i}=t;if(Ot(i.app))return Promise.reject(An(i));const r="reauthenticate";try{const o=await Br(t,by(i,r,e,t),n);V(o.idToken,i,"internal-error");const s=lc(o.idToken);V(s,i,"internal-error");const{sub:u}=s;return V(t.uid===u,i,"user-mismatch"),Rn._forOperation(t,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yt(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e,n=!1){if(Ot(t.app))return Promise.reject(An(t));const i="signIn",r=await by(t,i,e),o=await Rn._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(o.user),o}function rR(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function oR(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}const _s="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_s,"1"),this.storage.removeItem(_s),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=1e3,aR=10;class Ly extends Dy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ay(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);ON()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,aR):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},sR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ly.type="LOCAL";const lR=Ly;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends Dy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Uy.type="SESSION";const Fy=Uy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new $s(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:o}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(s).map(async d=>d(n.origin,o)),c=await uR(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$s.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const d=dc("",20);r.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(p){const h=p;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(h.data.response);break;default:clearTimeout(f),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return window}function dR(t){Nt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){return typeof Nt().WorkerGlobalScope<"u"&&typeof Nt().importScripts=="function"}async function fR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hR(){return Oy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="firebaseLocalStorageDb",mR=1,Ts="firebaseLocalStorage",Hy="fbase_key";class Qr{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ws(t,e){return t.transaction([Ts],e?"readwrite":"readonly").objectStore(Ts)}function gR(){const t=indexedDB.deleteDatabase(Vy);return new Qr(t).toPromise()}function $l(){const t=indexedDB.open(Vy,mR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ts,{keyPath:Hy})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ts)?e(i):(i.close(),await gR(),e(await $l()))})})}async function Ap(t,e,n){const i=Ws(t,!0).put({[Hy]:e,value:n});return new Qr(i).toPromise()}async function yR(t,e){const n=Ws(t,!1).get(e),i=await new Qr(n).toPromise();return i===void 0?null:i.value}function kp(t,e){const n=Ws(t,!0).delete(e);return new Qr(n).toPromise()}const vR=800,_R=3;class By{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $l(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>_R)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Oy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$s._getInstance(hR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new cR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $l();return await Ap(e,_s,"1"),await kp(e,_s),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ap(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>yR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kp(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const o=Ws(r,!1).getAll();return new Qr(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:o}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}By.type="LOCAL";const TR=By;new Kr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e){return e?Bt(e):(V(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IR(t){return iR(t.auth,new fc(t),t.bypassAuthState)}function wR(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),nR(n,new fc(t),t.bypassAuthState)}async function CR(t){const{auth:e,user:n}=t;return V(n,e,"internal-error"),tR(n,new fc(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IR;case"linkViaPopup":case"linkViaRedirect":return CR;case"reauthViaPopup":case"reauthViaRedirect":return wR;default:Yt(this.auth,"internal-error")}}resolve(e){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new Kr(2e3,1e4);class Ti extends Gy{constructor(e,n,i,r,o){super(e,n,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Ti.currentPopupAction&&Ti.currentPopupAction.cancel(),Ti.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return V(e,this.auth,"internal-error"),e}async onExecution(){Qt(this.filter.length===1,"Popup operations only handle one event");const e=dc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ti.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SR.get())};e()}}Ti.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="pendingRedirect",Oo=new Map;class AR extends Gy{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Oo.get(this.auth._key());if(!e){try{const i=await kR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Oo.set(this.auth._key(),e)}return this.bypassAuthState||Oo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kR(t,e){const n=PR(e),i=RR(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function NR(t,e){Oo.set(t._key(),e)}function RR(t){return Bt(t._redirectPersistence)}function PR(t){return Fo(xR,t.config.apiKey,t.name)}async function MR(t,e,n=!1){if(Ot(t.app))return Promise.reject(An(t));const i=zs(t),r=ER(i,e),s=await new AR(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=10*60*1e3;class DR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!qy(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(kt(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Np(e))}saveEventToCache(e){this.cachedEventUids.add(Np(e)),this.lastProcessedEventTime=Date.now()}}function Np(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qy({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qy(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UR(t,e={}){return Ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OR=/^https?/;async function VR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UR(t);for(const n of e)try{if(HR(n))return}catch{}Yt(t,"unauthorized-domain")}function HR(t){const e=ql(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!OR.test(n))return!1;if(FR.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=new Kr(3e4,6e4);function Rp(){const t=Nt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GR(t){return new Promise((e,n)=>{var i,r,o;function s(){Rp(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rp(),n(kt(t,"network-request-failed"))},timeout:BR.get()})}if(!((r=(i=Nt().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=Nt().gapi)===null||o===void 0)&&o.load)s();else{const u=JN("iframefcb");return Nt()[u]=()=>{gapi.load?s():n(kt(t,"network-request-failed"))},$N(`${WN()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw Vo=null,e})}let Vo=null;function qR(t){return Vo=Vo||GR(t),Vo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Kr(5e3,15e3),$R="__/auth/iframe",WR="emulator/auth/iframe",JR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YR(t){const e=t.config;V(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ac(e,WR):`https://${t.config.authDomain}/${$R}`,i={apiKey:e.apiKey,appName:t.name,v:Wi},r=KR.get(t.config.apiHost);r&&(i.eid=r);const o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Jr(i).slice(1)}`}async function QR(t){const e=await qR(t),n=Nt().gapi;return V(n,t,"internal-error"),e.open({where:document.body,url:YR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JR,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const s=kt(t,"network-request-failed"),u=Nt().setTimeout(()=>{o(s)},zR.get());function c(){Nt().clearTimeout(u),r(i)}i.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZR=500,jR=600,eP="_blank",tP="http://localhost";class Pp{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nP(t,e,n,i=ZR,r=jR){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const c=Object.assign(Object.assign({},XR),{width:i.toString(),height:r.toString(),top:o,left:s}),d=Ue().toLowerCase();n&&(u=Iy(d)?eP:n),Ty(d)&&(e=e||tP,c.scrollbars="yes");const f=Object.entries(c).reduce((h,[y,T])=>`${h}${y}=${T},`,"");if(FN(d)&&u!=="_self")return iP(e||"",u),new Pp(null);const p=window.open(e||"",u,f);V(p,t,"popup-blocked");try{p.focus()}catch{}return new Pp(p)}function iP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="__/auth/handler",oP="emulator/auth/handler",sP=encodeURIComponent("fac");async function Mp(t,e,n,i,r,o){V(t.config.authDomain,t,"auth-domain-config-required"),V(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Wi,eventId:r};if(e instanceof Py){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Jx(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))s[f]=p}if(e instanceof Yr){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const f of Object.keys(u))u[f]===void 0&&delete u[f];const c=await t._getAppCheckToken(),d=c?`#${sP}=${encodeURIComponent(c)}`:"";return`${aP(t)}?${Jr(u).slice(1)}${d}`}function aP({config:t}){return t.emulator?ac(t,oP):`https://${t.authDomain}/${rP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="webStorageSupport";class lP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fy,this._completeRedirectFn=MR,this._overrideRedirectResult=NR}async _openPopup(e,n,i,r){var o;Qt((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Mp(e,n,i,ql(),r);return nP(e,s,dc())}async _openRedirect(e,n,i,r){await this._originValidation(e);const o=await Mp(e,n,i,ql(),r);return dR(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Qt(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await QR(e),i=new DR(e);return n.register("authEvent",r=>(V(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ra,{type:Ra},r=>{var o;const s=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Ra];s!==void 0&&n(!!s),Yt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ay()||Ey()||uc()}}const uP=lP;var bp="@firebase/auth",Dp="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fP(t){Rt(new vt("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=i.options;V(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ky(t)},d=new qN(i,r,o,c);return YN(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Rt(new vt("auth-internal",e=>{const n=zs(e.getProvider("auth").getImmediate());return(i=>new cP(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(bp,Dp,dP(t)),ot(bp,Dp,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=5*60,hP=Ug("authIdTokenMaxAge")||pP;let Lp=null;const mP=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>hP)return;const r=n==null?void 0:n.token;Lp!==r&&(Lp=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function gP(t=ju()){const e=ri(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KN(t,{popupRedirectResolver:uP,persistence:[TR,lR,Fy]}),i=Ug("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const s=mP(o.toString());oR(n,s,()=>s(n.currentUser)),rR(n,u=>s(u))}}const r=Dg("auth");return r&&QN(n,`http://${r}`),n}function yP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const o=kt("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",yP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fP("Browser");var vP="firebase",_P="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ot(vP,_P,"app");const zy="@firebase/installations",pc="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=1e4,Wy=`w:${pc}`,Jy="FIS_v2",TP="https://firebaseinstallations.googleapis.com/v1",EP=60*60*1e3,IP="installations",wP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Zn=new ii(IP,wP,CP);function Ky(t){return t instanceof Tt&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy({projectId:t}){return`${TP}/projects/${t}/installations`}function Qy(t){return{token:t.token,requestStatus:2,expiresIn:xP(t.expiresIn),creationTime:Date.now()}}async function Xy(t,e){const i=(await e.json()).error;return Zn.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Zy({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SP(t,{refreshToken:e}){const n=Zy(t);return n.append("Authorization",AP(e)),n}async function jy(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xP(t){return Number(t.replace("s","000"))}function AP(t){return`${Jy} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Yy(t),r=Zy(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const s={fid:n,authVersion:Jy,appId:t.appId,sdkVersion:Wy},u={method:"POST",headers:r,body:JSON.stringify(s)},c=await jy(()=>fetch(i,u));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:Qy(d.authToken)}}else throw await Xy("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^[cdef][\w-]{21}$/,Wl="";function PP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=MP(t);return RP.test(n)?n:Wl}catch{return Wl}}function MP(t){return NP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=new Map;function nv(t,e){const n=Js(t);iv(n,e),bP(n,e)}function iv(t,e){const n=tv.get(t);if(n)for(const i of n)i(e)}function bP(t,e){const n=DP();n&&n.postMessage({key:t,fid:e}),LP()}let Bn=null;function DP(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=t=>{iv(t.data.key,t.data.fid)}),Bn}function LP(){tv.size===0&&Bn&&(Bn.close(),Bn=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="firebase-installations-database",FP=1,jn="firebase-installations-store";let Pa=null;function hc(){return Pa||(Pa=Gg(UP,FP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(jn)}}})),Pa}async function Es(t,e){const n=Js(t),r=(await hc()).transaction(jn,"readwrite"),o=r.objectStore(jn),s=await o.get(n);return await o.put(e,n),await r.done,(!s||s.fid!==e.fid)&&nv(t,e.fid),e}async function rv(t){const e=Js(t),i=(await hc()).transaction(jn,"readwrite");await i.objectStore(jn).delete(e),await i.done}async function Ks(t,e){const n=Js(t),r=(await hc()).transaction(jn,"readwrite"),o=r.objectStore(jn),s=await o.get(n),u=e(s);return u===void 0?await o.delete(n):await o.put(u,n),await r.done,u&&(!s||s.fid!==u.fid)&&nv(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mc(t){let e;const n=await Ks(t.appConfig,i=>{const r=OP(i),o=VP(t,r);return e=o.registrationPromise,o.installationEntry});return n.fid===Wl?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function OP(t){const e=t||{fid:PP(),registrationStatus:0};return ov(e)}function VP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Zn.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=HP(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:BP(t)}:{installationEntry:e}}async function HP(t,e){try{const n=await kP(t,e);return Es(t.appConfig,n)}catch(n){throw Ky(n)&&n.customData.serverCode===409?await rv(t.appConfig):await Es(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function BP(t){let e=await Up(t.appConfig);for(;e.registrationStatus===1;)await ev(100),e=await Up(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await mc(t);return i||n}return e}function Up(t){return Ks(t,e=>{if(!e)throw Zn.create("installation-not-found");return ov(e)})}function ov(t){return GP(t)?{fid:t.fid,registrationStatus:0}:t}function GP(t){return t.registrationStatus===1&&t.registrationTime+$y<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP({appConfig:t,heartbeatServiceProvider:e},n){const i=zP(t,n),r=SP(t,n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const s={installation:{sdkVersion:Wy,appId:t.appId}},u={method:"POST",headers:r,body:JSON.stringify(s)},c=await jy(()=>fetch(i,u));if(c.ok){const d=await c.json();return Qy(d)}else throw await Xy("Generate Auth Token",c)}function zP(t,{fid:e}){return`${Yy(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(t,e=!1){let n;const i=await Ks(t.appConfig,o=>{if(!sv(o))throw Zn.create("not-registered");const s=o.authToken;if(!e&&JP(s))return o;if(s.requestStatus===1)return n=$P(t,e),o;{if(!navigator.onLine)throw Zn.create("app-offline");const u=YP(o);return n=WP(t,u),u}});return n?await n:i.authToken}async function $P(t,e){let n=await Fp(t.appConfig);for(;n.authToken.requestStatus===1;)await ev(100),n=await Fp(t.appConfig);const i=n.authToken;return i.requestStatus===0?gc(t,e):i}function Fp(t){return Ks(t,e=>{if(!sv(e))throw Zn.create("not-registered");const n=e.authToken;return QP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function WP(t,e){try{const n=await qP(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await Es(t.appConfig,i),n}catch(n){if(Ky(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await rv(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Es(t.appConfig,i)}throw n}}function sv(t){return t!==void 0&&t.registrationStatus===2}function JP(t){return t.requestStatus===2&&!KP(t)}function KP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+EP}function YP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function QP(t){return t.requestStatus===1&&t.requestTime+$y<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t){const e=t,{installationEntry:n,registrationPromise:i}=await mc(e);return i?i.catch(console.error):gc(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e=!1){const n=t;return await jP(n),(await gc(n,e)).token}async function jP(t){const{registrationPromise:e}=await mc(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){if(!t||!t.options)throw Ma("App Configuration");if(!t.name)throw Ma("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ma(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Ma(t){return Zn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="installations",tM="installations-internal",nM=t=>{const e=t.getProvider("app").getImmediate(),n=eM(e),i=ri(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},iM=t=>{const e=t.getProvider("app").getImmediate(),n=ri(e,av).getImmediate();return{getId:()=>XP(n),getToken:r=>ZP(n,r)}};function rM(){Rt(new vt(av,nM,"PUBLIC")),Rt(new vt(tM,iM,"PRIVATE"))}rM();ot(zy,pc);ot(zy,pc,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="analytics",oM="firebase_id",sM="origin",aM=60*1e3,lM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yc="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=new Xu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ye=new ii("analytics","Analytics",uM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cM(t){if(!t.startsWith(yc)){const e=Ye.create("invalid-gtag-resource",{gtagURL:t});return ze.warn(e.message),""}return t}function lv(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dM(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function fM(t,e){const n=dM("firebase-js-sdk-policy",{createScriptURL:cM}),i=document.createElement("script"),r=`${yc}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function pM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function hM(t,e,n,i,r,o){const s=i[r];try{if(s)await e[s];else{const c=(await lv(n)).find(d=>d.measurementId===r);c&&await e[c.appId]}}catch(u){ze.error(u)}t("config",r,o)}async function mM(t,e,n,i,r){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const u=await lv(n);for(const c of s){const d=u.find(p=>p.measurementId===c),f=d&&e[d.appId];if(f)o.push(f);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",i,r||{})}catch(o){ze.error(o)}}function gM(t,e,n,i){async function r(o,...s){try{if(o==="event"){const[u,c]=s;await mM(t,e,n,u,c)}else if(o==="config"){const[u,c]=s;await hM(t,e,n,i,u,c)}else if(o==="consent"){const[u,c]=s;t("consent",u,c)}else if(o==="get"){const[u,c,d]=s;t("get",u,c,d)}else if(o==="set"){const[u]=s;t("set",u)}else t(o,...s)}catch(u){ze.error(u)}}return r}function yM(t,e,n,i,r){let o=function(...s){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=gM(o,t,e,n),{gtagCore:o,wrappedGtag:window[r]}}function vM(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(yc)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=30,TM=1e3;class EM{constructor(e={},n=TM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uv=new EM;function IM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function wM(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:IM(i)},o=lM.replace("{app-id}",n),s=await fetch(o,r);if(s.status!==200&&s.status!==304){let u="";try{const c=await s.json();!((e=c.error)===null||e===void 0)&&e.message&&(u=c.error.message)}catch{}throw Ye.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u})}return s.json()}async function CM(t,e=uv,n){const{appId:i,apiKey:r,measurementId:o}=t.options;if(!i)throw Ye.create("no-app-id");if(!r){if(o)return{measurementId:o,appId:i};throw Ye.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new AM;return setTimeout(async()=>{u.abort()},aM),cv({appId:i,apiKey:r,measurementId:o},s,u,e)}async function cv(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=uv){var o;const{appId:s,measurementId:u}=t;try{await SM(i,e)}catch(c){if(u)return ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:u};throw c}try{const c=await wM(t);return r.deleteThrottleMetadata(s),c}catch(c){const d=c;if(!xM(d)){if(r.deleteThrottleMetadata(s),u)return ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:u};throw c}const f=Number((o=d==null?void 0:d.customData)===null||o===void 0?void 0:o.httpStatus)===503?op(n,r.intervalMillis,_M):op(n,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return r.setThrottleMetadata(s,p),ze.debug(`Calling attemptFetch again in ${f} millis`),cv(t,p,i,r)}}function SM(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),o=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(o),i(Ye.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xM(t){if(!(t instanceof Tt)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class AM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kM(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const o=await e,s=Object.assign(Object.assign({},i),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(){if(Og())try{await Vg()}catch(t){return ze.warn(Ye.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ze.warn(Ye.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function RM(t,e,n,i,r,o,s){var u;const c=CM(t);c.then(y=>{n[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&ze.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>ze.error(y)),e.push(c);const d=NM().then(y=>{if(y)return i.getId()}),[f,p]=await Promise.all([c,d]);vM(o)||fM(o,f.measurementId),r("js",new Date);const h=(u=s==null?void 0:s.config)!==null&&u!==void 0?u:{};return h[sM]="firebase",h.update=!0,p!=null&&(h[oM]=p),r("config",f.measurementId,h),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.app=e}_delete(){return delete Er[this.app.options.appId],Promise.resolve()}}let Er={},Op=[];const Vp={};let ba="dataLayer",MM="gtag",Hp,dv,Bp=!1;function bM(){const t=[];if(Fg()&&t.push("This is a browser extension environment."),qx()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Ye.create("invalid-analytics-context",{errorInfo:e});ze.warn(n.message)}}function DM(t,e,n){bM();const i=t.options.appId;if(!i)throw Ye.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ye.create("no-api-key");if(Er[i]!=null)throw Ye.create("already-exists",{id:i});if(!Bp){pM(ba);const{wrappedGtag:o,gtagCore:s}=yM(Er,Op,Vp,ba,MM);dv=o,Hp=s,Bp=!0}return Er[i]=RM(t,Op,Vp,e,Hp,ba,n),new PM(t)}function LM(t=ju()){t=lt(t);const e=ri(t,Is);return e.isInitialized()?e.getImmediate():UM(t)}function UM(t,e={}){const n=ri(t,Is);if(n.isInitialized()){const r=n.getImmediate();if(Vr(e,n.getOptions()))return r;throw Ye.create("already-initialized")}return n.initialize({options:e})}function FM(t,e,n,i){t=lt(t),kM(dv,Er[t.app.options.appId],e,n,i).catch(r=>ze.error(r))}const Gp="@firebase/analytics",qp="0.10.8";function OM(){Rt(new vt(Is,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return DM(i,r,n)},"PUBLIC")),Rt(new vt("analytics-internal",t,"PRIVATE")),ot(Gp,qp),ot(Gp,qp,"esm2017");function t(e){try{const n=e.getProvider(Is).getImmediate();return{logEvent:(i,r,o)=>FM(n,i,r,o)}}catch(n){throw Ye.create("interop-component-reg-failed",{reason:n})}}}OM();const VM={apiKey:"AIzaSyB0BSDI-T2UWNJt0_shdB3GA3PncZt3d40",authDomain:"neve-or.firebaseapp.com",projectId:"neve-or",storageBucket:"neve-or.firebasestorage.app",messagingSenderId:"49659169778",appId:"1:49659169778:web:c7e1089fcef9f529e9b96b",measurementId:"G-TGC0CQR7N1"},vc=qg(VM);LM(vc);const HM=yN(vc),Jl=gP(vc),zp=async(t,e)=>{try{Jl.currentUser||(console.log("User not signed in, attempting anonymous sign-in..."),await My(Jl));const n=gN(HM,e);return await hN(n,t,"data_url"),await mN(n)}catch(n){return console.error("Error uploading image to Firebase:",n),n.code==="storage/unauthorized"?alert(" :  -Authentication  -Firebase Console   -Rules."):n.message&&n.message.includes("CORS")&&alert(" CORS:     gsutil  ."),null}},BM=({gameState:t,onUpdateGameState:e,onClose:n,isStorageFull:i})=>{var ut,Ie;const[r,o]=q.useState(t.nodes.length>0?t.nodes[0].id:""),[s,u]=q.useState("ASSETS"),[c,d]=q.useState(null),[f,p]=q.useState(0),[h,y]=q.useState(null),T=t.nodes.find(M=>M.id===r),E=h!==null,S=E?(ut=T==null?void 0:T.data.subScenes)==null?void 0:ut.find(M=>M.id===h):null,_=E?S==null?void 0:S.backgroundImage:T==null?void 0:T.data.backgroundImage,g=T&&T.data&&T.data.dialog?Array.from(new Set(T.data.dialog.map(M=>M.speaker))):[];q.useEffect(()=>{const M=JSON.stringify(t),b=new Blob([M]).size/(1024*1024);p(b)},[t]);const v=M=>{var k,b;return!!((k=M.data.backgroundImage)!=null&&k.startsWith("data:")||Object.values(M.data.characterImages||{}).some(L=>L.startsWith("data:"))||(b=M.data.subScenes)!=null&&b.some(L=>{var O;return(O=L.backgroundImage)==null?void 0:O.startsWith("data:")}))},I=(M,k)=>{var L,O;const b=(L=M.data.subScenes)==null?void 0:L.find(Z=>Z.id===k);return(O=b==null?void 0:b.backgroundImage)==null?void 0:O.startsWith("data:")},w=M=>{T&&(E?R(T.id,{description:M.target.value}):R(T.id,{description:M.target.value}))},C=async()=>{if(!T)return;d("gen_bg");let M=T.data.description;if(T.id==="town_square"&&!E&&(M="A beautiful wide city square in a modern digital city. Sunny day. People walking peacefully, open paved space, a few trees, benches, city skyline in background. Wide angle view, single unified composition, vector art style. No split screen."),T.id==="newspaper_office"&&!E&&(M="A close-up view of a modern journalist's desk. Aesthetic and clean office interior. Includes a computer screen (blank), a coffee cup, notebooks, and pens. Soft lighting. Digital city vector art style. STRICTLY NO TEXT, NO HEADLINES, NO LETTERS anywhere."),E&&S){let b="";const L=S.id.toLowerCase(),O=S.title;L.includes("school")||O.includes(" ")?b="Interior of a modern high school classroom. Rows of student desks, a large whiteboard or blackboard, educational posters on walls, school hallway, lockers. Bright educational setting.":L.includes("cafe")||O.includes("")?b="Interior of a cozy urban coffee shop. Espresso machine, small round tables, customers sitting with laptops, warm lighting, coffee cups.":L.includes("square")||O.includes("")?b="A public city square outdoors. Wide open paved space, a central fountain or statue, benches, city skyline in background, people walking.":(L.includes("neighborhood")||O.includes(""))&&(b="A quiet residential street view. Apartment building facades, sidewalk, street lamps, some greenery, parked cars."),M=`Specific location scene: ${S.title}. ${b} (Context from story: ${T.data.description})`}const k=await Ax(M);d(null),k?E&&S?B(T.id,S.id,{backgroundImage:k}):R(T.id,{backgroundImage:k}):alert("  .   API KEY.")},x=async M=>{var L;if(!T)return;d(`gen_char_${M}`);const k=((L=T.data.dialog.find(O=>O.speaker===M))==null?void 0:L.mood)||"neutral",b=await kx(M,k);if(d(null),b){const O=T.data.characterImages||{};R(T.id,{characterImages:{...O,[M]:b}})}},A=async()=>{if(!T)return;const M=_;if(!M||!M.startsWith("data:")){alert("    (  ).");return}d("up_bg");const k=E?`_sub_${S==null?void 0:S.id}`:"",b=`backgrounds/${T.id}${k}_${Date.now()}.jpg`,L=await zp(M,b);d(null),L?(E&&S?B(T.id,S.id,{backgroundImage:L}):R(T.id,{backgroundImage:L}),alert("   !")):alert("   .")},P=async M=>{var Z;if(!T||!((Z=T.data.characterImages)!=null&&Z[M]))return;const k=T.data.characterImages[M];if(!k.startsWith("data:"))return;d(`up_char_${M}`);const b=M.replace(/[^a-z0-9]/gi,"_").toLowerCase(),L=`characters/${T.id}_${b}_${Date.now()}.jpg`,O=await zp(k,L);if(d(null),O){const je=T.data.characterImages||{};R(T.id,{characterImages:{...je,[M]:O}}),alert(` ${M}  !`)}},R=(M,k)=>{const b=t.nodes.map(L=>L.id===M?{...L,data:{...L.data,...k}}:L);e({...t,nodes:b})},B=(M,k,b)=>{const L=t.nodes.map(O=>{if(O.id===M&&O.data.subScenes){const Z=O.data.subScenes.map(je=>je.id===k?{...je,...b}:je);return{...O,data:{...O.data,subScenes:Z}}}return O});e({...t,nodes:L})},W=()=>{confirm("  ?            .")&&(localStorage.removeItem(Al),window.location.reload())},ee=Math.min(f/4.8*100,100),Pt=ee>90?"bg-red-500":ee>70?"bg-orange-500":"bg-green-500";return m.jsxs("div",{className:"fixed inset-0 bg-white z-50 overflow-hidden flex flex-col",dir:"rtl",children:[m.jsxs("header",{className:"bg-gray-900 text-white p-4 flex justify-between items-center shadow-md z-10 shrink-0",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("h2",{className:"text-xl font-bold",children:" Dev Panel"}),m.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>u("ASSETS"),className:`px-4 py-1 rounded-md text-sm font-bold transition ${s==="ASSETS"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:" (AI & Cloud)"}),m.jsx("button",{onClick:()=>u("CONTENT"),className:`px-4 py-1 rounded-md text-sm font-bold transition ${s==="CONTENT"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:" "})]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"flex flex-col items-end mr-4",children:[m.jsxs("div",{className:"text-[10px] text-gray-400",children:[" : ",f.toFixed(2),"MB / 5.00MB"]}),m.jsx("div",{className:"w-32 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:m.jsx("div",{className:`h-full ${Pt} transition-all duration-500`,style:{width:`${ee}%`}})})]}),m.jsx(fe,{variant:"secondary",onClick:W,className:"py-1 px-3 text-sm bg-red-100 text-red-600 hover:bg-red-200 border-none shadow-none",children:""}),m.jsx(fe,{variant:"danger",onClick:n,className:"py-1 px-3 text-sm",children:""})]})]}),(i||ee>95)&&m.jsx("div",{className:"bg-red-600 text-white p-2 text-center text-sm font-bold animate-pulse shadow-lg shrink-0",children:"   !   .     -      ."}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsxs("aside",{className:"w-72 bg-gray-100 border-l border-gray-200 flex flex-col shrink-0",children:[m.jsx("div",{className:"p-4 border-b bg-gray-50 font-bold text-gray-700",children:"  :"}),m.jsx("div",{className:"overflow-y-auto flex-1 p-2 space-y-1",children:t.nodes.map(M=>{const k=v(M);return m.jsxs("div",{onClick:()=>{o(M.id),y(null)},className:`p-3 rounded-lg cursor-pointer text-sm font-medium transition-colors flex justify-between items-center ${r===M.id?"bg-blue-600 text-white shadow-md":"bg-white hover:bg-gray-200 text-gray-700"}`,children:[m.jsx("span",{className:"truncate flex-1",children:M.title}),k&&m.jsx("span",{title:"    ",className:"text-[10px] bg-orange-500 text-white px-2 py-0.5 rounded-full shadow-sm animate-pulse ml-2 font-bold",children:" "})]},M.id)})})]}),m.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-50 p-8",children:T?m.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 pb-20",children:[T.data.subScenes&&T.data.subScenes.length>0&&m.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-blue-200 flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1 justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"font-bold text-blue-900",children:"   :"}),m.jsx("span",{className:"text-xs text-gray-500",children:"(    )"})]}),m.jsx("div",{className:"text-xs text-orange-600 font-bold bg-orange-50 px-2 py-1 rounded",children:"   "})]}),m.jsxs("div",{className:"flex gap-2 flex-wrap",children:[m.jsxs("button",{onClick:()=>y(null),className:`px-3 py-2 rounded-lg text-sm transition-all border flex items-center gap-2 ${h===null?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[m.jsx("span",{children:" "}),((Ie=T.data.backgroundImage)==null?void 0:Ie.startsWith("data:"))&&m.jsx("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full animate-pulse border border-white"})]}),T.data.subScenes.map(M=>{const k=I(T,M.id);return m.jsxs("button",{onClick:()=>y(M.id),className:`px-3 py-2 rounded-lg text-sm transition-all border relative flex items-center gap-2 ${h===M.id?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-gray-600 hover:bg-gray-50"}`,children:[m.jsxs("span",{children:[M.icon," ",M.title]}),k&&m.jsx("span",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full animate-pulse border border-white",title:"  "})]},M.id)})]})]}),s==="ASSETS"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[m.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2 justify-between",children:[m.jsxs("span",{children:["   ",E?`( ${S==null?void 0:S.title})`:"()"]}),(_==null?void 0:_.startsWith("data:"))&&m.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded font-bold",children:"   "})]}),m.jsxs("div",{className:"flex gap-6 items-start",children:[m.jsxs("div",{className:"flex-1 space-y-4",children:[m.jsxs("div",{className:"bg-blue-50 p-3 rounded border border-blue-100 text-sm text-blue-800",children:[m.jsx("strong",{children:"  :"}),m.jsx("br",{}),"1.  ",m.jsx("b",{children:'" "'}),"     -AI.",m.jsx("br",{}),"2. ",m.jsx("span",{className:"text-red-600 font-black",children:"!"}),"  ",m.jsx("b",{children:'" "'}),"   .",m.jsx("br",{}),"        ."]}),m.jsx("p",{className:"text-xs text-gray-500",children:E?`  AI: "Scene in ${S==null?void 0:S.title}..."`:`  AI: "${T.data.description.substring(0,50)}..."`}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(fe,{onClick:C,disabled:!!c,className:"flex-1",children:c==="gen_bg"?" ...":"  "}),_&&_.startsWith("data:")&&m.jsx(fe,{onClick:A,variant:"secondary",disabled:!!c,className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white shadow-orange-200 animate-pulse font-black",children:c==="up_bg"?" ...":"   (!)"})]})]}),m.jsx("div",{className:"w-1/2 aspect-video bg-gray-100 rounded-xl overflow-hidden border-2 border-dashed border-gray-300 flex items-center justify-center relative group",children:_?m.jsxs(m.Fragment,{children:[m.jsx("img",{src:_,alt:"BG",className:"w-full h-full object-cover"}),_.startsWith("data:")&&m.jsx("div",{className:"absolute top-2 right-2 bg-orange-500 text-white text-xs px-2 py-1 rounded shadow animate-pulse",children:"  ()"})]}):m.jsx("span",{className:"text-gray-400",children:" "})})]})]}),!E&&m.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200",children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  ( )"}),g.length===0?m.jsx("p",{className:"text-gray-500",children:"   ."}):m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6",children:g.map(M=>{var L,O,Z;const k=!!((L=T.data.characterImages)!=null&&L[M]),b=k&&!((O=T.data.characterImages)!=null&&O[M].startsWith("data:"));return m.jsxs("div",{className:"border rounded-xl p-4 flex flex-col items-center gap-3 bg-gray-50 relative",children:[k&&!b&&m.jsx("div",{className:"absolute top-2 right-2 text-orange-500 text-xs font-bold animate-pulse",children:"  "}),m.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 overflow-hidden shadow-inner border-2 border-white",children:k?m.jsx("img",{src:(Z=T.data.characterImages)==null?void 0:Z[M],alt:M,className:"w-full h-full object-cover"}):m.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:""})}),m.jsx("div",{className:"font-bold text-gray-800",children:M}),m.jsxs("div",{className:"w-full flex flex-col gap-2",children:[m.jsx(fe,{variant:"outline",className:"text-xs py-1 px-3 w-full",onClick:()=>x(M),disabled:!!c,children:c===`gen_char_${M}`?"":" "}),k&&!b&&m.jsx(fe,{variant:"secondary",className:"text-xs py-1 px-3 w-full bg-orange-500 text-white hover:bg-orange-600",onClick:()=>P(M),disabled:!!c,children:c===`up_char_${M}`?"...":" "})]})]},M)})})]})]}),s==="CONTENT"&&!E&&m.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-200 space-y-6",children:m.jsxs("div",{children:[m.jsx("label",{className:"block font-bold mb-2 text-gray-700",children:"  ()"}),m.jsx("textarea",{className:"w-full p-4 border border-gray-300 rounded-xl h-32 focus:ring-2 focus:ring-blue-500",value:T.data.description,onChange:w})]})})]}):m.jsx("div",{className:"flex items-center justify-center h-full text-gray-400",children:"   "})})]})]})},GM=({currentLang:t,onLanguageChange:e,className:n=""})=>{const i=n.includes("bg-black")||n.includes("text-white"),o=n||"bg-white shadow-lg border border-gray-100";return m.jsx("div",{className:`flex gap-0.5 p-1 rounded-full ${o}`,children:["he","ar","en"].map(s=>{const u=t===s;let c="px-3 py-1 rounded-full text-xs font-bold transition-all duration-200 ";return i?u?c+="bg-white text-blue-900 shadow-sm":c+="text-white/80 hover:bg-white/10":u?c+="bg-blue-600 text-white shadow-md":c+="text-gray-600 hover:bg-gray-100 hover:text-blue-600",m.jsx("button",{onClick:()=>e(s),className:c,children:s==="he"?"":s==="ar"?"":"English"},s)})})},qM=()=>{const[t,e]=q.useState("he"),[n,i]=q.useState(!1),[r,o]=q.useState(!1),[s,u]=q.useState(!1),[c,d]=q.useState(!1),[f,p]=q.useState({currentNodeId:null,nodes:bo("he"),score:0,devMode:!1});q.useEffect(()=>{(async()=>{try{await My(Jl),console.log("Signed in anonymously to Firebase")}catch(v){console.error("Error signing in anonymously:",v)}})()},[]),q.useEffect(()=>{try{const g=localStorage.getItem(Al);if(g){const v=JSON.parse(g);if(!v||!Array.isArray(v.nodes))throw new Error("Invalid save data structure");const w=bo("he").map(C=>{var A,P,R;const x=v.nodes.find(B=>B.id===C.id);return x?{...C,isLocked:x.isLocked,isCompleted:x.isCompleted,data:{...C.data,backgroundImage:typeof((A=x.data)==null?void 0:A.backgroundImage)=="string"?x.data.backgroundImage:C.data.backgroundImage,characterImages:(P=x.data)!=null&&P.characterImages?x.data.characterImages:C.data.characterImages,subScenes:(R=x.data)!=null&&R.subScenes&&Array.isArray(x.data.subScenes)&&C.data.subScenes?C.data.subScenes.map(B=>{const W=x.data.subScenes.find(ee=>ee.id===B.id);return W?{...B,backgroundImage:W.backgroundImage||B.backgroundImage}:B}):C.data.subScenes}}:C});p(C=>({...C,nodes:w,score:typeof v.score=="number"?v.score:0}))}}catch(g){console.warn("Corrupted local save detected or empty. Starting fresh.",g)}},[]),q.useEffect(()=>{var g;try{const v={nodes:f.nodes.map(w=>{var C;return{id:w.id,isLocked:w.isLocked,isCompleted:w.isCompleted,data:{backgroundImage:w.data.backgroundImage,characterImages:w.data.characterImages,subScenes:(C=w.data.subScenes)==null?void 0:C.map(x=>({id:x.id,backgroundImage:x.backgroundImage}))}}}),score:f.score},I=JSON.stringify(v);localStorage.setItem(Al,I),n&&(console.log("Storage recovered. Size:",I.length),i(!1))}catch(v){v.name==="QuotaExceededError"||v.name==="NS_ERROR_DOM_QUOTA_REACHED"||(g=v.message)!=null&&g.includes("exceeded")?(console.error("LocalStorage Full! Cannot save changes.",v),i(!0)):console.error("Error saving state",v)}},[f]),q.useEffect(()=>{},[]),q.useEffect(()=>{const g=()=>{const I=window.innerWidth<1024,w=window.innerHeight>window.innerWidth;o(I&&w)};g(),window.addEventListener("resize",g),window.addEventListener("orientationchange",g);const v=()=>{d(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",v),()=>{window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g),document.removeEventListener("fullscreenchange",v)}},[]);const h=async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(g){console.error("Error toggling fullscreen:",g)}},y=J0(t),T=g=>{e(g);const I=bo(g).map(w=>{var x;const C=f.nodes.find(A=>A.id===w.id);return C?{...w,isLocked:C.isLocked,isCompleted:C.isCompleted,data:{...w.data,backgroundImage:C.data.backgroundImage||w.data.backgroundImage,characterImages:C.data.characterImages||w.data.characterImages,subScenes:(x=C.data)!=null&&x.subScenes&&w.data.subScenes?w.data.subScenes.map(A=>{const P=C.data.subScenes.find(R=>R.id===A.id);return P?{...A,backgroundImage:P.backgroundImage||A.backgroundImage}:A}):w.data.subScenes}}:w});p(w=>({...w,nodes:I}))},E=g=>{p(v=>({...v,currentNodeId:g}))},S=()=>{p(g=>{const v=g.nodes.findIndex(C=>C.id===g.currentNodeId),I=[...g.nodes];v!==-1&&(I[v].isCompleted=!0,v+1<I.length&&(I[v+1].isLocked=!1));let w="HUB";return g.currentNodeId==="city_hall"?w="intro_freedom_speech":g.currentNodeId==="newspaper_office"&&(w="supreme_court"),{...g,nodes:I,currentNodeId:w}})},_=f.nodes.find(g=>g.id===f.currentNodeId);if(f.devMode)return m.jsx(BM,{gameState:f,onUpdateGameState:p,onClose:()=>p(g=>({...g,devMode:!1})),isStorageFull:n});if(r&&!s)return m.jsxs("div",{className:"fixed inset-0 z-[100] bg-slate-900 flex flex-col items-center justify-center p-8 text-center",dir:y,children:[m.jsx("div",{className:"text-6xl mb-6 animate-rotate-phone",children:""}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:H("rotateDevice",t)}),m.jsx("p",{className:"text-gray-400 text-sm mb-8",children:"This game is designed for landscape mode."}),m.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[m.jsx(fe,{onClick:h,variant:"secondary",className:"text-sm",children:H(c?"exitFullScreen":"fullScreen",t)}),m.jsx("button",{onClick:()=>u(!0),className:"text-white/60 text-xs hover:text-white underline mt-6 transition-colors",children:"   (  )"})]})]});if(f.currentNodeId===null||_&&_.type===Y.INTRO){const g=f.nodes.find(v=>v.id==="intro")||f.nodes.find(v=>v.type===Y.INTRO);return g?m.jsxs("div",{className:"h-[100dvh] bg-slate-900 flex items-center justify-center p-4 relative overflow-hidden",dir:y,children:[g.data.backgroundImage&&m.jsxs("div",{className:"absolute inset-0 z-0 animate-fade-in",children:[m.jsx("img",{src:g.data.backgroundImage,className:"w-full h-full object-cover transition-transform duration-[30s] hover:scale-105",alt:"Intro Background",onError:v=>v.currentTarget.style.display="none"}),m.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]"})]}),m.jsxs("div",{className:"absolute top-4 left-4 z-20 flex gap-2",children:[m.jsx(GM,{currentLang:t,onLanguageChange:T,className:"!bg-black/30 border border-white/20"}),m.jsx("button",{onClick:h,className:"px-3 py-1 rounded-full text-xs font-bold transition-all duration-200 bg-black/30 border border-white/20 text-white hover:bg-white/20",title:H("fullScreen",t),children:c?"":""})]}),m.jsxs("div",{className:"relative z-10 w-full max-w-md bg-white/95 backdrop-blur-xl rounded-2xl shadow-2xl p-6 sm:p-8 text-center border border-white/20 animate-fade-in-up",children:[m.jsxs("div",{className:"mb-4",children:[m.jsx("h1",{className:"text-4xl sm:text-5xl font-black tracking-tight text-blue-900 drop-shadow-sm mb-2",children:H("gameTitle",t)}),m.jsx("div",{className:"h-1 w-16 bg-blue-500 mx-auto rounded-full"})]}),m.jsx("div",{className:"mb-6 text-gray-600 text-sm sm:text-base leading-relaxed font-medium",children:g.data.description}),m.jsx("div",{className:"flex flex-col items-center gap-3",children:m.jsx(fe,{onClick:()=>S(),className:"text-lg py-3 px-10 rounded-xl shadow-lg shadow-blue-200 bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600 transform transition-all hover:scale-105",children:H("start",t)})})]}),m.jsx("div",{className:"absolute bottom-4 text-white/40 text-xs font-mono z-10",children:"Neve Or Human Rights Simulator  2025"})]}):m.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-900 text-white",children:"Error: Intro content not found"})}return m.jsxs("div",{className:"w-full h-[100dvh] overflow-hidden",dir:y,children:[!f.currentNodeId&&m.jsx("div",{className:"fixed top-4 right-4 z-[60] opacity-50 hover:opacity-100 transition-opacity",children:m.jsx("button",{onClick:h,className:"bg-black/40 text-white w-8 h-8 rounded-full flex items-center justify-center border border-white/20",children:c?"":""})}),f.currentNodeId==="HUB"?m.jsx(Y0,{nodes:f.nodes,onNodeSelect:E,language:t,onLanguageChange:T,onOpenDevMode:()=>p(g=>({...g,devMode:!0})),onBackToIntro:()=>p(g=>({...g,currentNodeId:null}))}):_?m.jsx(X0,{node:_,onComplete:S,onBack:()=>p(g=>({...g,currentNodeId:"HUB"})),language:t}):m.jsx("div",{className:"flex items-center justify-center h-screen bg-slate-900 text-white",children:H("loading",t)})]})},fv=document.getElementById("root");if(!fv)throw new Error("Could not find root element to mount to");const zM=Da.createRoot(fv);zM.render(m.jsx(Mv.StrictMode,{children:m.jsx(qM,{})}));
